{
  "execution_time": 29.426420211791992,
  "analysis_approach": "final_working_vectorbt",
  "tested_symbols": [
    "0700.HK",
    "0005.HK",
    "0388.HK",
    "1211.HK",
    "0981.HK",
    "2015.HK",
    "0291.HK",
    "9888.HK",
    "0340.HK",
    "2018.HK"
  ],
  "tested_timeframes": [
    "5m",
    "10m"
  ],
  "working_config": {
    "test_timeframes": [
      "5m",
      "10m"
    ],
    "max_symbols": 10,
    "evaluation_mode": "cta",
    "min_ic_threshold": 0.005,
    "min_ir_threshold": 0.01,
    "min_sample_size": 10,
    "min_supporting_stocks": 2,
    "full_factor_pool": true,
    "debug_mode": true
  },
  "timeframe_results": {
    "5m": {
      "timeframe": "5m",
      "cta_results": "      symbol               factor  total_return  ...  signal_count                  data_quality  annual_factor\n0    0700.HK          skewness_60      0.159878  ...          2259              positive_returns      44.899889\n1    0700.HK   vol_term_structure      0.136421  ...          1851              positive_returns      44.899889\n2    0700.HK     volatility_ratio      0.171134  ...          1796              positive_returns      44.899889\n3    0700.HK              vw_macd      0.170326  ...          2268              positive_returns      44.899889\n4    0700.HK  drawdown_volatility      0.139435  ...          2142              positive_returns      44.899889\n..       ...                  ...           ...  ...           ...                           ...            ...\n485  2018.HK  vwap_deviation_rank      0.000000  ...             0  failed: 夏普率过低: -1.816 ≤ -1.0       1.000000\n486  2018.HK             aroon_up      0.000000  ...             0  failed: 夏普率过低: -1.677 ≤ -1.0       1.000000\n487  2018.HK              kama_14      0.000000  ...             0  failed: 夏普率过低: -1.500 ≤ -1.0       1.000000\n488  2018.HK           bb_squeeze      0.000000  ...             0  failed: 夏普率过低: -3.740 ≤ -1.0       1.000000\n489  2018.HK        parkinson_vol      0.000000  ...             0  failed: 夏普率过低: -1.530 ≤ -1.0       1.000000\n\n[490 rows x 14 columns]",
      "factor_ranking": "                  factor  sharpe_mean  total_return_mean  ...  signal_strength_mean  signal_count_mean  rank\n0                  rsi_2       0.0716             0.4056  ...                1.0103          1542.5000     1\n1        composite_alpha       0.0666             0.4162  ...                0.9918          1849.7500     2\n2       keltner_position       0.0637             0.3711  ...                1.1241          2197.5000     3\n3   mean_reversion_score       0.0558             0.2020  ...                1.0774          1838.6667     4\n4                 cci_14       0.0535             0.2940  ...                1.0314          1761.4000     5\n5    volume_ma_deviation       0.0529             0.1961  ...                0.8907          1827.2000     6\n6       volume_intensity       0.0529             0.1961  ...                0.8907          1827.2000     7\n7          macd_enhanced       0.0520             0.1645  ...                1.1241          2139.0000     8\n8            rsi_14_rank       0.0507             0.2335  ...                1.1742          1836.8000     9\n9       price_efficiency       0.0477             0.1889  ...                0.8948          1684.2000    10\n10                rsi_14       0.0474             0.1775  ...                1.1670          2226.4000    11\n11                   vpt       0.0468             0.2626  ...                1.4320          2492.8333    12\n12    zscore_momentum_20       0.0464             0.1493  ...                0.9678          1652.6667    13\n13                roc_12       0.0462             0.2130  ...                1.1251          2116.5000    14\n14        vwap_deviation       0.0454             0.2157  ...                1.1207          2177.6000    15\n15   drawdown_volatility       0.0447             0.2293  ...                1.2796          2199.6000    16\n16               trix_14       0.0440             0.1444  ...                1.3409          2878.8333    17\n17               dema_14       0.0425             0.1498  ...                1.4564          2674.6000    18\n18               vw_macd       0.0403             0.1527  ...                0.9517          2356.8000    19\n19               ad_line       0.0400             0.1582  ...                1.4381          2638.5000    20\n20        trend_strength       0.0395             0.1509  ...                1.1126          1896.2000    21\n21      aroon_oscillator       0.0394             0.1529  ...                1.0912          1710.0000    22\n22             stoch_rsi       0.0389             0.1381  ...                0.9950          1634.6000    23\n23             hl_spread       0.0388             0.1509  ...                0.9066          1824.4286    24\n24              iv_proxy       0.0388             0.1509  ...                0.9066          1824.4286    25\n25      smart_money_flow       0.0387             0.1901  ...                0.9448          1684.6667    26\n26   vwap_deviation_rank       0.0387             0.1365  ...                1.1183          1743.6000    27\n27                   cmf       0.0386             0.1013  ...                1.1324          1974.4000    28\n28    macd_enhanced_rank       0.0385             0.1257  ...                1.1305          1619.0000    29\n29          rsi_enhanced       0.0384             0.0837  ...                0.8986          1801.4000    30\n30    momentum_composite       0.0382             0.1692  ...                1.0039          1932.4000    31\n31      volatility_ratio       0.0382             0.1188  ...                1.0236          1762.3333    32\n32         parkinson_vol       0.0379             0.1357  ...                0.9064          1822.4286    33\n33               rsi_100       0.0370             0.2174  ...                1.3412          2493.2857    34\n34       liquidity_proxy       0.0363             0.1437  ...                1.1086          1768.1429    35\n35            price_jump       0.0357             0.2043  ...                0.9428          1648.3333    36\n36               kama_14       0.0346             0.0726  ...                1.5509          2872.0000    37\n37                 roc_5       0.0346             0.1582  ...                1.0216          1900.0000    38\n38           skewness_60       0.0345             0.1116  ...                1.4175          2259.0000    39\n39            aroon_down       0.0342             0.0504  ...                1.0748          1524.7500    40\n40                adx_14       0.0330             0.1196  ...                1.3100          2375.5000    41\n41    vol_term_structure       0.0319             0.1417  ...                1.0614          1856.0000    42\n42            bb_squeeze       0.0315             0.1312  ...                1.2162          2097.2857    43\n43                  atrp       0.0286             0.0828  ...                1.1970          2219.6250    44\n44              aroon_up       0.0274             0.0666  ...                1.0720          1526.1667    45\n45            volume_rsi       0.0255             0.0177  ...                0.9715          1812.0000    46\n46             atrp_rank       0.0244             0.0496  ...                1.2166          1907.4286    47\n47          atr_enhanced       0.0240             0.0403  ...                0.9730          1811.1667    48\n48               tema_14       0.0220             0.0608  ...                1.4024          2492.1429    49\n\n[49 rows x 13 columns]",
      "valid_factors": "                 factor  sharpe_mean  total_return_mean  ...  signal_strength_mean  signal_count_mean  rank\n0                 rsi_2       0.0716             0.4056  ...                1.0103          1542.5000     1\n1       composite_alpha       0.0666             0.4162  ...                0.9918          1849.7500     2\n2      keltner_position       0.0637             0.3711  ...                1.1241          2197.5000     3\n3  mean_reversion_score       0.0558             0.2020  ...                1.0774          1838.6667     4\n4                cci_14       0.0535             0.2940  ...                1.0314          1761.4000     5\n5   volume_ma_deviation       0.0529             0.1961  ...                0.8907          1827.2000     6\n6      volume_intensity       0.0529             0.1961  ...                0.8907          1827.2000     7\n7         macd_enhanced       0.0520             0.1645  ...                1.1241          2139.0000     8\n8           rsi_14_rank       0.0507             0.2335  ...                1.1742          1836.8000     9\n\n[9 rows x 13 columns]",
      "summary": {
        "tested_symbols": 10,
        "tested_factors": 49,
        "total_evaluations": 490,
        "valid_factors_count": 9,
        "best_factor": "rsi_2",
        "best_sharpe": 0.0716
      }
    },
    "10m": {
      "timeframe": "10m",
      "cta_results": "      symbol               factor  total_return  ...  signal_count                  data_quality  annual_factor\n0    0700.HK      momentum_regime      0.001606  ...           718              positive_returns      44.899889\n1    0700.HK          skewness_60      0.068544  ...          1292              positive_returns      44.899889\n2    0700.HK   vol_term_structure      0.084635  ...           814              positive_returns      44.899889\n3    0700.HK     volatility_ratio      0.248449  ...           869              positive_returns      44.899889\n4    0700.HK              vw_macd      0.054064  ...          1413              positive_returns      44.899889\n..       ...                  ...           ...  ...           ...                           ...            ...\n515  2018.HK  vwap_deviation_rank      0.000000  ...             0  failed: 夏普率过低: -2.028 ≤ -1.0       1.000000\n516  2018.HK             aroon_up     -0.136409  ...           779                  needs_review      44.899889\n517  2018.HK              kama_14      0.000000  ...             0  failed: 夏普率过低: -2.807 ≤ -1.0       1.000000\n518  2018.HK           bb_squeeze      0.000000  ...             0  failed: 夏普率过低: -2.053 ≤ -1.0       1.000000\n519  2018.HK        parkinson_vol      0.000000  ...             0  failed: 夏普率过低: -1.949 ≤ -1.0       1.000000\n\n[520 rows x 14 columns]",
      "factor_ranking": "                  factor  sharpe_mean  total_return_mean  ...  signal_strength_mean  signal_count_mean  rank\n0          parkinson_vol       0.0601             0.3943  ...                0.8708           839.0000     1\n1              hl_spread       0.0584             0.3623  ...                0.8707           834.3333     2\n2               iv_proxy       0.0584             0.3623  ...                0.8707           834.3333     3\n3    volume_ma_deviation       0.0520             0.1580  ...                0.8736           838.0000     4\n4       volume_intensity       0.0520             0.1580  ...                0.8736           838.0000     5\n5                ad_line       0.0452             0.1262  ...                1.3820          1244.4000     6\n6    vwap_deviation_rank       0.0447             0.1385  ...                1.1827           946.2000     7\n7       volatility_ratio       0.0445             0.1538  ...                0.9986           847.6000     8\n8                 rsi_14       0.0431             0.1265  ...                1.2137          1177.0000     9\n9       price_efficiency       0.0423             0.1492  ...                0.8489           809.5000    10\n10                mfi_14       0.0422             0.1482  ...                1.1893          1108.8333    11\n11            volume_rsi       0.0416             0.1631  ...                0.9325           852.8333    12\n12                 rsi_2       0.0412             0.1266  ...                1.0124           802.8333    13\n13      smart_money_flow       0.0410             0.1136  ...                0.9327           861.6000    14\n14        trend_strength       0.0388             0.0915  ...                1.1329           955.8000    15\n15               kama_14       0.0384             0.1021  ...                1.5735          1475.5714    16\n16            bb_squeeze       0.0373             0.1519  ...                1.2524          1045.0000    17\n17           rsi_14_rank       0.0362             0.0886  ...                1.2287           983.2857    18\n18                adx_14       0.0354             0.0913  ...                1.3707          1301.2000    19\n19      keltner_position       0.0353             0.0899  ...                1.1662          1238.0000    20\n20                 roc_5       0.0346             0.0908  ...                1.0346          1011.2000    21\n21    momentum_composite       0.0326             0.1165  ...                1.0080           931.4286    22\n22       composite_alpha       0.0322             0.1158  ...                0.9876           974.5714    23\n23              aroon_up       0.0314             0.0716  ...                1.1082           795.7143    24\n24             stoch_rsi       0.0313             0.0813  ...                0.9968           785.8333    25\n25                   cmf       0.0307             0.0501  ...                1.2261          1100.1250    26\n26                   vpt       0.0304             0.0492  ...                1.3956          1128.8333    27\n27       momentum_regime       0.0301             0.1066  ...                0.8474           756.1667    28\n28    zscore_momentum_20       0.0289             0.0911  ...                0.9464           851.5000    29\n29            price_jump       0.0284             0.0459  ...                0.9123           821.1667    30\n30             atrp_rank       0.0280             0.1028  ...                1.1627           924.8571    31\n31    vol_term_structure       0.0277             0.0449  ...                1.0049           822.1667    32\n32        vwap_deviation       0.0275             0.0714  ...                1.1731          1216.0000    33\n33          rsi_enhanced       0.0270             0.0614  ...                0.8923           879.4000    34\n34      aroon_oscillator       0.0264             0.0464  ...                1.1375           936.3333    35\n35               rsi_100       0.0261             0.0456  ...                1.3315          1216.7143    36\n36          atr_enhanced       0.0253             0.0568  ...                0.9455           869.8333    37\n37         macd_enhanced       0.0249             0.0351  ...                1.1949          1258.3333    38\n38              willr_14       0.0234             0.0933  ...                1.1195           895.2857    39\n39    macd_enhanced_rank       0.0227             0.0474  ...                1.1982           913.8333    40\n40  mean_reversion_score       0.0225             0.0526  ...                1.1152          1053.7143    41\n41               trix_14       0.0212             0.0315  ...                1.4420          1535.0000    42\n42       liquidity_proxy       0.0206             0.0548  ...                1.4311           748.6000    43\n43                roc_12       0.0201             0.0258  ...                1.1605          1172.8571    44\n44                cci_14       0.0192             0.0079  ...                1.0566           962.0000    45\n45                  atrp       0.0187             0.0548  ...                1.1555          1136.1667    46\n46            aroon_down       0.0154             0.0230  ...                1.0847           790.0000    47\n47   drawdown_volatility       0.0146            -0.0031  ...                1.3555          1144.2000    48\n48               vw_macd       0.0116            -0.0102  ...                1.0204          1478.2500    49\n49           skewness_60       0.0096            -0.0287  ...                1.3853          1236.1429    50\n50               tema_14       0.0081            -0.0232  ...                1.4155          1299.6667    51\n51               dema_14       0.0075            -0.0282  ...                1.4734          1405.1250    52\n\n[52 rows x 13 columns]",
      "valid_factors": "                factor  sharpe_mean  total_return_mean  ...  signal_strength_mean  signal_count_mean  rank\n0        parkinson_vol       0.0601             0.3943  ...                0.8708           839.0000     1\n1            hl_spread       0.0584             0.3623  ...                0.8707           834.3333     2\n2             iv_proxy       0.0584             0.3623  ...                0.8707           834.3333     3\n3  volume_ma_deviation       0.0520             0.1580  ...                0.8736           838.0000     4\n4     volume_intensity       0.0520             0.1580  ...                0.8736           838.0000     5\n\n[5 rows x 13 columns]",
      "summary": {
        "tested_symbols": 10,
        "tested_factors": 52,
        "total_evaluations": 520,
        "valid_factors_count": 5,
        "best_factor": "parkinson_vol",
        "best_sharpe": 0.0601
      }
    }
  }
}