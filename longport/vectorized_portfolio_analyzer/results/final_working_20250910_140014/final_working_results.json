{
  "execution_time": 206.39309787750244,
  "analysis_approach": "final_working_vectorbt",
  "tested_symbols": [
    "0700.HK",
    "0005.HK",
    "0388.HK",
    "1211.HK",
    "0981.HK",
    "2015.HK",
    "0291.HK",
    "9888.HK",
    "0340.HK",
    "2018.HK"
  ],
  "tested_timeframes": [
    "1m",
    "2m",
    "3m",
    "5m",
    "10m",
    "15m",
    "30m",
    "1h",
    "4h",
    "1d"
  ],
  "working_config": {
    "test_timeframes": [
      "1m",
      "2m",
      "3m",
      "5m",
      "10m",
      "15m",
      "30m",
      "1h",
      "4h",
      "1d"
    ],
    "max_symbols": 10,
    "evaluation_mode": "cta",
    "min_ic_threshold": 0.005,
    "min_ir_threshold": 0.01,
    "min_sample_size": 10,
    "min_supporting_stocks": 2,
    "full_factor_pool": true,
    "debug_mode": true
  },
  "timeframe_results": {
    "1m": {
      "timeframe": "1m",
      "cta_results": "      symbol               factor  total_return    sharpe  raw_sharpe  win_rate  ...  trades  avg_trade_return  signal_strength  signal_count                  data_quality  annual_factor\n0    0700.HK  volume_ma_deviation      0.164905  0.026022    2.612586  0.530612  ...      49          0.003570         0.815488          8231              positive_returns     100.399203\n1    0700.HK     volume_intensity      0.164905  0.026022    2.612586  0.530612  ...      49          0.003570         0.815488          8231              positive_returns     100.399203\n2    0700.HK   zscore_momentum_20      0.080009  0.015338    1.539936  0.489362  ...      47          0.002072         0.982966          8200              positive_returns     100.399203\n3    0700.HK      liquidity_proxy      0.084709  0.015917    1.598075  0.500000  ...      46          0.002241         0.497056         11694              positive_returns     100.399203\n4    0700.HK     aroon_oscillator      0.099741  0.017914    1.798554  0.500000  ...      46          0.002531         1.042486          8667              positive_returns     100.399203\n..       ...                  ...           ...       ...         ...       ...  ...     ...               ...              ...           ...                           ...            ...\n485  2018.HK     keltner_position      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 夏普率过低: -2.535 ≤ -1.0       1.000000\n486  2018.HK     smart_money_flow      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 夏普率过低: -1.843 ≤ -1.0       1.000000\n487  2018.HK                rsi_2      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 夏普率过低: -2.942 ≤ -1.0       1.000000\n488  2018.HK           bb_squeeze      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 夏普率过低: -2.318 ≤ -1.0       1.000000\n489  2018.HK                  cmf      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 夏普率过低: -3.797 ≤ -1.0       1.000000\n\n[490 rows x 14 columns]",
      "factor_ranking": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0              atrp_rank       0.0313             0.2970           3.1417         0.5009  ...         486                 0.0034                1.3164         10914.7500     1\n1            rsi_14_rank       0.0275             0.2213           2.7603         0.5023  ...         542                 0.0032                1.1003          8401.0000     2\n2             price_jump       0.0275             0.3170           2.7574         0.5112  ...         543                 0.0028                0.9583          9580.0000     3\n3                 adx_14       0.0225             0.1922           2.2572         0.4839  ...         627                 0.0024                1.2162         11004.6667     4\n4               aroon_up       0.0211             0.1818           2.1181         0.4836  ...         647                 0.0023                1.0377          7845.0000     5\n5                kama_14       0.0208             0.1925           2.0837         0.4851  ...         644                 0.0023                1.4627         13385.0000     6\n6                  roc_5       0.0204             0.1988           2.0432         0.4959  ...         645                 0.0023                0.9687          8941.0000     7\n7         trend_strength       0.0201             0.1860           2.0158         0.4800  ...         705                 0.0021                1.0267          9505.1667     8\n8         vwap_deviation       0.0197             0.3159           1.9792         0.4857  ...         723                 0.0018                1.0531          9787.5000     9\n9     vol_term_structure       0.0192             0.1840           1.9289         0.4900  ...         650                 0.0019                1.0189          8432.0000    10\n10                cci_14       0.0182             0.2574           1.8284         0.4863  ...         723                 0.0018                1.0035          8399.1667    11\n11   vwap_deviation_rank       0.0179             0.1812           1.7983         0.4812  ...         676                 0.0018                1.0637          7984.1667    12\n12      price_efficiency       0.0178             0.3456           1.7876         0.4772  ...         710                 0.0014                0.9278          8459.8333    13\n13      aroon_oscillator       0.0174             0.2600           1.7497         0.4858  ...         669                 0.0017                1.0436          8630.1667    14\n14               vw_macd       0.0173             0.1627           1.7375         0.4843  ...         744                 0.0018                0.8060          9741.0000    15\n15    macd_enhanced_rank       0.0168             0.0990           1.6904         0.4788  ...         853                 0.0020                1.0669          8119.0000    16\n16         macd_enhanced       0.0166             0.1598           1.6655         0.4819  ...         721                 0.0016                1.0182         11124.0000    17\n17           skewness_60       0.0164             0.0701           1.6416         0.4813  ...         638                 0.0019                1.2614         12079.1667    18\n18                rsi_14       0.0163             0.1526           1.6342         0.4783  ...         665                 0.0017                1.0992          9874.8333    19\n19            aroon_down       0.0163             0.1293           1.6364         0.4874  ...         589                 0.0017                1.0407          7905.6000    20\n20    momentum_composite       0.0161             0.1361           1.6155         0.4832  ...         700                 0.0017                1.0034          9258.1667    21\n21      volume_intensity       0.0160             0.1590           1.6032         0.4890  ...         673                 0.0016                0.8185          8601.6667    22\n22   volume_ma_deviation       0.0160             0.1590           1.6032         0.4890  ...         673                 0.0016                0.8185          8601.6667    23\n23  mean_reversion_score       0.0160             0.1743           1.6030         0.4808  ...         723                 0.0016                1.0289          8376.3333    24\n24          atr_enhanced       0.0159             0.1690           1.5965         0.4817  ...         733                 0.0014                0.9837          9109.1667    25\n25      keltner_position       0.0156             0.0991           1.5649         0.4887  ...         557                 0.0017                1.0582          9306.0000    26\n26      smart_money_flow       0.0154             0.1434           1.5490         0.4804  ...         742                 0.0015                0.9416          9520.0000    27\n27               rsi_100       0.0153             0.1671           1.5335         0.4759  ...         767                 0.0015                1.2953         12582.1667    28\n28                   cmf       0.0152             0.0831           1.5275         0.4928  ...         300                 0.0018                1.0948          8646.0000    29\n29    zscore_momentum_20       0.0151             0.1811           1.5117         0.4761  ...         716                 0.0013                0.9686          8108.6667    30\n30       liquidity_proxy       0.0149             0.0726           1.4981         0.4883  ...         621                 0.0016                0.5864         12926.6000    31\n31               dema_14       0.0148             0.1649           1.4877         0.4804  ...         668                 0.0015                1.3855         12662.1667    32\n32                roc_12       0.0146             0.1847           1.4706         0.4758  ...         738                 0.0013                1.0428          9578.0000    33\n33                 rsi_2       0.0141             0.0873           1.4113         0.4826  ...         635                 0.0015                1.0115          7563.6667    34\n34   drawdown_volatility       0.0139             0.1344           1.3936         0.4825  ...         729                 0.0014                1.2091         11265.0000    35\n35                  atrp       0.0138             0.1555           1.3897         0.4781  ...         647                 0.0013                1.2423         13529.0000    36\n36               tema_14       0.0134             0.1488           1.3423         0.4737  ...         779                 0.0013                1.3542         12307.5000    37\n37      volatility_ratio       0.0131             0.0864           1.3193         0.4777  ...         666                 0.0014                1.0105          8286.6667    38\n38               trix_14       0.0130             0.1291           1.3031         0.4812  ...         681                 0.0012                1.2081         11730.0000    39\n39            volume_rsi       0.0127             0.0702           1.2702         0.4821  ...         696                 0.0013                0.9124          8248.5000    40\n40       composite_alpha       0.0124             0.0650           1.2402         0.4800  ...         717                 0.0013                0.9734          8880.6667    41\n41             hl_spread       0.0123             0.1487           1.2301         0.4735  ...         905                 0.0011                0.9374         10433.4286    42\n42              iv_proxy       0.0123             0.1487           1.2301         0.4735  ...         905                 0.0011                0.9374         10433.4286    43\n43             stoch_rsi       0.0121             0.0351           1.2110         0.4837  ...         671                 0.0015                0.9972          8993.5000    44\n44                   vpt       0.0121             0.0816           1.2164         0.4642  ...         607                 0.0010                1.4350         13369.2000    45\n45         parkinson_vol       0.0119             0.1344           1.1984         0.4730  ...         910                 0.0011                0.9373         10429.0000    46\n46               ad_line       0.0111             0.0869           1.1109         0.4736  ...         662                 0.0010                1.4560         13507.1667    47\n47            bb_squeeze       0.0110             0.0949           1.1076         0.4762  ...         788                 0.0010                1.1251         10939.2857    48\n48          rsi_enhanced       0.0085             0.0155           0.8501         0.4695  ...         810                 0.0009                0.8377          8626.0000    49\n\n[49 rows x 13 columns]",
      "valid_factors": "Empty DataFrame\nColumns: [factor, sharpe_mean, total_return_mean, raw_sharpe_mean, win_rate_mean, profit_loss_ratio_mean, max_drawdown_mean, trades_mean, trades_sum, avg_trade_return_mean, signal_strength_mean, signal_count_mean, rank]\nIndex: []",
      "summary": {
        "tested_symbols": 10,
        "tested_factors": 49,
        "total_evaluations": 490,
        "valid_factors_count": 0,
        "best_factor": "atrp_rank",
        "best_sharpe": 0.0313
      }
    },
    "2m": {
      "timeframe": "2m",
      "cta_results": "      symbol               factor  total_return    sharpe  raw_sharpe  win_rate  ...  trades  avg_trade_return  signal_strength  signal_count                  data_quality  annual_factor\n0    0700.HK  volume_ma_deviation      0.098123  0.040619    1.823798  0.500000  ...      52          0.002249         0.929035          4613              positive_returns      44.899889\n1    0700.HK     volume_intensity      0.098123  0.040619    1.823798  0.500000  ...      52          0.002249         0.929035          4613              positive_returns      44.899889\n2    0700.HK   zscore_momentum_20      0.078090  0.034351    1.542344  0.490196  ...      51          0.001919         0.979353          4147              positive_returns      44.899889\n3    0700.HK      liquidity_proxy      0.144077  0.063187    2.837067  0.515152  ...      33          0.004474         2.804564           623              positive_returns      44.899889\n4    0700.HK     aroon_oscillator      0.039771  0.022635    1.016299  0.489796  ...      49          0.001261         1.148102          4706              positive_returns      44.899889\n..       ...                  ...           ...       ...         ...       ...  ...     ...               ...              ...           ...                           ...            ...\n485  2018.HK     keltner_position      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 夏普率过低: -2.504 ≤ -1.0       1.000000\n486  2018.HK     smart_money_flow      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 夏普率过低: -2.136 ≤ -1.0       1.000000\n487  2018.HK                rsi_2      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 夏普率过低: -2.126 ≤ -1.0       1.000000\n488  2018.HK           bb_squeeze      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 夏普率过低: -4.519 ≤ -1.0       1.000000\n489  2018.HK                  cmf     -0.228229 -0.017823   -0.800261  0.423611  ...     144         -0.000870         1.150022          5000                  needs_review      44.899889\n\n[490 rows x 14 columns]",
      "factor_ranking": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0       price_efficiency       0.0560             0.3690           2.5153         0.4793  ...         502                 0.0022                0.9471          4245.2500     1\n1     vol_term_structure       0.0552             0.2556           2.4799         0.4989  ...         468                 0.0023                1.0908          4625.7500     2\n2                trix_14       0.0548             0.4150           2.4616         0.4734  ...         524                 0.0019                1.4410          7377.7500     3\n3              stoch_rsi       0.0493             0.1654           2.2149         0.4871  ...         513                 0.0022                0.9975          4010.7500     4\n4             bb_squeeze       0.0480             0.3344           2.1540         0.4977  ...         532                 0.0020                1.3064          6023.2000     5\n5            skewness_60       0.0456             0.2443           2.0478         0.4852  ...         556                 0.0019                1.3744          6895.0000     6\n6             aroon_down       0.0452             0.2826           2.0297         0.4973  ...         563                 0.0021                1.1418          3957.0000     7\n7        composite_alpha       0.0452             0.2128           2.0273         0.4726  ...         532                 0.0017                1.0087          4736.5000     8\n8             price_jump       0.0450             0.2037           2.0197         0.4754  ...         661                 0.0018                0.9715          4243.0000     9\n9       volume_intensity       0.0448             0.1289           2.0116         0.4789  ...         599                 0.0024                0.9044          4482.8333    10\n10   volume_ma_deviation       0.0448             0.1289           2.0116         0.4789  ...         599                 0.0024                0.9044          4483.0000    11\n11      aroon_oscillator       0.0440             0.2998           1.9734         0.4980  ...         655                 0.0019                1.1460          4786.5000    12\n12                rsi_14       0.0436             0.2858           1.9576         0.4830  ...         631                 0.0018                1.1879          5644.5000    13\n13                  atrp       0.0426             0.1455           1.9123         0.4792  ...         642                 0.0020                1.3517          6902.3333    14\n14          atr_enhanced       0.0424             0.1571           1.9023         0.4726  ...         644                 0.0020                0.9879          4361.5000    15\n15                roc_12       0.0422             0.2612           1.8964         0.4841  ...         647                 0.0018                1.1560          5458.6667    16\n16               kama_14       0.0420             0.2969           1.8852         0.4813  ...         594                 0.0017                1.5620          7473.8333    17\n17                 rsi_2       0.0418             0.1746           1.8753         0.4982  ...         512                 0.0020                1.0225          3910.8000    18\n18   vwap_deviation_rank       0.0416             0.1901           1.8685         0.4991  ...         688                 0.0021                1.1653          4566.8333    19\n19               tema_14       0.0409             0.2869           1.8353         0.4772  ...         622                 0.0016                1.3829          6588.3333    20\n20                adx_14       0.0381             0.2025           1.7094         0.4825  ...         596                 0.0016                1.3870          6511.6667    21\n21   drawdown_volatility       0.0381             0.2100           1.7116         0.4818  ...         636                 0.0016                1.4055          6440.6667    22\n22       liquidity_proxy       0.0378             0.1772           1.6969         0.4664  ...         559                 0.0016                1.0642          4843.2000    23\n23             atrp_rank       0.0377             0.1098           1.6938         0.4810  ...         596                 0.0018                1.3952          6399.1667    24\n24                 roc_5       0.0375             0.2065           1.6838         0.4854  ...         644                 0.0016                1.0429          4706.8333    25\n25           rsi_14_rank       0.0372             0.2412           1.6688         0.4847  ...         594                 0.0015                1.1968          4751.5000    26\n26    macd_enhanced_rank       0.0363             0.1259           1.6281         0.4985  ...         532                 0.0018                1.2126          4492.6000    27\n27  mean_reversion_score       0.0363             0.1488           1.6278         0.4871  ...         554                 0.0017                1.1106          4956.6000    28\n28               rsi_100       0.0361             0.2618           1.6215         0.4852  ...         634                 0.0014                1.2996          6147.8333    29\n29                cci_14       0.0357             0.1026           1.6036         0.4884  ...         546                 0.0018                1.0626          4654.4000    30\n30    zscore_momentum_20       0.0356             0.1427           1.5976         0.4794  ...         561                 0.0015                0.9692          4094.0000    31\n31      keltner_position       0.0353             0.1413           1.5870         0.4830  ...         723                 0.0015                1.1695          5687.1667    32\n32      smart_money_flow       0.0346             0.1359           1.5552         0.4792  ...         570                 0.0015                0.9614          4351.6000    33\n33          rsi_enhanced       0.0344             0.1211           1.5455         0.4818  ...         586                 0.0017                0.9059          4448.6667    34\n34      volatility_ratio       0.0334             0.1463           1.4987         0.4688  ...         565                 0.0014                1.0514          4449.6000    35\n35              iv_proxy       0.0328             0.2000           1.4728         0.4581  ...         593                 0.0010                0.9593          4853.0000    36\n36             hl_spread       0.0328             0.2000           1.4728         0.4581  ...         593                 0.0010                0.9593          4853.0000    37\n37               vw_macd       0.0326             0.1382           1.4654         0.4845  ...         634                 0.0015                0.9760          6668.8333    38\n38         parkinson_vol       0.0325             0.1944           1.4590         0.4581  ...         593                 0.0010                0.9593          4847.0000    39\n39    momentum_composite       0.0319             0.0640           1.4325         0.4852  ...         620                 0.0017                1.0076          4569.6667    40\n40                   vpt       0.0314             0.1699           1.4091         0.4684  ...         609                 0.0012                1.3853          6604.6667    41\n41         macd_enhanced       0.0312             0.1429           1.3992         0.4828  ...         627                 0.0013                1.2187          6112.8333    42\n42               dema_14       0.0297             0.1823           1.3324         0.4613  ...         696                 0.0011                1.4460          7054.8333    43\n43        vwap_deviation       0.0283             0.1693           1.2693         0.4740  ...        1083                 0.0012                1.1662          5676.8889    44\n44               ad_line       0.0264             0.1265           1.1833         0.4724  ...         610                 0.0010                1.4037          6499.0000    45\n45        trend_strength       0.0261             0.1618           1.1701         0.4713  ...         752                 0.0010                1.1580          4951.8571    46\n46            volume_rsi       0.0236             0.0955           1.0617         0.4734  ...         778                 0.0010                0.9539          4555.8571    47\n47              aroon_up       0.0236             0.1015           1.0599         0.4798  ...         825                 0.0010                1.1377          3980.8750    48\n48                   cmf       0.0118            -0.0195           0.5290         0.4775  ...         554                 0.0007                1.2018          5416.2857    49\n\n[49 rows x 13 columns]",
      "valid_factors": "               factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0    price_efficiency       0.0560             0.3690           2.5153         0.4793  ...         502                 0.0022                0.9471            4245.25     1\n1  vol_term_structure       0.0552             0.2556           2.4799         0.4989  ...         468                 0.0023                1.0908            4625.75     2\n2             trix_14       0.0548             0.4150           2.4616         0.4734  ...         524                 0.0019                1.4410            7377.75     3\n\n[3 rows x 13 columns]",
      "summary": {
        "tested_symbols": 10,
        "tested_factors": 49,
        "total_evaluations": 490,
        "valid_factors_count": 3,
        "best_factor": "price_efficiency",
        "best_sharpe": 0.056
      }
    },
    "3m": {
      "timeframe": "3m",
      "cta_results": "      symbol               factor  total_return    sharpe  raw_sharpe  win_rate  ...  trades  avg_trade_return  signal_strength  signal_count                  data_quality  annual_factor\n0    0700.HK  volume_ma_deviation      0.174140  0.064118    2.878902  0.538462  ...      39          0.004620         0.933470          3132              positive_returns      44.899889\n1    0700.HK     volume_intensity      0.174140  0.064118    2.878902  0.538462  ...      39          0.004620         0.933470          3132              positive_returns      44.899889\n2    0700.HK   zscore_momentum_20      0.245749  0.084292    3.784716  0.520000  ...      50          0.004860         0.980034          2797              positive_returns      44.899889\n3    0700.HK      liquidity_proxy      0.155585  0.067864    3.047081  0.500000  ...      40          0.004024         2.443501          1363              positive_returns      44.899889\n4    0700.HK     aroon_oscillator      0.122404  0.048855    2.193578  0.490566  ...      53          0.002627         1.144605          3051              positive_returns      44.899889\n..       ...                  ...           ...       ...         ...       ...  ...     ...               ...              ...           ...                           ...            ...\n485  2018.HK     keltner_position      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 夏普率过低: -2.058 ≤ -1.0       1.000000\n486  2018.HK     smart_money_flow      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 夏普率过低: -1.679 ≤ -1.0       1.000000\n487  2018.HK                rsi_2      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 夏普率过低: -1.230 ≤ -1.0       1.000000\n488  2018.HK           bb_squeeze      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 夏普率过低: -2.508 ≤ -1.0       1.000000\n489  2018.HK                  cmf     -0.181462 -0.009739   -0.437288  0.439716  ...     141         -0.000455         1.242041          3827                  needs_review      44.899889\n\n[490 rows x 14 columns]",
      "factor_ranking": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0        composite_alpha       0.0651             0.4949           2.9230         0.4806  ...         477                 0.0026                1.0169          3205.7500     1\n1           atr_enhanced       0.0610             0.2416           2.7392         0.5014  ...         515                 0.0030                0.9912          3009.6000     2\n2       volatility_ratio       0.0587             0.2132           2.6375         0.4925  ...         561                 0.0029                1.0537          3001.3333     3\n3               aroon_up       0.0559             0.3334           2.5078         0.4958  ...         572                 0.0027                1.1335          2672.5000     4\n4       aroon_oscillator       0.0510             0.3060           2.2883         0.4781  ...         581                 0.0021                1.1415          3148.8000     5\n5                 cci_14       0.0507             0.3570           2.2744         0.4742  ...         542                 0.0020                1.0653          3118.0000     6\n6   mean_reversion_score       0.0502             0.3486           2.2532         0.4786  ...         526                 0.0020                1.1148          3295.0000     7\n7     momentum_composite       0.0487             0.2343           2.1846         0.4847  ...         547                 0.0022                1.0072          3026.6000     8\n8             aroon_down       0.0462             0.1557           2.0733         0.4980  ...         447                 0.0024                1.1388          2660.8000     9\n9                 roc_12       0.0457             0.4249           2.0514         0.4765  ...         659                 0.0017                1.1662          3759.5000    10\n10                  atrp       0.0439             0.2031           1.9699         0.4838  ...         694                 0.0021                1.3775          4512.4286    11\n11    vol_term_structure       0.0432             0.1322           1.9404         0.4833  ...         675                 0.0022                1.1126          3252.4286    12\n12    zscore_momentum_20       0.0424             0.2125           1.9015         0.4899  ...         759                 0.0019                0.9763          2763.4286    13\n13                rsi_14       0.0414             0.2810           1.8610         0.4763  ...         666                 0.0017                1.1998          3822.5000    14\n14               tema_14       0.0412             0.1988           1.8487         0.4718  ...         555                 0.0017                1.3909          4373.8000    15\n15               dema_14       0.0393             0.1691           1.7625         0.4749  ...         621                 0.0017                1.4520          4717.4000    16\n16             stoch_rsi       0.0379             0.0738           1.7027         0.4775  ...         471                 0.0019                0.9976          2643.2500    17\n17         macd_enhanced       0.0377             0.1227           1.6936         0.4797  ...         844                 0.0019                1.2339          4195.5000    18\n18      price_efficiency       0.0360             0.1569           1.6144         0.4673  ...         713                 0.0014                0.9433          2875.0000    19\n19            bb_squeeze       0.0358             0.0979           1.6084         0.4728  ...         683                 0.0018                1.3242          4126.7143    20\n20                 rsi_2       0.0352             0.1283           1.5816         0.4697  ...         515                 0.0016                1.0190          2635.2000    21\n21      smart_money_flow       0.0341             0.1781           1.5305         0.4728  ...         663                 0.0014                0.9598          2850.6667    22\n22   volume_ma_deviation       0.0336             0.1086           1.5089         0.4739  ...         684                 0.0016                0.9255          3063.0000    23\n23      volume_intensity       0.0336             0.1086           1.5089         0.4739  ...         684                 0.0016                0.9255          3063.0000    24\n24                 roc_5       0.0330             0.2178           1.4797         0.4664  ...         989                 0.0012                1.0516          3272.0000    25\n25               vw_macd       0.0328             0.1028           1.4744         0.4838  ...         662                 0.0016                1.0050          4434.1667    26\n26       liquidity_proxy       0.0324             0.0778           1.4534         0.4691  ...         537                 0.0015                0.9631          3477.6000    27\n27               trix_14       0.0320             0.0795           1.4373         0.4640  ...         539                 0.0015                1.4463          4959.2000    28\n28             atrp_rank       0.0316             0.1800           1.4183         0.4676  ...         445                 0.0011                1.4000          3961.2500    29\n29      keltner_position       0.0316             0.1499           1.4191         0.4833  ...         672                 0.0015                1.1818          3902.7143    30\n30         parkinson_vol       0.0310             0.1218           1.3939         0.4657  ...         728                 0.0013                0.9575          3317.1667    31\n31               ad_line       0.0309             0.1129           1.3861         0.4846  ...         847                 0.0015                1.4053          4453.1250    32\n32        vwap_deviation       0.0308             0.1728           1.3825         0.4674  ...         814                 0.0012                1.1699          3879.1429    33\n33               kama_14       0.0306             0.0260           1.3739         0.4706  ...         584                 0.0017                1.5650          4923.8333    34\n34              iv_proxy       0.0303             0.1138           1.3619         0.4650  ...         727                 0.0012                0.9576          3319.5000    35\n35             hl_spread       0.0303             0.1138           1.3619         0.4650  ...         727                 0.0012                0.9576          3319.5000    36\n36               rsi_100       0.0295             0.1070           1.3232         0.4688  ...         663                 0.0012                1.3159          4173.1667    37\n37           skewness_60       0.0295             0.0830           1.3266         0.4924  ...         685                 0.0015                1.3717          4587.5714    38\n38          rsi_enhanced       0.0289             0.0777           1.2973         0.4712  ...         697                 0.0013                0.9255          3022.5000    39\n39                adx_14       0.0259             0.0712           1.1632         0.4652  ...         624                 0.0011                1.3960          4399.8333    40\n40   drawdown_volatility       0.0256             0.1159           1.1498         0.4772  ...         676                 0.0011                1.4152          4411.0000    41\n41                   cmf       0.0236             0.0207           1.0617         0.4668  ...         316                 0.0012                1.2359          3820.5000    42\n42                   vpt       0.0224             0.0618           1.0074         0.4643  ...         687                 0.0008                1.3904          4505.0000    43\n43           rsi_14_rank       0.0223             0.1052           1.0028         0.4578  ...         642                 0.0008                1.2062          3190.1667    44\n44    macd_enhanced_rank       0.0211             0.0778           0.9464         0.4683  ...         533                 0.0008                1.2258          3051.2000    45\n45            volume_rsi       0.0206             0.0248           0.9228         0.4775  ...         696                 0.0012                0.9724          3213.2857    46\n46            price_jump       0.0199             0.0325           0.8957         0.4743  ...         855                 0.0010                0.9728          2842.8750    47\n47   vwap_deviation_rank       0.0169             0.0161           0.7602         0.4638  ...         666                 0.0007                1.1723          3102.6667    48\n48        trend_strength       0.0134            -0.0128           0.6029         0.4623  ...         817                 0.0007                1.1680          3370.8571    49\n\n[49 rows x 13 columns]",
      "valid_factors": "                 factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0       composite_alpha       0.0651             0.4949           2.9230         0.4806  ...         477                 0.0026                1.0169          3205.7500     1\n1          atr_enhanced       0.0610             0.2416           2.7392         0.5014  ...         515                 0.0030                0.9912          3009.6000     2\n2      volatility_ratio       0.0587             0.2132           2.6375         0.4925  ...         561                 0.0029                1.0537          3001.3333     3\n3              aroon_up       0.0559             0.3334           2.5078         0.4958  ...         572                 0.0027                1.1335          2672.5000     4\n4      aroon_oscillator       0.0510             0.3060           2.2883         0.4781  ...         581                 0.0021                1.1415          3148.8000     5\n5                cci_14       0.0507             0.3570           2.2744         0.4742  ...         542                 0.0020                1.0653          3118.0000     6\n6  mean_reversion_score       0.0502             0.3486           2.2532         0.4786  ...         526                 0.0020                1.1148          3295.0000     7\n\n[7 rows x 13 columns]",
      "summary": {
        "tested_symbols": 10,
        "tested_factors": 49,
        "total_evaluations": 490,
        "valid_factors_count": 7,
        "best_factor": "composite_alpha",
        "best_sharpe": 0.0651
      }
    },
    "5m": {
      "timeframe": "5m",
      "cta_results": "      symbol               factor  total_return    sharpe  raw_sharpe  win_rate  ...  trades  avg_trade_return  signal_strength  signal_count                  data_quality  annual_factor\n0    0700.HK  volume_ma_deviation      0.123954  0.050529    2.268765  0.510204  ...      49          0.002856         0.845632          1917              positive_returns      44.899889\n1    0700.HK     volume_intensity      0.123954  0.050529    2.268765  0.510204  ...      49          0.002856         0.845632          1917              positive_returns      44.899889\n2    0700.HK   zscore_momentum_20      0.155335  0.060130    2.699821  0.531915  ...      47          0.003538         0.970436          1687              positive_returns      44.899889\n3    0700.HK      liquidity_proxy      0.184880  0.068695    3.084414  0.558140  ...      43          0.004439         0.297185          2061              positive_returns      44.899889\n4    0700.HK     aroon_oscillator      0.114522  0.048263    2.166985  0.526316  ...      38          0.003356         1.089424          1710              positive_returns      44.899889\n..       ...                  ...           ...       ...         ...       ...  ...     ...               ...              ...           ...                           ...            ...\n485  2018.HK     keltner_position      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 夏普率过低: -2.034 ≤ -1.0       1.000000\n486  2018.HK     smart_money_flow      0.080981  0.031439    1.411596  0.445255  ...     137          0.001217         0.916802          1673              positive_returns      44.899889\n487  2018.HK                rsi_2      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 夏普率过低: -1.414 ≤ -1.0       1.000000\n488  2018.HK           bb_squeeze      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 夏普率过低: -3.740 ≤ -1.0       1.000000\n489  2018.HK                  cmf      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 夏普率过低: -4.908 ≤ -1.0       1.000000\n\n[490 rows x 14 columns]",
      "factor_ranking": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0                  rsi_2       0.0716             0.4056           3.2129         0.5014  ...         360                 0.0035                1.0103          1542.5000     1\n1        composite_alpha       0.0666             0.4162           2.9899         0.5000  ...         418                 0.0031                0.9918          1849.7500     2\n2       keltner_position       0.0637             0.3711           2.8583         0.4957  ...         401                 0.0028                1.1241          2197.5000     3\n3   mean_reversion_score       0.0558             0.2020           2.5067         0.5036  ...         582                 0.0029                1.0774          1838.6667     4\n4                 cci_14       0.0535             0.2940           2.4023         0.4869  ...         480                 0.0024                1.0314          1761.4000     5\n5    volume_ma_deviation       0.0529             0.1961           2.3761         0.4971  ...         456                 0.0027                0.8907          1827.2000     6\n6       volume_intensity       0.0529             0.1961           2.3761         0.4971  ...         456                 0.0027                0.8907          1827.2000     7\n7          macd_enhanced       0.0520             0.1645           2.3351         0.5146  ...         367                 0.0028                1.1241          2139.0000     8\n8            rsi_14_rank       0.0507             0.2335           2.2760         0.4931  ...         474                 0.0024                1.1742          1836.8000     9\n9       price_efficiency       0.0477             0.1889           2.1405         0.4861  ...         530                 0.0024                0.8948          1684.2000    10\n10                rsi_14       0.0474             0.1775           2.1280         0.4923  ...         544                 0.0023                1.1670          2226.4000    11\n11                   vpt       0.0468             0.2626           2.0992         0.4876  ...         566                 0.0021                1.4320          2492.8333    12\n12    zscore_momentum_20       0.0464             0.1493           2.0849         0.4995  ...         565                 0.0024                0.9678          1652.6667    13\n13                roc_12       0.0462             0.2130           2.0753         0.4889  ...         417                 0.0021                1.1251          2116.5000    14\n14        vwap_deviation       0.0454             0.2157           2.0373         0.4816  ...         534                 0.0021                1.1207          2177.6000    15\n15   drawdown_volatility       0.0447             0.2293           2.0084         0.4885  ...         474                 0.0021                1.2796          2199.6000    16\n16               trix_14       0.0440             0.1444           1.9772         0.4960  ...         538                 0.0024                1.3409          2878.8333    17\n17               dema_14       0.0425             0.1498           1.9089         0.4787  ...         470                 0.0020                1.4564          2674.6000    18\n18               vw_macd       0.0403             0.1527           1.8094         0.4912  ...         473                 0.0020                0.9517          2356.8000    19\n19               ad_line       0.0400             0.1582           1.7964         0.4810  ...         601                 0.0018                1.4381          2638.5000    20\n20        trend_strength       0.0395             0.1509           1.7721         0.4819  ...         429                 0.0019                1.1126          1896.2000    21\n21      aroon_oscillator       0.0394             0.1529           1.7670         0.4857  ...         503                 0.0019                1.0912          1710.0000    22\n22             stoch_rsi       0.0389             0.1381           1.7481         0.4933  ...         417                 0.0020                0.9950          1634.6000    23\n23             hl_spread       0.0388             0.1509           1.7414         0.4897  ...         681                 0.0019                0.9066          1824.4286    24\n24              iv_proxy       0.0388             0.1509           1.7414         0.4897  ...         681                 0.0019                0.9066          1824.4286    25\n25      smart_money_flow       0.0387             0.1901           1.7374         0.4717  ...         650                 0.0016                0.9448          1684.6667    26\n26   vwap_deviation_rank       0.0387             0.1365           1.7361         0.4774  ...         479                 0.0017                1.1183          1743.6000    27\n27                   cmf       0.0386             0.1013           1.7327         0.5069  ...         309                 0.0022                1.1324          1974.4000    28\n28    macd_enhanced_rank       0.0385             0.1257           1.7279         0.4714  ...         586                 0.0017                1.1305          1619.0000    29\n29          rsi_enhanced       0.0384             0.0837           1.7249         0.4909  ...         435                 0.0022                0.8986          1801.4000    30\n30    momentum_composite       0.0382             0.1692           1.7137         0.4797  ...         546                 0.0019                1.0039          1932.4000    31\n31      volatility_ratio       0.0382             0.1188           1.7169         0.4795  ...         618                 0.0019                1.0236          1762.3333    32\n32         parkinson_vol       0.0379             0.1357           1.7018         0.4894  ...         681                 0.0019                0.9064          1822.4286    33\n33               rsi_100       0.0370             0.2174           1.6601         0.4887  ...         634                 0.0017                1.3412          2493.2857    34\n34       liquidity_proxy       0.0363             0.1437           1.6299         0.4981  ...         511                 0.0019                1.1086          1768.1429    35\n35            price_jump       0.0357             0.2043           1.6049         0.4747  ...         595                 0.0015                0.9428          1648.3333    36\n36               kama_14       0.0346             0.0726           1.5546         0.4788  ...         463                 0.0018                1.5509          2872.0000    37\n37                 roc_5       0.0346             0.1582           1.5531         0.4809  ...         675                 0.0017                1.0216          1900.0000    38\n38           skewness_60       0.0345             0.1116           1.5508         0.4856  ...         521                 0.0019                1.4175          2259.0000    39\n39            aroon_down       0.0342             0.0504           1.5335         0.4805  ...         354                 0.0018                1.0748          1524.7500    40\n40                adx_14       0.0330             0.1196           1.4824         0.4808  ...         558                 0.0016                1.3100          2375.5000    41\n41    vol_term_structure       0.0319             0.1417           1.4315         0.4783  ...         652                 0.0015                1.0614          1856.0000    42\n42            bb_squeeze       0.0315             0.1312           1.4148         0.4743  ...         653                 0.0015                1.2162          2097.2857    43\n43                  atrp       0.0286             0.0828           1.2854         0.4888  ...         779                 0.0016                1.1970          2219.6250    44\n44              aroon_up       0.0274             0.0666           1.2311         0.4701  ...         501                 0.0014                1.0720          1526.1667    45\n45            volume_rsi       0.0255             0.0177           1.1439         0.4966  ...         454                 0.0016                0.9715          1812.0000    46\n46             atrp_rank       0.0244             0.0496           1.0941         0.4763  ...         657                 0.0011                1.2166          1907.4286    47\n47          atr_enhanced       0.0240             0.0403           1.0793         0.4820  ...         546                 0.0013                0.9730          1811.1667    48\n48               tema_14       0.0220             0.0608           0.9892         0.4641  ...         735                 0.0009                1.4024          2492.1429    49\n\n[49 rows x 13 columns]",
      "valid_factors": "                 factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0                 rsi_2       0.0716             0.4056           3.2129         0.5014  ...         360                 0.0035                1.0103          1542.5000     1\n1       composite_alpha       0.0666             0.4162           2.9899         0.5000  ...         418                 0.0031                0.9918          1849.7500     2\n2      keltner_position       0.0637             0.3711           2.8583         0.4957  ...         401                 0.0028                1.1241          2197.5000     3\n3  mean_reversion_score       0.0558             0.2020           2.5067         0.5036  ...         582                 0.0029                1.0774          1838.6667     4\n4                cci_14       0.0535             0.2940           2.4023         0.4869  ...         480                 0.0024                1.0314          1761.4000     5\n5   volume_ma_deviation       0.0529             0.1961           2.3761         0.4971  ...         456                 0.0027                0.8907          1827.2000     6\n6      volume_intensity       0.0529             0.1961           2.3761         0.4971  ...         456                 0.0027                0.8907          1827.2000     7\n7         macd_enhanced       0.0520             0.1645           2.3351         0.5146  ...         367                 0.0028                1.1241          2139.0000     8\n8           rsi_14_rank       0.0507             0.2335           2.2760         0.4931  ...         474                 0.0024                1.1742          1836.8000     9\n\n[9 rows x 13 columns]",
      "summary": {
        "tested_symbols": 10,
        "tested_factors": 49,
        "total_evaluations": 490,
        "valid_factors_count": 9,
        "best_factor": "rsi_2",
        "best_sharpe": 0.0716
      }
    },
    "10m": {
      "timeframe": "10m",
      "cta_results": "      symbol               factor  total_return    sharpe  raw_sharpe  win_rate  ...  trades  avg_trade_return  signal_strength  signal_count                  data_quality  annual_factor\n0    0700.HK  volume_ma_deviation      0.134609  0.055275    2.481842  0.538462  ...      39          0.003798         0.815364           828              positive_returns      44.899889\n1    0700.HK     volume_intensity      0.134609  0.055275    2.481842  0.538462  ...      39          0.003798         0.815364           828              positive_returns      44.899889\n2    0700.HK   zscore_momentum_20      0.118700  0.049301    2.213591  0.545455  ...      33          0.004010         0.949547           851              positive_returns      44.899889\n3    0700.HK      liquidity_proxy      0.105462  0.053070    2.382829  0.500000  ...      30          0.003778         1.997092           556              positive_returns      44.899889\n4    0700.HK     aroon_oscillator      0.002451  0.009363    0.420388  0.487179  ...      39          0.000601         1.139882           955              positive_returns      44.899889\n..       ...                  ...           ...       ...         ...       ...  ...     ...               ...              ...           ...                           ...            ...\n515  2018.HK     keltner_position     -0.153378 -0.012647   -0.567830  0.439252  ...     107         -0.000688         1.161426          1255                  needs_review      44.899889\n516  2018.HK     smart_money_flow     -0.106876 -0.002456   -0.110288  0.446429  ...     112         -0.000195         0.912164           873                  needs_review      44.899889\n517  2018.HK                rsi_2      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 夏普率过低: -1.327 ≤ -1.0       1.000000\n518  2018.HK           bb_squeeze      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 夏普率过低: -2.053 ≤ -1.0       1.000000\n519  2018.HK                  cmf     -0.144894 -0.011322   -0.508360  0.460784  ...     102         -0.000598         1.297235          1248                  needs_review      44.899889\n\n[520 rows x 14 columns]",
      "factor_ranking": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0          parkinson_vol       0.0601             0.3943           2.6973         0.4848  ...         508                 0.0028                0.8708           839.0000     1\n1              hl_spread       0.0584             0.3623           2.6220         0.4839  ...         506                 0.0027                0.8707           834.3333     2\n2               iv_proxy       0.0584             0.3623           2.6220         0.4839  ...         506                 0.0027                0.8707           834.3333     3\n3    volume_ma_deviation       0.0520             0.1580           2.3350         0.4899  ...         427                 0.0027                0.8736           838.0000     4\n4       volume_intensity       0.0520             0.1580           2.3350         0.4899  ...         427                 0.0027                0.8736           838.0000     5\n5                ad_line       0.0452             0.1262           2.0310         0.4920  ...         429                 0.0025                1.3820          1244.4000     6\n6    vwap_deviation_rank       0.0447             0.1385           2.0085         0.4935  ...         386                 0.0025                1.1827           946.2000     7\n7       volatility_ratio       0.0445             0.1538           1.9994         0.4793  ...         429                 0.0025                0.9986           847.6000     8\n8                 rsi_14       0.0431             0.1265           1.9352         0.4907  ...         595                 0.0024                1.2137          1177.0000     9\n9       price_efficiency       0.0423             0.1492           1.8985         0.4881  ...         547                 0.0022                0.8489           809.5000    10\n10                mfi_14       0.0422             0.1482           1.8943         0.4974  ...         474                 0.0022                1.1893          1108.8333    11\n11            volume_rsi       0.0416             0.1631           1.8699         0.4891  ...         541                 0.0022                0.9325           852.8333    12\n12                 rsi_2       0.0412             0.1266           1.8488         0.4938  ...         501                 0.0023                1.0124           802.8333    13\n13      smart_money_flow       0.0410             0.1136           1.8428         0.4861  ...         458                 0.0020                0.9327           861.6000    14\n14        trend_strength       0.0388             0.0915           1.7409         0.4955  ...         400                 0.0023                1.1329           955.8000    15\n15               kama_14       0.0384             0.1021           1.7260         0.4904  ...         552                 0.0023                1.5735          1475.5714    16\n16            bb_squeeze       0.0373             0.1519           1.6755         0.4820  ...         440                 0.0020                1.2524          1045.0000    17\n17           rsi_14_rank       0.0362             0.0886           1.6250         0.4894  ...         522                 0.0021                1.2287           983.2857    18\n18                adx_14       0.0354             0.0913           1.5894         0.4768  ...         424                 0.0017                1.3707          1301.2000    19\n19      keltner_position       0.0353             0.0899           1.5830         0.4897  ...         687                 0.0020                1.1662          1238.0000    20\n20                 roc_5       0.0346             0.0908           1.5549         0.4834  ...         406                 0.0019                1.0346          1011.2000    21\n21    momentum_composite       0.0326             0.1165           1.4648         0.4887  ...         596                 0.0019                1.0080           931.4286    22\n22       composite_alpha       0.0322             0.1158           1.4447         0.4840  ...         614                 0.0017                0.9876           974.5714    23\n23              aroon_up       0.0314             0.0716           1.4084         0.4865  ...         521                 0.0018                1.1082           795.7143    24\n24             stoch_rsi       0.0313             0.0813           1.4055         0.4850  ...         514                 0.0017                0.9968           785.8333    25\n25                   cmf       0.0307             0.0501           1.3803         0.4949  ...         588                 0.0018                1.2261          1100.1250    26\n26                   vpt       0.0304             0.0492           1.3637         0.4779  ...         483                 0.0017                1.3956          1128.8333    27\n27       momentum_regime       0.0301             0.1066           1.3535         0.4779  ...         439                 0.0015                0.8474           756.1667    28\n28    zscore_momentum_20       0.0289             0.0911           1.2986         0.4751  ...         697                 0.0017                0.9464           851.5000    29\n29            price_jump       0.0284             0.0459           1.2751         0.4842  ...         494                 0.0016                0.9123           821.1667    30\n30             atrp_rank       0.0280             0.1028           1.2557         0.4795  ...         513                 0.0017                1.1627           924.8571    31\n31    vol_term_structure       0.0277             0.0449           1.2419         0.4804  ...         463                 0.0016                1.0049           822.1667    32\n32        vwap_deviation       0.0275             0.0714           1.2330         0.4801  ...         600                 0.0015                1.1731          1216.0000    33\n33          rsi_enhanced       0.0270             0.0614           1.2110         0.4783  ...         432                 0.0015                0.8923           879.4000    34\n34      aroon_oscillator       0.0264             0.0464           1.1854         0.4823  ...         432                 0.0016                1.1375           936.3333    35\n35               rsi_100       0.0261             0.0456           1.1735         0.4836  ...         563                 0.0017                1.3315          1216.7143    36\n36          atr_enhanced       0.0253             0.0568           1.1365         0.4693  ...         545                 0.0014                0.9455           869.8333    37\n37         macd_enhanced       0.0249             0.0351           1.1162         0.4785  ...         501                 0.0014                1.1949          1258.3333    38\n38              willr_14       0.0234             0.0933           1.0515         0.4790  ...         553                 0.0011                1.1195           895.2857    39\n39    macd_enhanced_rank       0.0227             0.0474           1.0215         0.4902  ...         370                 0.0012                1.1982           913.8333    40\n40  mean_reversion_score       0.0225             0.0526           1.0106         0.4791  ...         585                 0.0013                1.1152          1053.7143    41\n41               trix_14       0.0212             0.0315           0.9500         0.4926  ...         222                 0.0013                1.4420          1535.0000    42\n42       liquidity_proxy       0.0206             0.0548           0.9229         0.4640  ...         412                 0.0011                1.4311           748.6000    43\n43                roc_12       0.0201             0.0258           0.9046         0.4704  ...         611                 0.0011                1.1605          1172.8571    44\n44                cci_14       0.0192             0.0079           0.8602         0.4777  ...         571                 0.0011                1.0566           962.0000    45\n45                  atrp       0.0187             0.0548           0.8379         0.4759  ...         449                 0.0011                1.1555          1136.1667    46\n46            aroon_down       0.0154             0.0230           0.6902         0.4824  ...         645                 0.0010                1.0847           790.0000    47\n47   drawdown_volatility       0.0146            -0.0031           0.6553         0.4903  ...         304                 0.0010                1.3555          1144.2000    48\n48               vw_macd       0.0116            -0.0102           0.5213         0.4658  ...         726                 0.0007                1.0204          1478.2500    49\n49           skewness_60       0.0096            -0.0287           0.4296         0.4698  ...         595                 0.0008                1.3853          1236.1429    50\n50               tema_14       0.0081            -0.0232           0.3641         0.4645  ...         518                 0.0006                1.4155          1299.6667    51\n51               dema_14       0.0075            -0.0282           0.3358         0.4698  ...         671                 0.0006                1.4734          1405.1250    52\n\n[52 rows x 13 columns]",
      "valid_factors": "                factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0        parkinson_vol       0.0601             0.3943           2.6973         0.4848  ...         508                 0.0028                0.8708           839.0000     1\n1            hl_spread       0.0584             0.3623           2.6220         0.4839  ...         506                 0.0027                0.8707           834.3333     2\n2             iv_proxy       0.0584             0.3623           2.6220         0.4839  ...         506                 0.0027                0.8707           834.3333     3\n3  volume_ma_deviation       0.0520             0.1580           2.3350         0.4899  ...         427                 0.0027                0.8736           838.0000     4\n4     volume_intensity       0.0520             0.1580           2.3350         0.4899  ...         427                 0.0027                0.8736           838.0000     5\n\n[5 rows x 13 columns]",
      "summary": {
        "tested_symbols": 10,
        "tested_factors": 52,
        "total_evaluations": 520,
        "valid_factors_count": 5,
        "best_factor": "parkinson_vol",
        "best_sharpe": 0.0601
      }
    },
    "15m": {
      "timeframe": "15m",
      "cta_results": "      symbol               factor  total_return    sharpe  raw_sharpe  win_rate  ...  trades  avg_trade_return  signal_strength  signal_count                  data_quality  annual_factor\n0    0700.HK  volume_ma_deviation      0.055265  0.050586    1.311332  0.500000  ...      40          0.001842         0.861246           645              positive_returns      25.922963\n1    0700.HK     volume_intensity      0.055265  0.050586    1.311332  0.500000  ...      40          0.001842         0.861246           645              positive_returns      25.922963\n2    0700.HK   zscore_momentum_20      0.063769  0.055719    1.444410  0.500000  ...      42          0.002009         0.953715           575              positive_returns      25.922963\n3    0700.HK      liquidity_proxy      0.111347  0.085881    2.226285  0.531250  ...      32          0.003885         0.757915           754              positive_returns      25.922963\n4    0700.HK     aroon_oscillator      0.014781  0.023747    0.615600  0.500000  ...      34          0.000970         1.100708           616              positive_returns      25.922963\n..       ...                  ...           ...       ...         ...       ...  ...     ...               ...              ...           ...                           ...            ...\n515  2018.HK     keltner_position      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 夏普率过低: -2.669 ≤ -1.0       1.000000\n516  2018.HK     smart_money_flow      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 夏普率过低: -1.241 ≤ -1.0       1.000000\n517  2018.HK                rsi_2      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 夏普率过低: -2.497 ≤ -1.0       1.000000\n518  2018.HK           bb_squeeze     -0.061200 -0.007675   -0.198968  0.452381  ...      84         -0.000194         1.209765           682                  needs_review      25.922963\n519  2018.HK                  cmf     -0.041902  0.004535    0.117565  0.457831  ...      83          0.000149         1.213323           759              positive_returns      25.922963\n\n[520 rows x 14 columns]",
      "factor_ranking": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0                    vpt       0.1357             0.4252           3.5184         0.5015  ...         286                 0.0043                1.3907           937.7500     1\n1                kama_14       0.1143             0.2944           2.9617         0.5222  ...         246                 0.0040                1.4899           978.5000     2\n2               iv_proxy       0.1052             0.4754           2.7280         0.4957  ...         438                 0.0031                0.9044           593.5000     3\n3              hl_spread       0.1052             0.4754           2.7280         0.4957  ...         438                 0.0031                0.9044           593.5000     4\n4          parkinson_vol       0.1034             0.4252           2.6798         0.4947  ...         434                 0.0031                0.9042           593.0000     5\n5    vwap_deviation_rank       0.1025             0.2107           2.6564         0.5064  ...         377                 0.0035                1.1298           591.1667     6\n6       keltner_position       0.1014             0.1708           2.6273         0.5012  ...         297                 0.0035                1.1256           753.2500     7\n7             aroon_down       0.0956             0.1970           2.4793         0.5115  ...         274                 0.0036                1.0614           522.2500     8\n8                ad_line       0.0868             0.2633           2.2492         0.4882  ...         376                 0.0028                1.3711           869.6000     9\n9                  rsi_2       0.0864             0.1439           2.2405         0.5105  ...         299                 0.0032                1.0058           539.7500    10\n10      volatility_ratio       0.0854             0.2179           2.2131         0.4890  ...         361                 0.0029                1.0099           577.0000    11\n11             atrp_rank       0.0809             0.2334           2.0984         0.4936  ...         476                 0.0026                1.2378           647.7500    12\n12           skewness_60       0.0807             0.1863           2.0928         0.4928  ...         369                 0.0028                1.4247           757.1667    13\n13       liquidity_proxy       0.0785             0.1484           2.0356         0.4840  ...         399                 0.0027                0.6990           768.4000    14\n14    vol_term_structure       0.0762             0.2057           1.9764         0.4786  ...         359                 0.0025                1.0425           613.4000    15\n15    macd_enhanced_rank       0.0713             0.1476           1.8471         0.4890  ...         335                 0.0025                1.1358           563.8333    16\n16               dema_14       0.0669             0.1191           1.7355         0.4984  ...         336                 0.0023                1.4052           924.0000    17\n17               tema_14       0.0652             0.0852           1.6894         0.4995  ...         330                 0.0024                1.3584           865.0000    18\n18       momentum_regime       0.0641             0.0682           1.6615         0.4796  ...         206                 0.0024                0.8862           669.0000    19\n19            price_jump       0.0640             0.1352           1.6598         0.4807  ...         541                 0.0020                0.9072           565.8571    20\n20    momentum_composite       0.0633             0.1196           1.6400         0.4835  ...         449                 0.0019                1.0051           662.0000    21\n21   volume_ma_deviation       0.0617             0.1396           1.5985         0.4667  ...         463                 0.0018                0.8886           605.6667    22\n22      volume_intensity       0.0617             0.1396           1.5985         0.4667  ...         463                 0.0018                0.8886           605.6667    23\n23          rsi_enhanced       0.0608             0.1106           1.5758         0.4749  ...         353                 0.0019                0.9137           624.8000    24\n24       composite_alpha       0.0603             0.0925           1.5632         0.4835  ...         369                 0.0020                0.9815           627.0000    25\n25                  atrp       0.0603             0.1781           1.5629         0.4726  ...         548                 0.0020                1.2089           795.2500    26\n26                mfi_14       0.0587             0.0967           1.5227         0.4814  ...         349                 0.0021                1.1481           693.2000    27\n27           rsi_14_rank       0.0585             0.0976           1.5158         0.4764  ...         425                 0.0018                1.1948           613.2857    28\n28              willr_14       0.0569             0.1157           1.4757         0.4760  ...         266                 0.0019                1.0724           574.0000    29\n29            volume_rsi       0.0560             0.0782           1.4527         0.4893  ...         465                 0.0021                0.9766           602.3333    30\n30               vw_macd       0.0560             0.0693           1.4515         0.4751  ...         251                 0.0018                0.9410           783.3333    31\n31                 roc_5       0.0532             0.1206           1.3797         0.4710  ...         415                 0.0017                1.0198           664.8000    32\n32              aroon_up       0.0521             0.0807           1.3505         0.4794  ...         383                 0.0019                1.0739           531.3333    33\n33               trix_14       0.0520             0.1053           1.3493         0.4861  ...         347                 0.0016                1.3456           917.4000    34\n34    zscore_momentum_20       0.0492             0.0962           1.2766         0.4705  ...         530                 0.0016                0.9501           571.8571    35\n35                roc_12       0.0464             0.0640           1.2036         0.4740  ...         370                 0.0015                1.1165           743.2000    36\n36        vwap_deviation       0.0454             0.0589           1.1775         0.4721  ...         467                 0.0016                1.1226           732.0000    37\n37               rsi_100       0.0428             0.0396           1.1100         0.4764  ...         496                 0.0016                1.3271           848.1429    38\n38      smart_money_flow       0.0411             0.0358           1.0660         0.4827  ...         429                 0.0015                0.9329           581.1667    39\n39      aroon_oscillator       0.0399             0.0425           1.0350         0.4753  ...         234                 0.0015                1.0911           578.2500    40\n40                cci_14       0.0384             0.0842           0.9964         0.4677  ...         482                 0.0013                1.0403           630.1667    41\n41   drawdown_volatility       0.0378             0.0433           0.9792         0.4731  ...         356                 0.0014                1.3043           780.5000    42\n42          atr_enhanced       0.0375             0.0629           0.9733         0.4708  ...         663                 0.0012                0.9684           623.4444    43\n43  mean_reversion_score       0.0363             0.1031           0.9399         0.4653  ...         499                 0.0011                1.0824           635.8571    44\n44        trend_strength       0.0350             0.0311           0.9077         0.4592  ...         343                 0.0012                1.0811           614.4000    45\n45         macd_enhanced       0.0331             0.0616           0.8573         0.4668  ...         325                 0.0011                1.1419           763.8000    46\n46                   cmf       0.0328             0.0333           0.8502         0.4739  ...         591                 0.0011                1.1936           714.2222    47\n47             stoch_rsi       0.0315             0.0367           0.8169         0.4720  ...         502                 0.0010                0.9948           527.7143    48\n48                adx_14       0.0312             0.0019           0.8088         0.4902  ...         321                 0.0015                1.3168           805.2000    49\n49      price_efficiency       0.0305             0.0341           0.7912         0.4707  ...         422                 0.0010                0.8874           576.6000    50\n50                rsi_14       0.0226            -0.0045           0.5867         0.4583  ...         505                 0.0008                1.1821           754.7143    51\n51            bb_squeeze       0.0111            -0.0196           0.2865         0.4687  ...         319                 0.0004                1.1777           663.8000    52\n\n[52 rows x 13 columns]",
      "valid_factors": "                 factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0                   vpt       0.1357             0.4252           3.5184         0.5015  ...         286                 0.0043                1.3907           937.7500     1\n1               kama_14       0.1143             0.2944           2.9617         0.5222  ...         246                 0.0040                1.4899           978.5000     2\n2              iv_proxy       0.1052             0.4754           2.7280         0.4957  ...         438                 0.0031                0.9044           593.5000     3\n3             hl_spread       0.1052             0.4754           2.7280         0.4957  ...         438                 0.0031                0.9044           593.5000     4\n4         parkinson_vol       0.1034             0.4252           2.6798         0.4947  ...         434                 0.0031                0.9042           593.0000     5\n5   vwap_deviation_rank       0.1025             0.2107           2.6564         0.5064  ...         377                 0.0035                1.1298           591.1667     6\n6      keltner_position       0.1014             0.1708           2.6273         0.5012  ...         297                 0.0035                1.1256           753.2500     7\n7            aroon_down       0.0956             0.1970           2.4793         0.5115  ...         274                 0.0036                1.0614           522.2500     8\n8               ad_line       0.0868             0.2633           2.2492         0.4882  ...         376                 0.0028                1.3711           869.6000     9\n9                 rsi_2       0.0864             0.1439           2.2405         0.5105  ...         299                 0.0032                1.0058           539.7500    10\n10     volatility_ratio       0.0854             0.2179           2.2131         0.4890  ...         361                 0.0029                1.0099           577.0000    11\n11            atrp_rank       0.0809             0.2334           2.0984         0.4936  ...         476                 0.0026                1.2378           647.7500    12\n12          skewness_60       0.0807             0.1863           2.0928         0.4928  ...         369                 0.0028                1.4247           757.1667    13\n13      liquidity_proxy       0.0785             0.1484           2.0356         0.4840  ...         399                 0.0027                0.6990           768.4000    14\n14   vol_term_structure       0.0762             0.2057           1.9764         0.4786  ...         359                 0.0025                1.0425           613.4000    15\n15   macd_enhanced_rank       0.0713             0.1476           1.8471         0.4890  ...         335                 0.0025                1.1358           563.8333    16\n16              dema_14       0.0669             0.1191           1.7355         0.4984  ...         336                 0.0023                1.4052           924.0000    17\n17              tema_14       0.0652             0.0852           1.6894         0.4995  ...         330                 0.0024                1.3584           865.0000    18\n18      momentum_regime       0.0641             0.0682           1.6615         0.4796  ...         206                 0.0024                0.8862           669.0000    19\n19           price_jump       0.0640             0.1352           1.6598         0.4807  ...         541                 0.0020                0.9072           565.8571    20\n20   momentum_composite       0.0633             0.1196           1.6400         0.4835  ...         449                 0.0019                1.0051           662.0000    21\n21  volume_ma_deviation       0.0617             0.1396           1.5985         0.4667  ...         463                 0.0018                0.8886           605.6667    22\n22     volume_intensity       0.0617             0.1396           1.5985         0.4667  ...         463                 0.0018                0.8886           605.6667    23\n23         rsi_enhanced       0.0608             0.1106           1.5758         0.4749  ...         353                 0.0019                0.9137           624.8000    24\n24      composite_alpha       0.0603             0.0925           1.5632         0.4835  ...         369                 0.0020                0.9815           627.0000    25\n25                 atrp       0.0603             0.1781           1.5629         0.4726  ...         548                 0.0020                1.2089           795.2500    26\n26               mfi_14       0.0587             0.0967           1.5227         0.4814  ...         349                 0.0021                1.1481           693.2000    27\n27          rsi_14_rank       0.0585             0.0976           1.5158         0.4764  ...         425                 0.0018                1.1948           613.2857    28\n28             willr_14       0.0569             0.1157           1.4757         0.4760  ...         266                 0.0019                1.0724           574.0000    29\n29           volume_rsi       0.0560             0.0782           1.4527         0.4893  ...         465                 0.0021                0.9766           602.3333    30\n30              vw_macd       0.0560             0.0693           1.4515         0.4751  ...         251                 0.0018                0.9410           783.3333    31\n31                roc_5       0.0532             0.1206           1.3797         0.4710  ...         415                 0.0017                1.0198           664.8000    32\n32             aroon_up       0.0521             0.0807           1.3505         0.4794  ...         383                 0.0019                1.0739           531.3333    33\n33              trix_14       0.0520             0.1053           1.3493         0.4861  ...         347                 0.0016                1.3456           917.4000    34\n\n[34 rows x 13 columns]",
      "summary": {
        "tested_symbols": 10,
        "tested_factors": 52,
        "total_evaluations": 520,
        "valid_factors_count": 34,
        "best_factor": "vpt",
        "best_sharpe": 0.1357
      }
    },
    "30m": {
      "timeframe": "30m",
      "cta_results": "      symbol               factor  total_return    sharpe  raw_sharpe  win_rate  ...  trades  avg_trade_return  signal_strength  signal_count                  data_quality  annual_factor\n0    0700.HK  volume_ma_deviation      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0    failed: 交易次数不足30次 (实际: 28)       1.000000\n1    0700.HK     volume_intensity      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0    failed: 交易次数不足30次 (实际: 28)       1.000000\n2    0700.HK   zscore_momentum_20      0.112117  0.123280    2.259757  0.529412  ...      34          0.003674         0.974214           392              positive_returns      18.330303\n3    0700.HK      liquidity_proxy      0.093939  0.102693    1.882391  0.529412  ...      34          0.003204         0.550444           467              positive_returns      18.330303\n4    0700.HK     aroon_oscillator     -0.017935 -0.000608   -0.011147  0.485714  ...      35          0.000022         1.221302           423                  needs_review      18.330303\n..       ...                  ...           ...       ...         ...       ...  ...     ...               ...              ...           ...                           ...            ...\n515  2018.HK     keltner_position     -0.074193 -0.008435   -0.154611  0.472973  ...      74         -0.000287         1.256224           503                  needs_review      18.330303\n516  2018.HK     smart_money_flow     -0.038956  0.011790    0.216118  0.475000  ...      80          0.000272         0.944485           378              positive_returns      18.330303\n517  2018.HK                rsi_2      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 夏普率过低: -1.635 ≤ -1.0       1.000000\n518  2018.HK           bb_squeeze     -0.135893 -0.046950   -0.860611  0.465753  ...      73         -0.001240         1.375540           548                  needs_review      18.330303\n519  2018.HK                  cmf      0.024734  0.050342    0.922785  0.500000  ...      72          0.001484         1.249380           506              positive_returns      18.330303\n\n[520 rows x 14 columns]",
      "factor_ranking": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0              atrp_rank       0.2131             0.6095           3.9062         0.4892  ...         236                 0.0051                1.2728           428.6667     1\n1        liquidity_proxy       0.1430             0.3169           2.6216         0.4919  ...         377                 0.0035                0.9136           426.5000     2\n2                ad_line       0.1405             0.3271           2.5761         0.4947  ...         382                 0.0035                1.3229           534.0000     3\n3                    cmf       0.1343             0.2294           2.4610         0.5072  ...         332                 0.0036                1.2462           492.1667     4\n4              stoch_rsi       0.1224             0.1883           2.2428         0.5071  ...         363                 0.0033                1.0108           309.3333     5\n5        composite_alpha       0.1174             0.1759           2.1519         0.4908  ...         459                 0.0032                1.0323           461.4286     6\n6                    vpt       0.1141             0.1750           2.0910         0.4876  ...         392                 0.0029                1.3560           545.3333     7\n7    volume_ma_deviation       0.1134             0.2111           2.0791         0.4646  ...         415                 0.0027                0.9574           392.3333     8\n8       volume_intensity       0.1134             0.2111           2.0791         0.4646  ...         415                 0.0027                0.9574           392.3333     9\n9                  rsi_2       0.1124             0.1578           2.0597         0.4913  ...         417                 0.0031                1.0300           352.1429    10\n10            aroon_down       0.1040             0.1411           1.9059         0.4938  ...         457                 0.0032                1.1565           373.5000    11\n11                mfi_14       0.1039             0.1430           1.9047         0.4948  ...         364                 0.0026                1.2753           502.8333    12\n12                cci_14       0.1012             0.1248           1.8554         0.4946  ...         509                 0.0028                1.1198           467.6250    13\n13                  atrp       0.1010             0.1856           1.8512         0.4825  ...         408                 0.0025                1.2292           509.5000    14\n14    zscore_momentum_20       0.1009             0.1226           1.8489         0.4734  ...         437                 0.0025                0.9792           394.4286    15\n15           skewness_60       0.0949             0.0985           1.7399         0.4908  ...         495                 0.0025                1.3846           489.2500    16\n16        trend_strength       0.0943             0.1647           1.7286         0.4837  ...         301                 0.0025                1.1936           445.2000    17\n17            volume_rsi       0.0943             0.1775           1.7285         0.4725  ...         401                 0.0022                0.9899           414.6667    18\n18              aroon_up       0.0917             0.1373           1.6807         0.4834  ...         387                 0.0023                1.1788           347.2857    19\n19        vwap_deviation       0.0905             0.1384           1.6580         0.4887  ...         386                 0.0026                1.2339           524.8333    20\n20      keltner_position       0.0898             0.1085           1.6453         0.4951  ...         448                 0.0025                1.2423           532.7143    21\n21                adx_14       0.0894             0.1002           1.6393         0.4906  ...         408                 0.0025                1.4237           560.4286    22\n22            price_jump       0.0886             0.1671           1.6241         0.4746  ...         488                 0.0020                0.9512           375.5714    23\n23          atr_enhanced       0.0854             0.1346           1.5647         0.4709  ...         571                 0.0021                0.9767           389.2500    24\n24         parkinson_vol       0.0846             0.1707           1.5502         0.4755  ...         406                 0.0021                0.9498           376.8333    25\n25    macd_enhanced_rank       0.0813             0.0795           1.4906         0.4780  ...         315                 0.0020                1.3298           403.6000    26\n26                 roc_5       0.0811             0.0820           1.4861         0.4762  ...         597                 0.0021                1.0922           464.2222    27\n27               rsi_100       0.0790             0.1065           1.4481         0.4826  ...         411                 0.0021                1.3117           469.4286    28\n28   vwap_deviation_rank       0.0784             0.1110           1.4373         0.4957  ...         303                 0.0023                1.2580           415.0000    29\n29            bb_squeeze       0.0763             0.1699           1.3984         0.4770  ...         372                 0.0019                1.3479           512.8333    30\n30  mean_reversion_score       0.0763             0.0896           1.3988         0.4829  ...         444                 0.0022                1.1853           515.8571    31\n31               tema_14       0.0739             0.1062           1.3538         0.4788  ...         455                 0.0019                1.4253           559.7143    32\n32      price_efficiency       0.0726             0.1214           1.3316         0.4764  ...         448                 0.0020                0.9500           378.8333    33\n33   drawdown_volatility       0.0714             0.0540           1.3095         0.4857  ...         415                 0.0018                1.4739           583.3333    34\n34               trix_14       0.0706             0.0934           1.2949         0.4900  ...         449                 0.0018                1.5179           624.0000    35\n35                rsi_14       0.0691             0.0596           1.2668         0.4870  ...         426                 0.0020                1.2446           490.4286    36\n36                roc_12       0.0673             0.0970           1.2343         0.4742  ...         462                 0.0018                1.2347           478.1429    37\n37      aroon_oscillator       0.0670             0.0718           1.2287         0.4785  ...         480                 0.0020                1.2038           422.8750    38\n38              iv_proxy       0.0653             0.1175           1.1975         0.4706  ...         484                 0.0017                0.9483           378.0000    39\n39             hl_spread       0.0653             0.1175           1.1975         0.4706  ...         484                 0.0017                0.9483           378.0000    40\n40    vol_term_structure       0.0612             0.0492           1.1217         0.4567  ...         468                 0.0015                1.1287           429.7143    41\n41          rsi_enhanced       0.0587             0.0872           1.0769         0.4715  ...         555                 0.0015                0.9521           404.8750    42\n42              willr_14       0.0587             0.0624           1.0756         0.4774  ...         565                 0.0016                1.1967           428.7778    43\n43               vw_macd       0.0586             0.0627           1.0737         0.4764  ...         513                 0.0014                1.1067           614.7143    44\n44      volatility_ratio       0.0520             0.0642           0.9525         0.4707  ...         485                 0.0013                1.0654           393.0000    45\n45    momentum_composite       0.0485             0.0655           0.8894         0.4635  ...         472                 0.0011                1.0262           376.0000    46\n46         macd_enhanced       0.0450             0.0300           0.8242         0.4710  ...         499                 0.0012                1.3026           547.7500    47\n47               dema_14       0.0447             0.0282           0.8186         0.4674  ...         449                 0.0012                1.4701           590.0000    48\n48               kama_14       0.0439             0.0316           0.8042         0.4734  ...         460                 0.0012                1.5779           621.8571    49\n49      smart_money_flow       0.0420             0.0305           0.7705         0.4632  ...         536                 0.0011                0.9527           377.3750    50\n50           rsi_14_rank       0.0351             0.0258           0.6436         0.4683  ...         383                 0.0008                1.2649           399.3333    51\n51       momentum_regime       0.0337             0.0068           0.6183         0.4762  ...         264                 0.0009                0.8500           272.8000    52\n\n[52 rows x 13 columns]",
      "valid_factors": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0              atrp_rank       0.2131             0.6095           3.9062         0.4892  ...         236                 0.0051                1.2728           428.6667     1\n1        liquidity_proxy       0.1430             0.3169           2.6216         0.4919  ...         377                 0.0035                0.9136           426.5000     2\n2                ad_line       0.1405             0.3271           2.5761         0.4947  ...         382                 0.0035                1.3229           534.0000     3\n3                    cmf       0.1343             0.2294           2.4610         0.5072  ...         332                 0.0036                1.2462           492.1667     4\n4              stoch_rsi       0.1224             0.1883           2.2428         0.5071  ...         363                 0.0033                1.0108           309.3333     5\n5        composite_alpha       0.1174             0.1759           2.1519         0.4908  ...         459                 0.0032                1.0323           461.4286     6\n6                    vpt       0.1141             0.1750           2.0910         0.4876  ...         392                 0.0029                1.3560           545.3333     7\n7    volume_ma_deviation       0.1134             0.2111           2.0791         0.4646  ...         415                 0.0027                0.9574           392.3333     8\n8       volume_intensity       0.1134             0.2111           2.0791         0.4646  ...         415                 0.0027                0.9574           392.3333     9\n9                  rsi_2       0.1124             0.1578           2.0597         0.4913  ...         417                 0.0031                1.0300           352.1429    10\n10            aroon_down       0.1040             0.1411           1.9059         0.4938  ...         457                 0.0032                1.1565           373.5000    11\n11                mfi_14       0.1039             0.1430           1.9047         0.4948  ...         364                 0.0026                1.2753           502.8333    12\n12                cci_14       0.1012             0.1248           1.8554         0.4946  ...         509                 0.0028                1.1198           467.6250    13\n13                  atrp       0.1010             0.1856           1.8512         0.4825  ...         408                 0.0025                1.2292           509.5000    14\n14    zscore_momentum_20       0.1009             0.1226           1.8489         0.4734  ...         437                 0.0025                0.9792           394.4286    15\n15           skewness_60       0.0949             0.0985           1.7399         0.4908  ...         495                 0.0025                1.3846           489.2500    16\n16        trend_strength       0.0943             0.1647           1.7286         0.4837  ...         301                 0.0025                1.1936           445.2000    17\n17            volume_rsi       0.0943             0.1775           1.7285         0.4725  ...         401                 0.0022                0.9899           414.6667    18\n18              aroon_up       0.0917             0.1373           1.6807         0.4834  ...         387                 0.0023                1.1788           347.2857    19\n19        vwap_deviation       0.0905             0.1384           1.6580         0.4887  ...         386                 0.0026                1.2339           524.8333    20\n20      keltner_position       0.0898             0.1085           1.6453         0.4951  ...         448                 0.0025                1.2423           532.7143    21\n21                adx_14       0.0894             0.1002           1.6393         0.4906  ...         408                 0.0025                1.4237           560.4286    22\n22            price_jump       0.0886             0.1671           1.6241         0.4746  ...         488                 0.0020                0.9512           375.5714    23\n23          atr_enhanced       0.0854             0.1346           1.5647         0.4709  ...         571                 0.0021                0.9767           389.2500    24\n24         parkinson_vol       0.0846             0.1707           1.5502         0.4755  ...         406                 0.0021                0.9498           376.8333    25\n25    macd_enhanced_rank       0.0813             0.0795           1.4906         0.4780  ...         315                 0.0020                1.3298           403.6000    26\n26                 roc_5       0.0811             0.0820           1.4861         0.4762  ...         597                 0.0021                1.0922           464.2222    27\n27               rsi_100       0.0790             0.1065           1.4481         0.4826  ...         411                 0.0021                1.3117           469.4286    28\n28   vwap_deviation_rank       0.0784             0.1110           1.4373         0.4957  ...         303                 0.0023                1.2580           415.0000    29\n29            bb_squeeze       0.0763             0.1699           1.3984         0.4770  ...         372                 0.0019                1.3479           512.8333    30\n30  mean_reversion_score       0.0763             0.0896           1.3988         0.4829  ...         444                 0.0022                1.1853           515.8571    31\n31               tema_14       0.0739             0.1062           1.3538         0.4788  ...         455                 0.0019                1.4253           559.7143    32\n32      price_efficiency       0.0726             0.1214           1.3316         0.4764  ...         448                 0.0020                0.9500           378.8333    33\n33   drawdown_volatility       0.0714             0.0540           1.3095         0.4857  ...         415                 0.0018                1.4739           583.3333    34\n34               trix_14       0.0706             0.0934           1.2949         0.4900  ...         449                 0.0018                1.5179           624.0000    35\n35                rsi_14       0.0691             0.0596           1.2668         0.4870  ...         426                 0.0020                1.2446           490.4286    36\n36                roc_12       0.0673             0.0970           1.2343         0.4742  ...         462                 0.0018                1.2347           478.1429    37\n37      aroon_oscillator       0.0670             0.0718           1.2287         0.4785  ...         480                 0.0020                1.2038           422.8750    38\n38              iv_proxy       0.0653             0.1175           1.1975         0.4706  ...         484                 0.0017                0.9483           378.0000    39\n39             hl_spread       0.0653             0.1175           1.1975         0.4706  ...         484                 0.0017                0.9483           378.0000    40\n40    vol_term_structure       0.0612             0.0492           1.1217         0.4567  ...         468                 0.0015                1.1287           429.7143    41\n41          rsi_enhanced       0.0587             0.0872           1.0769         0.4715  ...         555                 0.0015                0.9521           404.8750    42\n42              willr_14       0.0587             0.0624           1.0756         0.4774  ...         565                 0.0016                1.1967           428.7778    43\n43               vw_macd       0.0586             0.0627           1.0737         0.4764  ...         513                 0.0014                1.1067           614.7143    44\n44      volatility_ratio       0.0520             0.0642           0.9525         0.4707  ...         485                 0.0013                1.0654           393.0000    45\n\n[45 rows x 13 columns]",
      "summary": {
        "tested_symbols": 10,
        "tested_factors": 52,
        "total_evaluations": 520,
        "valid_factors_count": 45,
        "best_factor": "atrp_rank",
        "best_sharpe": 0.2131
      }
    },
    "1h": {
      "timeframe": "1h",
      "cta_results": "      symbol               factor  total_return    sharpe  raw_sharpe  win_rate  ...  trades  avg_trade_return  signal_strength  signal_count                data_quality  annual_factor\n0    0700.HK  volume_ma_deviation      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 交易次数不足30次 (实际: 29)       1.000000\n1    0700.HK     volume_intensity      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 交易次数不足30次 (实际: 29)       1.000000\n2    0700.HK   zscore_momentum_20      0.042422  0.078554    1.018181  0.516129  ...      31          0.001910         0.965998           278            positive_returns      12.961481\n3    0700.HK      liquidity_proxy      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 交易次数不足30次 (实际: 27)       1.000000\n4    0700.HK     aroon_oscillator      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 交易次数不足30次 (实际: 27)       1.000000\n..       ...                  ...           ...       ...         ...       ...  ...     ...               ...              ...           ...                         ...            ...\n515  2018.HK     keltner_position     -0.138413 -0.062885   -0.815086  0.462687  ...      67         -0.001419         1.225750           365                needs_review      12.961481\n516  2018.HK     smart_money_flow     -0.062412 -0.003010   -0.039010  0.462687  ...      67         -0.000131         0.950346           288                needs_review      12.961481\n517  2018.HK                rsi_2     -0.074590  0.003761    0.048743  0.458333  ...      72          0.000079         1.044098           274            positive_returns      12.961481\n518  2018.HK           bb_squeeze      0.052951  0.081869    1.061138  0.500000  ...      64          0.001824         1.439375           407            positive_returns      12.961481\n519  2018.HK                  cmf     -0.099931 -0.028917   -0.374808  0.431034  ...      58         -0.000721         1.023495           264                needs_review      12.961481\n\n[520 rows x 14 columns]",
      "factor_ranking": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0    vwap_deviation_rank       0.2238             0.3534           2.9005         0.4886  ...         326                 0.0043                1.2528           289.1667     1\n1     macd_enhanced_rank       0.2214             0.3076           2.8690         0.4874  ...         329                 0.0041                1.3686           311.6667     2\n2              atrp_rank       0.2209             0.2649           2.8626         0.4894  ...         380                 0.0042                1.2108           277.2857     3\n3     vol_term_structure       0.2207             0.2833           2.8604         0.4884  ...         262                 0.0048                1.1227           303.5000     4\n4         trend_strength       0.2047             0.3424           2.6531         0.5060  ...         367                 0.0043                1.2716           364.3333     5\n5            skewness_60       0.1837             0.2481           2.3810         0.4845  ...         328                 0.0036                1.2856           323.8000     6\n6              hl_spread       0.1796             0.4267           2.3275         0.4999  ...         429                 0.0040                0.9558           308.4286     7\n7               iv_proxy       0.1796             0.4267           2.3275         0.4999  ...         429                 0.0040                0.9558           308.4286     8\n8              stoch_rsi       0.1760             0.2115           2.2807         0.5134  ...         380                 0.0042                1.0483           232.7143     9\n9        composite_alpha       0.1750             0.1557           2.2676         0.4949  ...         423                 0.0037                1.0261           334.4286    10\n10           rsi_14_rank       0.1743             0.1523           2.2592         0.4886  ...         330                 0.0033                1.2197           277.5000    11\n11               tema_14       0.1724             0.2992           2.2351         0.4986  ...         421                 0.0037                1.3860           391.7143    12\n12      volatility_ratio       0.1692             0.2385           2.1933         0.4791  ...         419                 0.0033                1.1465           304.1429    13\n13       liquidity_proxy       0.1665             0.2787           2.1575         0.4756  ...         343                 0.0035                1.0332           321.0000    14\n14              aroon_up       0.1664             0.2518           2.1572         0.4878  ...         344                 0.0037                1.2082           266.3333    15\n15               ad_line       0.1590             0.2844           2.0606         0.4871  ...         521                 0.0033                1.2194           365.3750    16\n16            bb_squeeze       0.1575             0.2639           2.0410         0.5032  ...         500                 0.0035                1.4027           401.2500    17\n17                   vpt       0.1564             0.3531           2.0266         0.4851  ...         475                 0.0032                1.2734           371.2857    18\n18         parkinson_vol       0.1543             0.3624           2.0004         0.4923  ...         495                 0.0034                0.9553           307.7500    19\n19                 rsi_2       0.1508             0.2038           1.9546         0.4926  ...         517                 0.0032                1.0461           276.7778    20\n20   drawdown_volatility       0.1490             0.1704           1.9318         0.4848  ...         443                 0.0030                1.4481           422.0000    21\n21                adx_14       0.1481             0.2378           1.9196         0.4993  ...         361                 0.0032                1.4014           402.8333    22\n22               vw_macd       0.1477             0.1750           1.9144         0.5017  ...         526                 0.0034                1.1687           422.3750    23\n23               kama_14       0.1446             0.2978           1.8742         0.4987  ...         428                 0.0032                1.5190           442.4286    24\n24            aroon_down       0.1426             0.2106           1.8486         0.4891  ...         464                 0.0033                1.2067           289.6250    25\n25            price_jump       0.1345             0.2962           1.7437         0.4859  ...         376                 0.0027                0.9566           274.3333    26\n26               trix_14       0.1339             0.2005           1.7361         0.4646  ...         332                 0.0027                1.4770           438.0000    27\n27  mean_reversion_score       0.1307             0.1339           1.6940         0.4964  ...         554                 0.0029                1.2031           382.7778    28\n28                  atrp       0.1306             0.2253           1.6922         0.4939  ...         366                 0.0028                1.1686           348.3333    29\n29               dema_14       0.1257             0.1330           1.6296         0.4954  ...         363                 0.0026                1.4143           408.0000    30\n30      aroon_oscillator       0.1223             0.1860           1.5848         0.4737  ...         516                 0.0025                1.2593           367.2500    31\n31         macd_enhanced       0.1134             0.1531           1.4700         0.4844  ...         406                 0.0024                1.3324           397.8333    32\n32                roc_12       0.1127             0.1175           1.4604         0.4887  ...         402                 0.0023                1.2387           368.1429    33\n33          atr_enhanced       0.1118             0.2065           1.4496         0.4774  ...         505                 0.0023                0.9860           297.6250    34\n34      keltner_position       0.1106             0.1501           1.4331         0.4884  ...         399                 0.0022                1.2260           367.1667    35\n35              willr_14       0.1069             0.1268           1.3861         0.4830  ...         431                 0.0022                1.2010           344.4286    36\n36      price_efficiency       0.1051             0.1760           1.3626         0.4793  ...         480                 0.0022                0.9635           307.3750    37\n37        vwap_deviation       0.1025             0.1045           1.3288         0.4892  ...         554                 0.0023                1.2172           368.6667    38\n38                   cmf       0.1022             0.0694           1.3245         0.4816  ...         378                 0.0022                1.0133           254.1250    39\n39                 roc_5       0.0999             0.1507           1.2949         0.4715  ...         419                 0.0021                1.1265           332.5714    40\n40                cci_14       0.0975             0.0979           1.2634         0.4777  ...         529                 0.0020                1.1757           390.5000    41\n41       momentum_regime       0.0961             0.0905           1.2459         0.4456  ...         128                 0.0027                0.7058           124.0000    42\n42    zscore_momentum_20       0.0955             0.1720           1.2384         0.4816  ...         393                 0.0021                0.9686           299.2857    43\n43      volume_intensity       0.0943             0.0759           1.2219         0.4765  ...         444                 0.0020                0.9963           291.0000    44\n44   volume_ma_deviation       0.0943             0.0759           1.2219         0.4765  ...         444                 0.0020                0.9963           291.0000    45\n45      smart_money_flow       0.0916             0.1276           1.1879         0.4842  ...         408                 0.0020                0.9450           293.2857    46\n46               rsi_100       0.0902             0.0946           1.1685         0.4701  ...         367                 0.0016                1.2334           308.8333    47\n47                mfi_14       0.0899             0.0553           1.1657         0.4744  ...         427                 0.0020                1.2684           378.4286    48\n48            volume_rsi       0.0891             0.1039           1.1544         0.4662  ...         493                 0.0018                1.0232           355.1250    49\n49          rsi_enhanced       0.0890             0.0871           1.1537         0.4711  ...         437                 0.0017                1.0063           298.1429    50\n50                rsi_14       0.0800             0.0766           1.0371         0.4672  ...         391                 0.0017                1.2030           341.6667    51\n51    momentum_composite       0.0743             0.1192           0.9630         0.4809  ...         362                 0.0017                1.0577           250.3333    52\n\n[52 rows x 13 columns]",
      "valid_factors": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0    vwap_deviation_rank       0.2238             0.3534           2.9005         0.4886  ...         326                 0.0043                1.2528           289.1667     1\n1     macd_enhanced_rank       0.2214             0.3076           2.8690         0.4874  ...         329                 0.0041                1.3686           311.6667     2\n2              atrp_rank       0.2209             0.2649           2.8626         0.4894  ...         380                 0.0042                1.2108           277.2857     3\n3     vol_term_structure       0.2207             0.2833           2.8604         0.4884  ...         262                 0.0048                1.1227           303.5000     4\n4         trend_strength       0.2047             0.3424           2.6531         0.5060  ...         367                 0.0043                1.2716           364.3333     5\n5            skewness_60       0.1837             0.2481           2.3810         0.4845  ...         328                 0.0036                1.2856           323.8000     6\n6              hl_spread       0.1796             0.4267           2.3275         0.4999  ...         429                 0.0040                0.9558           308.4286     7\n7               iv_proxy       0.1796             0.4267           2.3275         0.4999  ...         429                 0.0040                0.9558           308.4286     8\n8              stoch_rsi       0.1760             0.2115           2.2807         0.5134  ...         380                 0.0042                1.0483           232.7143     9\n9        composite_alpha       0.1750             0.1557           2.2676         0.4949  ...         423                 0.0037                1.0261           334.4286    10\n10           rsi_14_rank       0.1743             0.1523           2.2592         0.4886  ...         330                 0.0033                1.2197           277.5000    11\n11               tema_14       0.1724             0.2992           2.2351         0.4986  ...         421                 0.0037                1.3860           391.7143    12\n12      volatility_ratio       0.1692             0.2385           2.1933         0.4791  ...         419                 0.0033                1.1465           304.1429    13\n13       liquidity_proxy       0.1665             0.2787           2.1575         0.4756  ...         343                 0.0035                1.0332           321.0000    14\n14              aroon_up       0.1664             0.2518           2.1572         0.4878  ...         344                 0.0037                1.2082           266.3333    15\n15               ad_line       0.1590             0.2844           2.0606         0.4871  ...         521                 0.0033                1.2194           365.3750    16\n16            bb_squeeze       0.1575             0.2639           2.0410         0.5032  ...         500                 0.0035                1.4027           401.2500    17\n17                   vpt       0.1564             0.3531           2.0266         0.4851  ...         475                 0.0032                1.2734           371.2857    18\n18         parkinson_vol       0.1543             0.3624           2.0004         0.4923  ...         495                 0.0034                0.9553           307.7500    19\n19                 rsi_2       0.1508             0.2038           1.9546         0.4926  ...         517                 0.0032                1.0461           276.7778    20\n20   drawdown_volatility       0.1490             0.1704           1.9318         0.4848  ...         443                 0.0030                1.4481           422.0000    21\n21                adx_14       0.1481             0.2378           1.9196         0.4993  ...         361                 0.0032                1.4014           402.8333    22\n22               vw_macd       0.1477             0.1750           1.9144         0.5017  ...         526                 0.0034                1.1687           422.3750    23\n23               kama_14       0.1446             0.2978           1.8742         0.4987  ...         428                 0.0032                1.5190           442.4286    24\n24            aroon_down       0.1426             0.2106           1.8486         0.4891  ...         464                 0.0033                1.2067           289.6250    25\n25            price_jump       0.1345             0.2962           1.7437         0.4859  ...         376                 0.0027                0.9566           274.3333    26\n26               trix_14       0.1339             0.2005           1.7361         0.4646  ...         332                 0.0027                1.4770           438.0000    27\n27  mean_reversion_score       0.1307             0.1339           1.6940         0.4964  ...         554                 0.0029                1.2031           382.7778    28\n28                  atrp       0.1306             0.2253           1.6922         0.4939  ...         366                 0.0028                1.1686           348.3333    29\n29               dema_14       0.1257             0.1330           1.6296         0.4954  ...         363                 0.0026                1.4143           408.0000    30\n30      aroon_oscillator       0.1223             0.1860           1.5848         0.4737  ...         516                 0.0025                1.2593           367.2500    31\n31         macd_enhanced       0.1134             0.1531           1.4700         0.4844  ...         406                 0.0024                1.3324           397.8333    32\n32                roc_12       0.1127             0.1175           1.4604         0.4887  ...         402                 0.0023                1.2387           368.1429    33\n33          atr_enhanced       0.1118             0.2065           1.4496         0.4774  ...         505                 0.0023                0.9860           297.6250    34\n34      keltner_position       0.1106             0.1501           1.4331         0.4884  ...         399                 0.0022                1.2260           367.1667    35\n35              willr_14       0.1069             0.1268           1.3861         0.4830  ...         431                 0.0022                1.2010           344.4286    36\n36      price_efficiency       0.1051             0.1760           1.3626         0.4793  ...         480                 0.0022                0.9635           307.3750    37\n37        vwap_deviation       0.1025             0.1045           1.3288         0.4892  ...         554                 0.0023                1.2172           368.6667    38\n38                   cmf       0.1022             0.0694           1.3245         0.4816  ...         378                 0.0022                1.0133           254.1250    39\n39                 roc_5       0.0999             0.1507           1.2949         0.4715  ...         419                 0.0021                1.1265           332.5714    40\n40                cci_14       0.0975             0.0979           1.2634         0.4777  ...         529                 0.0020                1.1757           390.5000    41\n41       momentum_regime       0.0961             0.0905           1.2459         0.4456  ...         128                 0.0027                0.7058           124.0000    42\n42    zscore_momentum_20       0.0955             0.1720           1.2384         0.4816  ...         393                 0.0021                0.9686           299.2857    43\n43      volume_intensity       0.0943             0.0759           1.2219         0.4765  ...         444                 0.0020                0.9963           291.0000    44\n44   volume_ma_deviation       0.0943             0.0759           1.2219         0.4765  ...         444                 0.0020                0.9963           291.0000    45\n45      smart_money_flow       0.0916             0.1276           1.1879         0.4842  ...         408                 0.0020                0.9450           293.2857    46\n46               rsi_100       0.0902             0.0946           1.1685         0.4701  ...         367                 0.0016                1.2334           308.8333    47\n47                mfi_14       0.0899             0.0553           1.1657         0.4744  ...         427                 0.0020                1.2684           378.4286    48\n48            volume_rsi       0.0891             0.1039           1.1544         0.4662  ...         493                 0.0018                1.0232           355.1250    49\n49          rsi_enhanced       0.0890             0.0871           1.1537         0.4711  ...         437                 0.0017                1.0063           298.1429    50\n50                rsi_14       0.0800             0.0766           1.0371         0.4672  ...         391                 0.0017                1.2030           341.6667    51\n51    momentum_composite       0.0743             0.1192           0.9630         0.4809  ...         362                 0.0017                1.0577           250.3333    52\n\n[52 rows x 13 columns]",
      "summary": {
        "tested_symbols": 10,
        "tested_factors": 52,
        "total_evaluations": 520,
        "valid_factors_count": 52,
        "best_factor": "vwap_deviation_rank",
        "best_sharpe": 0.2238
      }
    },
    "4h": {
      "timeframe": "4h",
      "cta_results": "      symbol               factor  total_return    sharpe  raw_sharpe  win_rate  ...  trades  avg_trade_return  signal_strength  signal_count                  data_quality  annual_factor\n0    0700.HK  volume_ma_deviation       0.00000  0.000000    0.000000       0.0  ...       0           0.00000         0.000000             0    failed: 交易次数不足30次 (实际: 25)       1.000000\n1    0700.HK     volume_intensity       0.00000  0.000000    0.000000       0.0  ...       0           0.00000         0.000000             0    failed: 交易次数不足30次 (实际: 25)       1.000000\n2    0700.HK   zscore_momentum_20       0.00000  0.000000    0.000000       0.0  ...       0           0.00000         0.000000             0    failed: 交易次数不足30次 (实际: 23)       1.000000\n3    0700.HK      liquidity_proxy       0.00000  0.000000    0.000000       0.0  ...       0           0.00000         0.000000             0    failed: 交易次数不足30次 (实际: 28)       1.000000\n4    0700.HK     aroon_oscillator       0.00000  0.000000    0.000000       0.0  ...       0           0.00000         0.000000             0    failed: 交易次数不足30次 (实际: 25)       1.000000\n..       ...                  ...           ...       ...         ...       ...  ...     ...               ...              ...           ...                           ...            ...\n515  2018.HK     keltner_position      -0.11835 -0.069394   -0.449724       0.5  ...      40          -0.00179         1.077856           138                  needs_review       6.480741\n516  2018.HK     smart_money_flow       0.00000  0.000000    0.000000       0.0  ...       0           0.00000         0.000000             0  failed: 夏普率过低: -1.798 ≤ -1.0       1.000000\n517  2018.HK                rsi_2       0.00000  0.000000    0.000000       0.0  ...       0           0.00000         0.000000             0  failed: 夏普率过低: -2.255 ≤ -1.0       1.000000\n518  2018.HK           bb_squeeze       0.00000  0.000000    0.000000       0.0  ...       0           0.00000         0.000000             0  failed: 夏普率过低: -2.099 ≤ -1.0       1.000000\n519  2018.HK                  cmf       0.00000  0.000000    0.000000       0.0  ...       0           0.00000         0.000000             0    failed: 交易次数不足30次 (实际: 19)       1.000000\n\n[520 rows x 14 columns]",
      "factor_ranking": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0    vwap_deviation_rank       0.8832             0.7040           5.7238         0.5938  ...          32                 0.0183                1.0810            76.0000     1\n1                rsi_100       0.6331             0.5116           4.1033         0.5615  ...          69                 0.0116                1.0678            92.5000     2\n2              atrp_rank       0.4949             0.2607           3.2074         0.4857  ...          35                 0.0077                1.0450            68.0000     3\n3         trend_strength       0.4629             0.6536           3.0000         0.5166  ...         180                 0.0085                1.1745           165.5000     4\n4                trix_14       0.3367             0.5902           2.1819         0.5203  ...         234                 0.0065                1.2951           184.2000     5\n5                 rsi_14       0.3217             0.1966           2.0846         0.5034  ...         163                 0.0057                1.0750           133.2500     6\n6     macd_enhanced_rank       0.3094             0.1530           2.0051         0.4667  ...          30                 0.0064                1.2209            89.0000     7\n7        liquidity_proxy       0.2942             0.4872           1.9069         0.4992  ...         197                 0.0060                0.9353           135.0000     8\n8               willr_14       0.2852             0.2282           1.8484         0.5155  ...         205                 0.0055                1.0737           136.4000     9\n9             bb_squeeze       0.2790             0.2212           1.8081         0.4948  ...         170                 0.0052                1.2393           168.2500    10\n10           skewness_60       0.2726             0.1873           1.7665         0.4853  ...         211                 0.0046                1.0944           118.0000    11\n11          atr_enhanced       0.2666             0.2492           1.7281         0.4880  ...         216                 0.0053                0.9159           120.2000    12\n12                adx_14       0.2611             0.3937           1.6921         0.4839  ...         144                 0.0052                1.2432           166.3333    13\n13    zscore_momentum_20       0.2550             0.2088           1.6523         0.5083  ...         208                 0.0043                0.9132           127.8000    14\n14      volume_intensity       0.2480             0.3019           1.6073         0.4892  ...         179                 0.0052                0.9253           119.0000    15\n15   volume_ma_deviation       0.2480             0.3019           1.6073         0.4892  ...         179                 0.0052                0.9253           119.0000    16\n16          rsi_enhanced       0.2467             0.2609           1.5990         0.4923  ...         207                 0.0053                0.9243           120.0000    17\n17    momentum_composite       0.2349             0.1773           1.5221         0.4899  ...         133                 0.0046                1.0600           104.0000    18\n18                roc_12       0.2331             0.2514           1.5109         0.5086  ...         218                 0.0047                1.0794           145.6000    19\n19      keltner_position       0.2324             0.1838           1.5059         0.5042  ...         160                 0.0043                1.0817           141.0000    20\n20   drawdown_volatility       0.2298             0.2297           1.4896         0.5121  ...         182                 0.0044                1.2540           156.0000    21\n21            volume_rsi       0.2286             0.1910           1.4816         0.4848  ...         172                 0.0043                0.9201           121.2500    22\n22                 roc_5       0.2187             0.2719           1.4176         0.4772  ...         232                 0.0044                1.0892           141.8000    23\n23            price_jump       0.2111             0.1794           1.3678         0.4814  ...         182                 0.0040                0.9080           112.2500    24\n24               kama_14       0.2109             0.2501           1.3668         0.4665  ...         228                 0.0041                1.2819           171.2000    25\n25      volatility_ratio       0.2070             0.1728           1.3412         0.4966  ...         279                 0.0038                1.0846           135.5000    26\n26      price_efficiency       0.2009             0.2207           1.3021         0.4879  ...         263                 0.0041                0.9035           113.6667    27\n27              aroon_up       0.1998             0.1805           1.2949         0.4822  ...         270                 0.0036                1.0680           140.1667    28\n28    vol_term_structure       0.1964             0.1936           1.2730         0.4654  ...         220                 0.0039                1.0818           115.4000    29\n29         macd_enhanced       0.1880             0.2000           1.2182         0.4824  ...         217                 0.0037                1.2116           156.2000    30\n30         parkinson_vol       0.1841             0.2627           1.1928         0.4735  ...         227                 0.0041                0.8999           120.8000    31\n31               dema_14       0.1836             0.1367           1.1898         0.4849  ...         230                 0.0033                1.2533           164.2000    32\n32              iv_proxy       0.1833             0.2404           1.1878         0.4699  ...         227                 0.0040                0.8998           120.4000    33\n33             hl_spread       0.1833             0.2404           1.1878         0.4699  ...         227                 0.0040                0.8998           120.4000    34\n34        vwap_deviation       0.1759             0.1674           1.1402         0.4860  ...         213                 0.0036                1.0782           144.0000    35\n35                mfi_14       0.1666             0.2146           1.0794         0.4849  ...         220                 0.0037                1.1080           139.6000    36\n36               ad_line       0.1573             0.2820           1.0197         0.4841  ...         255                 0.0031                1.0522           143.0000    37\n37               tema_14       0.1428             0.1132           0.9252         0.4815  ...         218                 0.0026                1.2350           157.8000    38\n38      smart_money_flow       0.1417             0.1520           0.9181         0.4775  ...         215                 0.0026                0.9021           127.0000    39\n39            aroon_down       0.1267             0.0992           0.8214         0.4595  ...         168                 0.0026                1.0808           141.0000    40\n40                 rsi_2       0.1224             0.0767           0.7932         0.4889  ...         214                 0.0025                1.0164           118.6000    41\n41             stoch_rsi       0.0981             0.0323           0.6358         0.4845  ...         155                 0.0017                1.0179            97.5000    42\n42                cci_14       0.0921             0.0572           0.5969         0.4809  ...         227                 0.0018                1.1025           154.6000    43\n43       composite_alpha       0.0911             0.0642           0.5905         0.4796  ...         251                 0.0019                0.9056           132.6667    44\n44               vw_macd       0.0695             0.0345           0.4502         0.4659  ...         176                 0.0013                0.9877           130.2500    45\n45  mean_reversion_score       0.0634             0.0032           0.4109         0.4740  ...         293                 0.0011                1.0742           143.5714    46\n46                   vpt       0.0629             0.0668           0.4079         0.4586  ...         252                 0.0013                1.0952           144.8333    47\n47      aroon_oscillator       0.0480             0.0547           0.3114         0.4555  ...         299                 0.0011                1.1035           135.0000    48\n48                  atrp       0.0340             0.0031           0.2202         0.4613  ...         314                 0.0007                0.9955           122.0000    49\n\n[49 rows x 13 columns]",
      "valid_factors": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0    vwap_deviation_rank       0.8832             0.7040           5.7238         0.5938  ...          32                 0.0183                1.0810            76.0000     1\n1                rsi_100       0.6331             0.5116           4.1033         0.5615  ...          69                 0.0116                1.0678            92.5000     2\n2              atrp_rank       0.4949             0.2607           3.2074         0.4857  ...          35                 0.0077                1.0450            68.0000     3\n3         trend_strength       0.4629             0.6536           3.0000         0.5166  ...         180                 0.0085                1.1745           165.5000     4\n4                trix_14       0.3367             0.5902           2.1819         0.5203  ...         234                 0.0065                1.2951           184.2000     5\n5                 rsi_14       0.3217             0.1966           2.0846         0.5034  ...         163                 0.0057                1.0750           133.2500     6\n6     macd_enhanced_rank       0.3094             0.1530           2.0051         0.4667  ...          30                 0.0064                1.2209            89.0000     7\n7        liquidity_proxy       0.2942             0.4872           1.9069         0.4992  ...         197                 0.0060                0.9353           135.0000     8\n8               willr_14       0.2852             0.2282           1.8484         0.5155  ...         205                 0.0055                1.0737           136.4000     9\n9             bb_squeeze       0.2790             0.2212           1.8081         0.4948  ...         170                 0.0052                1.2393           168.2500    10\n10           skewness_60       0.2726             0.1873           1.7665         0.4853  ...         211                 0.0046                1.0944           118.0000    11\n11          atr_enhanced       0.2666             0.2492           1.7281         0.4880  ...         216                 0.0053                0.9159           120.2000    12\n12                adx_14       0.2611             0.3937           1.6921         0.4839  ...         144                 0.0052                1.2432           166.3333    13\n13    zscore_momentum_20       0.2550             0.2088           1.6523         0.5083  ...         208                 0.0043                0.9132           127.8000    14\n14      volume_intensity       0.2480             0.3019           1.6073         0.4892  ...         179                 0.0052                0.9253           119.0000    15\n15   volume_ma_deviation       0.2480             0.3019           1.6073         0.4892  ...         179                 0.0052                0.9253           119.0000    16\n16          rsi_enhanced       0.2467             0.2609           1.5990         0.4923  ...         207                 0.0053                0.9243           120.0000    17\n17    momentum_composite       0.2349             0.1773           1.5221         0.4899  ...         133                 0.0046                1.0600           104.0000    18\n18                roc_12       0.2331             0.2514           1.5109         0.5086  ...         218                 0.0047                1.0794           145.6000    19\n19      keltner_position       0.2324             0.1838           1.5059         0.5042  ...         160                 0.0043                1.0817           141.0000    20\n20   drawdown_volatility       0.2298             0.2297           1.4896         0.5121  ...         182                 0.0044                1.2540           156.0000    21\n21            volume_rsi       0.2286             0.1910           1.4816         0.4848  ...         172                 0.0043                0.9201           121.2500    22\n22                 roc_5       0.2187             0.2719           1.4176         0.4772  ...         232                 0.0044                1.0892           141.8000    23\n23            price_jump       0.2111             0.1794           1.3678         0.4814  ...         182                 0.0040                0.9080           112.2500    24\n24               kama_14       0.2109             0.2501           1.3668         0.4665  ...         228                 0.0041                1.2819           171.2000    25\n25      volatility_ratio       0.2070             0.1728           1.3412         0.4966  ...         279                 0.0038                1.0846           135.5000    26\n26      price_efficiency       0.2009             0.2207           1.3021         0.4879  ...         263                 0.0041                0.9035           113.6667    27\n27              aroon_up       0.1998             0.1805           1.2949         0.4822  ...         270                 0.0036                1.0680           140.1667    28\n28    vol_term_structure       0.1964             0.1936           1.2730         0.4654  ...         220                 0.0039                1.0818           115.4000    29\n29         macd_enhanced       0.1880             0.2000           1.2182         0.4824  ...         217                 0.0037                1.2116           156.2000    30\n30         parkinson_vol       0.1841             0.2627           1.1928         0.4735  ...         227                 0.0041                0.8999           120.8000    31\n31               dema_14       0.1836             0.1367           1.1898         0.4849  ...         230                 0.0033                1.2533           164.2000    32\n32              iv_proxy       0.1833             0.2404           1.1878         0.4699  ...         227                 0.0040                0.8998           120.4000    33\n33             hl_spread       0.1833             0.2404           1.1878         0.4699  ...         227                 0.0040                0.8998           120.4000    34\n34        vwap_deviation       0.1759             0.1674           1.1402         0.4860  ...         213                 0.0036                1.0782           144.0000    35\n35                mfi_14       0.1666             0.2146           1.0794         0.4849  ...         220                 0.0037                1.1080           139.6000    36\n36               ad_line       0.1573             0.2820           1.0197         0.4841  ...         255                 0.0031                1.0522           143.0000    37\n37               tema_14       0.1428             0.1132           0.9252         0.4815  ...         218                 0.0026                1.2350           157.8000    38\n38      smart_money_flow       0.1417             0.1520           0.9181         0.4775  ...         215                 0.0026                0.9021           127.0000    39\n39            aroon_down       0.1267             0.0992           0.8214         0.4595  ...         168                 0.0026                1.0808           141.0000    40\n40                 rsi_2       0.1224             0.0767           0.7932         0.4889  ...         214                 0.0025                1.0164           118.6000    41\n41             stoch_rsi       0.0981             0.0323           0.6358         0.4845  ...         155                 0.0017                1.0179            97.5000    42\n42                cci_14       0.0921             0.0572           0.5969         0.4809  ...         227                 0.0018                1.1025           154.6000    43\n43       composite_alpha       0.0911             0.0642           0.5905         0.4796  ...         251                 0.0019                0.9056           132.6667    44\n44               vw_macd       0.0695             0.0345           0.4502         0.4659  ...         176                 0.0013                0.9877           130.2500    45\n45  mean_reversion_score       0.0634             0.0032           0.4109         0.4740  ...         293                 0.0011                1.0742           143.5714    46\n46                   vpt       0.0629             0.0668           0.4079         0.4586  ...         252                 0.0013                1.0952           144.8333    47\n\n[47 rows x 13 columns]",
      "summary": {
        "tested_symbols": 10,
        "tested_factors": 52,
        "total_evaluations": 520,
        "valid_factors_count": 47,
        "best_factor": "vwap_deviation_rank",
        "best_sharpe": 0.8832
      }
    },
    "1d": {
      "timeframe": "1d",
      "cta_results": "      symbol               factor  total_return  sharpe  raw_sharpe  win_rate  ...  trades  avg_trade_return  signal_strength  signal_count                data_quality  annual_factor\n0    0700.HK  volume_ma_deviation           0.0     0.0         0.0       0.0  ...       0               0.0              0.0             0  failed: 交易次数不足30次 (实际: 12)            1.0\n1    0700.HK     volume_intensity           0.0     0.0         0.0       0.0  ...       0               0.0              0.0             0  failed: 交易次数不足30次 (实际: 12)            1.0\n2    0700.HK   zscore_momentum_20           0.0     0.0         0.0       0.0  ...       0               0.0              0.0             0   failed: 交易次数不足30次 (实际: 9)            1.0\n3    0700.HK      liquidity_proxy           0.0     0.0         0.0       0.0  ...       0               0.0              0.0             0  failed: 交易次数不足30次 (实际: 13)            1.0\n4    0700.HK     aroon_oscillator           0.0     0.0         0.0       0.0  ...       0               0.0              0.0             0  failed: 交易次数不足30次 (实际: 12)            1.0\n..       ...                  ...           ...     ...         ...       ...  ...     ...               ...              ...           ...                         ...            ...\n445  2018.HK     keltner_position           0.0     0.0         0.0       0.0  ...       0               0.0              0.0             0  failed: 交易次数不足30次 (实际: 19)            1.0\n446  2018.HK     smart_money_flow           0.0     0.0         0.0       0.0  ...       0               0.0              0.0             0  failed: 交易次数不足30次 (实际: 13)            1.0\n447  2018.HK                rsi_2           0.0     0.0         0.0       0.0  ...       0               0.0              0.0             0  failed: 交易次数不足30次 (实际: 13)            1.0\n448  2018.HK           bb_squeeze           0.0     0.0         0.0       0.0  ...       0               0.0              0.0             0  failed: 交易次数不足30次 (实际: 20)            1.0\n449  2018.HK                  cmf           0.0     0.0         0.0       0.0  ...       0               0.0              0.0             0  failed: 交易次数不足30次 (实际: 17)            1.0\n\n[450 rows x 14 columns]",
      "factor_ranking": "Empty DataFrame\nColumns: []\nIndex: []",
      "valid_factors": "Empty DataFrame\nColumns: []\nIndex: []",
      "summary": {
        "tested_symbols": 10,
        "tested_factors": 45,
        "total_evaluations": 450,
        "valid_factors_count": 0,
        "best_factor": null,
        "best_sharpe": 0
      }
    }
  }
}