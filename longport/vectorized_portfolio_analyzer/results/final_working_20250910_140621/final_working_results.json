{
  "execution_time": 1175.8679370880127,
  "analysis_approach": "final_working_vectorbt",
  "tested_symbols": [
    "0700.HK",
    "0005.HK",
    "0388.HK",
    "1211.HK",
    "0981.HK",
    "2015.HK",
    "0291.HK",
    "9888.HK",
    "0340.HK",
    "2018.HK",
    "0939.HK",
    "9988.HK",
    "3896.HK",
    "1088.HK",
    "9999.HK",
    "1398.HK",
    "2628.HK",
    "2020.HK",
    "9878.HK",
    "3690.HK",
    "3988.HK",
    "1952.HK",
    "0857.HK",
    "1801.HK",
    "2899.HK",
    "0883.HK",
    "0020.HK",
    "1810.HK",
    "2331.HK",
    "2382.HK",
    "6181.HK",
    "9633.HK",
    "2269.HK",
    "9618.HK",
    "1818.HK",
    "0175.HK",
    "3968.HK",
    "0992.HK",
    "0941.HK",
    "1299.HK",
    "3330.HK",
    "1288.HK",
    "2333.HK",
    "2318.HK",
    "2097.HK",
    "6160.HK",
    "1024.HK",
    "9868.HK",
    "3033.HK",
    "3908.HK",
    "9992.HK",
    "1548.HK",
    "6030.HK",
    "1729.HK"
  ],
  "tested_timeframes": [
    "1m",
    "2m",
    "3m",
    "5m",
    "10m",
    "15m",
    "30m",
    "1h",
    "4h",
    "1d"
  ],
  "working_config": {
    "test_timeframes": [
      "1m",
      "2m",
      "3m",
      "5m",
      "10m",
      "15m",
      "30m",
      "1h",
      "4h",
      "1d"
    ],
    "max_symbols": 54,
    "evaluation_mode": "cta",
    "min_ic_threshold": 0.005,
    "min_ir_threshold": 0.01,
    "min_sample_size": 10,
    "min_supporting_stocks": 2,
    "full_factor_pool": true,
    "debug_mode": true
  },
  "timeframe_results": {
    "1m": {
      "timeframe": "1m",
      "cta_results": "       symbol              factor  total_return    sharpe  raw_sharpe  win_rate  ...  trades  avg_trade_return  signal_strength  signal_count      data_quality  annual_factor\n0     0700.HK             trix_14      0.056830  0.012358    1.240688  0.474576  ...      59          0.001374         1.202540         11732  positive_returns     100.399203\n1     0700.HK           atrp_rank      0.124668  0.021255    2.133988  0.509804  ...      51          0.002733         1.313291         10939  positive_returns     100.399203\n2     0700.HK        atr_enhanced      0.163558  0.025566    2.566839  0.517857  ...      56          0.003128         0.980433          9160  positive_returns     100.399203\n3     0700.HK           hl_spread      0.152288  0.024195    2.429147  0.509434  ...      53          0.003126         0.952476         10971  positive_returns     100.399203\n4     0700.HK  momentum_composite      0.148605  0.023791    2.388642  0.500000  ...      50          0.003205         0.999863          9331  positive_returns     100.399203\n...       ...                 ...           ...       ...         ...       ...  ...     ...               ...              ...           ...               ...            ...\n2641  1729.HK    volatility_ratio      0.587956  0.046133    4.631674  0.522581  ...     155          0.003585         1.004779          8208  positive_returns     100.399203\n2642  1729.HK            aroon_up      0.689943  0.051937    5.214454  0.525316  ...     158          0.003903         1.044276          7680  positive_returns     100.399203\n2643  1729.HK             kama_14      0.732045  0.053311    5.352424  0.522293  ...     157          0.004085         1.409711         12185  positive_returns     100.399203\n2644  1729.HK    price_efficiency      0.694503  0.051234    5.143860  0.526667  ...     150          0.004108         0.842617         10724  positive_returns     100.399203\n2645  1729.HK                 vpt      0.425261  0.037415    3.756395  0.513889  ...     144          0.003035         1.473097         13597  positive_returns     100.399203\n\n[2646 rows x 14 columns]",
      "factor_ranking": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0                kama_14       0.0200             0.1850           2.0103         0.4842  ...        4019                 0.0019                1.4779         13538.7714     1\n1     macd_enhanced_rank       0.0200             0.1648           2.0043         0.4839  ...        4773                 0.0019                1.0650          8085.3902     2\n2                 adx_14       0.0193             0.1640           1.9360         0.4833  ...        3896                 0.0018                1.2230         11005.0286     3\n3                    vpt       0.0191             0.1765           1.9208         0.4798  ...        4391                 0.0017                1.4227         13513.7632     4\n4     vol_term_structure       0.0190             0.1634           1.9073         0.4833  ...        3876                 0.0017                1.0190          8399.6471     5\n5            rsi_14_rank       0.0187             0.1573           1.8776         0.4825  ...        3827                 0.0017                1.0942          8339.7059     6\n6            skewness_60       0.0184             0.1460           1.8501         0.4832  ...        3905                 0.0018                1.2480         12050.2973     7\n7        liquidity_proxy       0.0177             0.1427           1.7800         0.4800  ...        3696                 0.0016                0.6815         13747.8000     8\n8     zscore_momentum_20       0.0175             0.1420           1.7586         0.4820  ...        4380                 0.0016                0.9767          8063.9722     9\n9                  rsi_2       0.0175             0.1295           1.7521         0.4802  ...        4437                 0.0016                1.0078          7548.0000    10\n10            aroon_down       0.0174             0.1428           1.7491         0.4818  ...        3591                 0.0016                1.0403          7881.1818    11\n11                rsi_14       0.0174             0.1474           1.7483         0.4786  ...        4009                 0.0015                1.0944          9883.3429    12\n12      aroon_oscillator       0.0172             0.1567           1.7222         0.4815  ...        4236                 0.0015                1.0465          8656.2105    13\n13              aroon_up       0.0171             0.1264           1.7152         0.4812  ...        4049                 0.0016                1.0389          7835.1081    14\n14      price_efficiency       0.0168             0.1626           1.6882         0.4779  ...        4352                 0.0015                0.9399          8135.7632    15\n15             atrp_rank       0.0167             0.1323           1.6754         0.4766  ...        4361                 0.0015                1.3183         11175.7895    16\n16               rsi_100       0.0167             0.1403           1.6750         0.4765  ...        4709                 0.0014                1.2900         12488.0263    17\n17         macd_enhanced       0.0166             0.1512           1.6659         0.4766  ...        4838                 0.0015                1.0245         10941.0000    18\n18               dema_14       0.0166             0.1340           1.6649         0.4786  ...        3792                 0.0015                1.3883         12640.5882    19\n19      keltner_position       0.0164             0.1297           1.6419         0.4793  ...        4249                 0.0014                1.0523          9362.9167    20\n20                cci_14       0.0163             0.1476           1.6322         0.4767  ...        4804                 0.0014                1.0079          8407.0263    21\n21             stoch_rsi       0.0163             0.1050           1.6317         0.4834  ...        4160                 0.0016                0.9969          8868.1111    22\n22        trend_strength       0.0163             0.1338           1.6383         0.4767  ...        4351                 0.0015                1.0318          9468.2368    23\n23            bb_squeeze       0.0162             0.1285           1.6306         0.4782  ...        4021                 0.0015                1.1313         10845.3611    24\n24                roc_12       0.0161             0.1445           1.6144         0.4741  ...        4257                 0.0013                1.0430          9542.2973    25\n25                 roc_5       0.0161             0.1268           1.6151         0.4759  ...        4245                 0.0014                0.9755          9060.0857    26\n26        vwap_deviation       0.0160             0.1605           1.6042         0.4757  ...        4491                 0.0013                1.0539          9745.9459    27\n27               tema_14       0.0158             0.1263           1.5886         0.4768  ...        4117                 0.0014                1.3573         12293.9722    28\n28             hl_spread       0.0157             0.1384           1.5713         0.4748  ...        4523                 0.0013                0.9356         11006.9189    29\n29              iv_proxy       0.0157             0.1384           1.5713         0.4748  ...        4523                 0.0013                0.9356         11006.9189    30\n30          atr_enhanced       0.0157             0.1224           1.5795         0.4767  ...        4287                 0.0014                0.9964          9162.1351    31\n31         parkinson_vol       0.0156             0.1364           1.5655         0.4742  ...        4531                 0.0013                0.9356         10993.2162    32\n32               vw_macd       0.0156             0.1236           1.5624         0.4757  ...        4909                 0.0014                0.8247          9703.3750    33\n33            volume_rsi       0.0155             0.1100           1.5520         0.4777  ...        4269                 0.0014                0.9233          8265.5676    34\n34               ad_line       0.0153             0.1220           1.5389         0.4760  ...        4730                 0.0014                1.4518         13510.7500    35\n35      volume_intensity       0.0152             0.1146           1.5224         0.4789  ...        4546                 0.0014                0.8319          8443.6500    36\n36   volume_ma_deviation       0.0152             0.1146           1.5224         0.4789  ...        4546                 0.0014                0.8319          8443.6500    37\n37   vwap_deviation_rank       0.0152             0.1305           1.5297         0.4755  ...        4210                 0.0013                1.0625          8028.0789    38\n38                   cmf       0.0151             0.1052           1.5207         0.4781  ...        3551                 0.0014                1.1068          8782.0270    39\n39            price_jump       0.0148             0.1156           1.4906         0.4765  ...        4491                 0.0014                0.9720          9132.5897    40\n40   drawdown_volatility       0.0148             0.1168           1.4878         0.4771  ...        4461                 0.0013                1.2111         11122.6053    41\n41                  atrp       0.0147             0.1189           1.4789         0.4729  ...        4353                 0.0012                1.2431         13309.2105    42\n42  mean_reversion_score       0.0145             0.1077           1.4594         0.4754  ...        4677                 0.0013                1.0314          8388.4211    43\n43    momentum_composite       0.0144             0.0977           1.4465         0.4738  ...        4486                 0.0013                1.0023          9277.1842    44\n44       composite_alpha       0.0143             0.0945           1.4371         0.4742  ...        4358                 0.0012                0.9790          8874.5676    45\n45               trix_14       0.0142             0.1088           1.4306         0.4758  ...        4184                 0.0013                1.2078         11595.9722    46\n46      smart_money_flow       0.0141             0.1001           1.4129         0.4750  ...        4912                 0.0012                0.9538          9122.6750    47\n47      volatility_ratio       0.0137             0.0903           1.3734         0.4739  ...        4477                 0.0013                1.0133          8179.2821    48\n48          rsi_enhanced       0.0126             0.0698           1.2686         0.4709  ...        4923                 0.0011                0.8476          8480.0976    49\n\n[49 rows x 13 columns]",
      "valid_factors": "Empty DataFrame\nColumns: [factor, sharpe_mean, total_return_mean, raw_sharpe_mean, win_rate_mean, profit_loss_ratio_mean, max_drawdown_mean, trades_mean, trades_sum, avg_trade_return_mean, signal_strength_mean, signal_count_mean, rank]\nIndex: []",
      "summary": {
        "tested_symbols": 54,
        "tested_factors": 49,
        "total_evaluations": 2646,
        "valid_factors_count": 0,
        "best_factor": "kama_14",
        "best_sharpe": 0.02
      }
    },
    "2m": {
      "timeframe": "2m",
      "cta_results": "       symbol              factor  total_return    sharpe  raw_sharpe  win_rate  ...  trades  avg_trade_return  signal_strength  signal_count      data_quality  annual_factor\n0     0700.HK             trix_14      0.039263  0.022415    1.006448  0.475410  ...      61          0.001059         1.440539          7609  positive_returns      44.899889\n1     0700.HK           atrp_rank     -0.041141 -0.004411   -0.198041  0.468085  ...      47         -0.000455         1.397525          6454      needs_review      44.899889\n2     0700.HK        atr_enhanced      0.025233  0.017979    0.807263  0.470588  ...      51          0.000977         0.976445          4489  positive_returns      44.899889\n3     0700.HK           hl_spread      0.037460  0.021845    0.980835  0.480000  ...      50          0.001189         0.974133          4815  positive_returns      44.899889\n4     0700.HK  momentum_composite      0.146491  0.054303    2.438206  0.510204  ...      49          0.003249         1.003403          4589  positive_returns      44.899889\n...       ...                 ...           ...       ...         ...       ...  ...     ...               ...              ...           ...               ...            ...\n2641  1729.HK    volatility_ratio      1.119084  0.162743    7.307123  0.535948  ...     153          0.005454         1.046144          4228  positive_returns      44.899889\n2642  1729.HK            aroon_up      1.027683  0.157889    7.089182  0.544118  ...     136          0.005768         1.143827          3898  positive_returns      44.899889\n2643  1729.HK             kama_14      0.757591  0.125605    5.639638  0.520270  ...     148          0.004357         1.517319          7299  positive_returns      44.899889\n2644  1729.HK    price_efficiency      0.840251  0.136101    6.110925  0.522293  ...     157          0.004429         0.915953          4548  positive_returns      44.899889\n2645  1729.HK                 vpt      0.737218  0.124167    5.575063  0.522388  ...     134          0.004703         1.423026          6582  positive_returns      44.899889\n\n[2646 rows x 14 columns]",
      "factor_ranking": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0       aroon_oscillator       0.0445             0.1973           2.0000         0.4879  ...        3611                 0.0019                1.1447          4732.0294     1\n1     zscore_momentum_20       0.0440             0.1647           1.9744         0.4881  ...        3488                 0.0019                0.9758          4091.2059     2\n2            skewness_60       0.0421             0.1727           1.8913         0.4835  ...        3606                 0.0017                1.3587          6928.2188     3\n3                  rsi_2       0.0414             0.1513           1.8588         0.4883  ...        3751                 0.0018                1.0158          3909.7143     4\n4    volume_ma_deviation       0.0402             0.1567           1.8056         0.4814  ...        4081                 0.0018                0.9162          4477.3846     5\n5       volume_intensity       0.0402             0.1567           1.8056         0.4814  ...        4081                 0.0018                0.9162          4477.3590     6\n6                vw_macd       0.0401             0.1703           1.7997         0.4831  ...        3733                 0.0016                0.9920          6612.4000     7\n7       price_efficiency       0.0401             0.1632           1.8002         0.4767  ...        3777                 0.0016                0.9495          4277.9412     8\n8              stoch_rsi       0.0398             0.1372           1.7889         0.4829  ...        4037                 0.0017                0.9970          3933.6667     9\n9              hl_spread       0.0398             0.1553           1.7864         0.4792  ...        3589                 0.0015                0.9565          5077.4375    10\n10              iv_proxy       0.0398             0.1553           1.7864         0.4792  ...        3589                 0.0015                0.9565          5077.4375    11\n11                   vpt       0.0397             0.1670           1.7818         0.4794  ...        3621                 0.0016                1.3743          6547.8824    12\n12    macd_enhanced_rank       0.0393             0.1548           1.7645         0.4883  ...        3406                 0.0017                1.2058          4487.5000    13\n13         parkinson_vol       0.0388             0.1511           1.7423         0.4790  ...        3621                 0.0015                0.9556          5106.8485    14\n14                roc_12       0.0388             0.1720           1.7443         0.4814  ...        3601                 0.0015                1.1531          5487.8750    15\n15                 roc_5       0.0387             0.1655           1.7379         0.4820  ...        3385                 0.0014                1.0414          4737.5625    16\n16            aroon_down       0.0386             0.1630           1.7341         0.4845  ...        3511                 0.0016                1.1411          3952.4286    17\n17        trend_strength       0.0385             0.1522           1.7282         0.4811  ...        3469                 0.0016                1.1576          4963.8710    18\n18  mean_reversion_score       0.0374             0.1421           1.6796         0.4820  ...        3193                 0.0015                1.1111          4904.1250    19\n19                adx_14       0.0374             0.1406           1.6794         0.4810  ...        3684                 0.0016                1.3942          6601.5556    20\n20    vol_term_structure       0.0369             0.1321           1.6562         0.4793  ...        4086                 0.0015                1.0954          4781.3889    21\n21       liquidity_proxy       0.0368             0.1443           1.6522         0.4801  ...        3636                 0.0015                1.0731          5126.4595    22\n22   vwap_deviation_rank       0.0363             0.1434           1.6314         0.4822  ...        3892                 0.0015                1.1627          4544.1389    23\n23               rsi_100       0.0362             0.1584           1.6270         0.4794  ...        3789                 0.0014                1.2958          6088.4000    24\n24            volume_rsi       0.0362             0.1363           1.6275         0.4794  ...        4245                 0.0015                0.9653          4577.0000    25\n25                  atrp       0.0360             0.1275           1.6165         0.4766  ...        3963                 0.0015                1.3565          6781.3333    26\n26               trix_14       0.0357             0.1509           1.6043         0.4755  ...        4258                 0.0014                1.4430          7324.2162    27\n27             atrp_rank       0.0355             0.1269           1.5931         0.4793  ...        3587                 0.0015                1.4021          6397.9412    28\n28      volatility_ratio       0.0346             0.1244           1.5526         0.4749  ...        4034                 0.0014                1.0558          4531.5556    29\n29          rsi_enhanced       0.0346             0.1346           1.5542         0.4772  ...        4315                 0.0014                0.9176          4423.9000    30\n30          atr_enhanced       0.0345             0.1175           1.5489         0.4734  ...        4076                 0.0014                1.0012          4452.8108    31\n31               ad_line       0.0341             0.1255           1.5294         0.4785  ...        3688                 0.0013                1.4021          6508.5000    32\n32               dema_14       0.0341             0.1294           1.5301         0.4768  ...        3653                 0.0013                1.4435          6944.4118    33\n33   drawdown_volatility       0.0337             0.1301           1.5117         0.4787  ...        3887                 0.0014                1.4087          6440.9714    34\n34                rsi_14       0.0334             0.1306           1.5010         0.4758  ...        4313                 0.0013                1.1844          5584.1842    35\n35       composite_alpha       0.0334             0.1088           1.5008         0.4757  ...        3982                 0.0014                1.0144          4727.9706    36\n36      keltner_position       0.0333             0.1233           1.4958         0.4782  ...        3989                 0.0013                1.1653          5655.4722    37\n37               kama_14       0.0332             0.1381           1.4905         0.4749  ...        4220                 0.0013                1.5701          7447.5135    38\n38           rsi_14_rank       0.0332             0.1341           1.4915         0.4793  ...        3832                 0.0013                1.1917          4694.4857    39\n39            price_jump       0.0327             0.1076           1.4677         0.4775  ...        3991                 0.0013                0.9782          4293.7297    40\n40        vwap_deviation       0.0326             0.1353           1.4649         0.4756  ...        4122                 0.0013                1.1602          5621.8108    41\n41    momentum_composite       0.0325             0.1043           1.4587         0.4769  ...        4393                 0.0014                1.0061          4572.0750    42\n42            bb_squeeze       0.0324             0.1260           1.4528         0.4782  ...        3457                 0.0012                1.3096          5965.8125    43\n43               tema_14       0.0322             0.1246           1.4471         0.4763  ...        4156                 0.0013                1.3848          6509.8108    44\n44              aroon_up       0.0321             0.1150           1.4412         0.4776  ...        3857                 0.0013                1.1429          3973.2105    45\n45                cci_14       0.0317             0.1028           1.4249         0.4760  ...        3507                 0.0012                1.0664          4614.6000    46\n46      smart_money_flow       0.0313             0.0994           1.4073         0.4775  ...        4210                 0.0013                0.9658          4332.1351    47\n47         macd_enhanced       0.0309             0.1151           1.3866         0.4752  ...        4300                 0.0012                1.2179          6127.4474    48\n48                   cmf       0.0255             0.0577           1.1459         0.4734  ...        3466                 0.0010                1.1810          5224.6757    49\n\n[49 rows x 13 columns]",
      "valid_factors": "Empty DataFrame\nColumns: [factor, sharpe_mean, total_return_mean, raw_sharpe_mean, win_rate_mean, profit_loss_ratio_mean, max_drawdown_mean, trades_mean, trades_sum, avg_trade_return_mean, signal_strength_mean, signal_count_mean, rank]\nIndex: []",
      "summary": {
        "tested_symbols": 54,
        "tested_factors": 49,
        "total_evaluations": 2646,
        "valid_factors_count": 0,
        "best_factor": "aroon_oscillator",
        "best_sharpe": 0.0445
      }
    },
    "3m": {
      "timeframe": "3m",
      "cta_results": "       symbol              factor  total_return    sharpe  raw_sharpe  win_rate  ...  trades  avg_trade_return  signal_strength  signal_count      data_quality  annual_factor\n0     0700.HK             trix_14      0.162853  0.061105    2.743618  0.500000  ...      54          0.003246         1.449684          4919  positive_returns      44.899889\n1     0700.HK           atrp_rank     -0.001405  0.008634    0.387682  0.477273  ...      44          0.000416         1.410552          3893  positive_returns      44.899889\n2     0700.HK        atr_enhanced      0.127696  0.050423    2.263995  0.491228  ...      57          0.002529         0.970248          3033  positive_returns      44.899889\n3     0700.HK           hl_spread      0.184603  0.066853    3.001681  0.500000  ...      54          0.003608         0.970618          3360  positive_returns      44.899889\n4     0700.HK  momentum_composite      0.104328  0.043175    1.938572  0.489362  ...      47          0.002614         1.005822          2978  positive_returns      44.899889\n...       ...                 ...           ...       ...         ...       ...  ...     ...               ...              ...           ...               ...            ...\n2641  1729.HK    volatility_ratio      0.828139  0.131816    5.918508  0.539683  ...     126          0.005457         1.051584          2828  positive_returns      44.899889\n2642  1729.HK            aroon_up      1.068914  0.158481    7.115770  0.555556  ...     135          0.006027         1.130098          2631  positive_returns      44.899889\n2643  1729.HK             kama_14      0.705907  0.121990    5.477347  0.529412  ...     136          0.004544         1.525418          4828  positive_returns      44.899889\n2644  1729.HK    price_efficiency      0.716168  0.119896    5.383299  0.531915  ...     141          0.004486         0.934053          2965  positive_returns      44.899889\n2645  1729.HK                 vpt      0.646098  0.111587    5.010239  0.518519  ...     135          0.004334         1.436690          4474  positive_returns      44.899889\n\n[2646 rows x 14 columns]",
      "factor_ranking": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0                 cci_14       0.0491             0.2187           2.2036         0.4848  ...        3296                 0.0020                1.0678          3105.7500     1\n1     zscore_momentum_20       0.0479             0.1907           2.1506         0.4905  ...        4051                 0.0022                0.9778          2756.8421     2\n2             aroon_down       0.0477             0.1842           2.1407         0.4901  ...        3259                 0.0021                1.1366          2646.2286     3\n3                   atrp       0.0467             0.1955           2.0991         0.4859  ...        3890                 0.0021                1.3832          4359.7027     4\n4               aroon_up       0.0465             0.1987           2.0888         0.4875  ...        3829                 0.0021                1.1328          2663.4474     5\n5           rsi_enhanced       0.0463             0.1759           2.0786         0.4835  ...        3959                 0.0020                0.9344          2993.4595     6\n6     vol_term_structure       0.0462             0.1764           2.0759         0.4863  ...        3482                 0.0021                1.1133          3294.0000     7\n7              stoch_rsi       0.0456             0.1635           2.0479         0.4882  ...        3419                 0.0021                0.9971          2603.8485     8\n8                vw_macd       0.0455             0.1990           2.0451         0.4859  ...        3365                 0.0019                1.0177          4443.4848     9\n9       volatility_ratio       0.0445             0.1639           1.9976         0.4885  ...        3782                 0.0020                1.0591          3061.5263    10\n10               tema_14       0.0444             0.1879           1.9918         0.4841  ...        3642                 0.0019                1.3938          4369.8000    11\n11      keltner_position       0.0443             0.1814           1.9869         0.4850  ...        3194                 0.0019                1.1740          3866.0303    12\n12               dema_14       0.0442             0.1856           1.9866         0.4834  ...        3805                 0.0019                1.4525          4673.8857    13\n13    macd_enhanced_rank       0.0440             0.1690           1.9759         0.4827  ...        3167                 0.0019                1.2196          3034.7333    14\n14       composite_alpha       0.0439             0.2006           1.9716         0.4811  ...        3645                 0.0018                1.0175          3203.5588    15\n15      smart_money_flow       0.0437             0.1747           1.9630         0.4842  ...        4073                 0.0019                0.9623          2890.2432    16\n16         macd_enhanced       0.0435             0.1573           1.9514         0.4849  ...        4042                 0.0019                1.2321          4167.2895    17\n17            bb_squeeze       0.0435             0.1589           1.9528         0.4811  ...        3733                 0.0019                1.3234          4057.7500    18\n18           skewness_60       0.0433             0.1723           1.9436         0.4882  ...        3738                 0.0019                1.3653          4640.6757    19\n19               trix_14       0.0432             0.1584           1.9401         0.4813  ...        3681                 0.0019                1.4456          4969.2222    20\n20  mean_reversion_score       0.0430             0.1838           1.9303         0.4801  ...        3745                 0.0018                1.1158          3310.1667    21\n21                   vpt       0.0425             0.1707           1.9103         0.4812  ...        3974                 0.0018                1.3779          4500.3784    22\n22                 rsi_2       0.0423             0.1531           1.8980         0.4798  ...        3657                 0.0019                1.0144          2636.7941    23\n23   vwap_deviation_rank       0.0422             0.1657           1.8937         0.4806  ...        3764                 0.0018                1.1711          3089.1471    24\n24      aroon_oscillator       0.0421             0.1694           1.8897         0.4813  ...        3657                 0.0018                1.1426          3119.4286    25\n25   volume_ma_deviation       0.0420             0.1593           1.8867         0.4834  ...        4139                 0.0019                0.9391          3061.8158    26\n26      volume_intensity       0.0420             0.1593           1.8867         0.4834  ...        4139                 0.0019                0.9391          3061.8158    27\n27          atr_enhanced       0.0419             0.1535           1.8827         0.4801  ...        3281                 0.0018                1.0040          3038.0000    28\n28                adx_14       0.0415             0.1696           1.8626         0.4822  ...        3408                 0.0017                1.3937          4397.0000    29\n29                roc_12       0.0414             0.1988           1.8576         0.4784  ...        4193                 0.0017                1.1623          3738.8421    30\n30             atrp_rank       0.0412             0.1689           1.8508         0.4785  ...        3692                 0.0018                1.4060          3968.4857    31\n31   drawdown_volatility       0.0405             0.1595           1.8169         0.4798  ...        3961                 0.0017                1.4149          4339.1842    32\n32               kama_14       0.0401             0.1339           1.7989         0.4821  ...        3867                 0.0018                1.5744          4968.2051    33\n33      price_efficiency       0.0400             0.1531           1.7953         0.4809  ...        4105                 0.0017                0.9435          2867.1282    34\n34               rsi_100       0.0400             0.1530           1.7960         0.4798  ...        4025                 0.0016                1.3081          4115.8378    35\n35        vwap_deviation       0.0397             0.1591           1.7812         0.4784  ...        3993                 0.0016                1.1663          3836.7568    36\n36                 roc_5       0.0393             0.1726           1.7653         0.4766  ...        4233                 0.0016                1.0497          3258.3947    37\n37            price_jump       0.0377             0.1324           1.6915         0.4830  ...        4124                 0.0017                0.9753          2847.3659    38\n38                   cmf       0.0377             0.1128           1.6936         0.4801  ...        3191                 0.0017                1.2278          3775.6875    39\n39            volume_rsi       0.0373             0.1218           1.6738         0.4794  ...        3965                 0.0017                0.9838          3197.6053    40\n40         parkinson_vol       0.0360             0.1275           1.6177         0.4776  ...        4094                 0.0016                0.9516          3374.0000    41\n41        trend_strength       0.0357             0.1150           1.6008         0.4810  ...        4215                 0.0016                1.1672          3346.1842    42\n42              iv_proxy       0.0356             0.1274           1.5982         0.4775  ...        3972                 0.0015                0.9523          3379.0811    43\n43             hl_spread       0.0356             0.1274           1.5982         0.4775  ...        3972                 0.0015                0.9523          3379.0811    44\n44    momentum_composite       0.0349             0.1202           1.5664         0.4778  ...        3966                 0.0015                1.0061          3061.2105    45\n45                rsi_14       0.0341             0.1302           1.5318         0.4763  ...        4505                 0.0014                1.1945          3795.7317    46\n46               ad_line       0.0340             0.1099           1.5249         0.4788  ...        4715                 0.0016                1.3970          4422.6136    47\n47       liquidity_proxy       0.0332             0.0941           1.4918         0.4748  ...        3849                 0.0015                0.9628          3534.5526    48\n48           rsi_14_rank       0.0297             0.1068           1.3315         0.4729  ...        3856                 0.0012                1.2033          3184.9737    49\n\n[49 rows x 13 columns]",
      "valid_factors": "Empty DataFrame\nColumns: [factor, sharpe_mean, total_return_mean, raw_sharpe_mean, win_rate_mean, profit_loss_ratio_mean, max_drawdown_mean, trades_mean, trades_sum, avg_trade_return_mean, signal_strength_mean, signal_count_mean, rank]\nIndex: []",
      "summary": {
        "tested_symbols": 54,
        "tested_factors": 49,
        "total_evaluations": 2646,
        "valid_factors_count": 0,
        "best_factor": "cci_14",
        "best_sharpe": 0.0491
      }
    },
    "5m": {
      "timeframe": "5m",
      "cta_results": "       symbol              factor  total_return    sharpe  raw_sharpe  win_rate  ...  trades  avg_trade_return  signal_strength  signal_count      data_quality  annual_factor\n0     0700.HK             trix_14      0.127776  0.051582    2.316045  0.523810  ...      42          0.003372         1.337938          2757  positive_returns      44.899889\n1     0700.HK           atrp_rank      0.099818  0.043966    1.974066  0.511111  ...      45          0.002575         1.204712          1886  positive_returns      44.899889\n2     0700.HK        atr_enhanced      0.122774  0.049695    2.231314  0.531915  ...      47          0.002960         0.953394          1834  positive_returns      44.899889\n3     0700.HK           hl_spread      0.188657  0.069637    3.126703  0.531915  ...      47          0.004163         0.920205          1841  positive_returns      44.899889\n4     0700.HK  momentum_composite      0.124005  0.050283    2.257710  0.520000  ...      50          0.002792         1.003271          1952  positive_returns      44.899889\n...       ...                 ...           ...       ...         ...       ...  ...     ...               ...              ...           ...               ...            ...\n2641  1729.HK    volatility_ratio      0.647212  0.113148    5.080328  0.528455  ...     123          0.004711         1.024936          1693  positive_returns      44.899889\n2642  1729.HK            aroon_up      0.578913  0.109426    4.913199  0.530973  ...     113          0.004684         1.056469          1544  positive_returns      44.899889\n2643  1729.HK             kama_14      1.244737  0.175976    7.901290  0.573913  ...     115          0.007750         1.492988          2757  positive_returns      44.899889\n2644  1729.HK    price_efficiency      0.841884  0.135482    6.083119  0.544000  ...     125          0.005537         0.915663          1716  positive_returns      44.899889\n2645  1729.HK                 vpt      0.848821  0.140947    6.328493  0.554545  ...     110          0.006250         1.445983          2591  positive_returns      44.899889\n\n[2646 rows x 14 columns]",
      "factor_ranking": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0                  rsi_2       0.0571             0.2525           2.5627         0.4889  ...        3461                 0.0026                1.0091          1570.0857     1\n1   mean_reversion_score       0.0555             0.2261           2.4929         0.4903  ...        3715                 0.0026                1.0803          1849.5278     2\n2     zscore_momentum_20       0.0543             0.2147           2.4367         0.4930  ...        3918                 0.0025                0.9676          1652.1750     3\n3            rsi_14_rank       0.0539             0.2241           2.4223         0.4869  ...        3439                 0.0024                1.1761          1833.2222     4\n4                ad_line       0.0538             0.2339           2.4159         0.4879  ...        3871                 0.0024                1.4128          2654.7692     5\n5       keltner_position       0.0537             0.2142           2.4112         0.4915  ...        3723                 0.0025                1.1201          2222.2895     6\n6                vw_macd       0.0535             0.2263           2.4033         0.4935  ...        3758                 0.0025                0.9676          2349.4474     7\n7                  roc_5       0.0531             0.2149           2.3828         0.4936  ...        3883                 0.0025                1.0235          1891.1026     8\n8              stoch_rsi       0.0531             0.2176           2.3858         0.4897  ...        3446                 0.0024                0.9955          1626.3333     9\n9       aroon_oscillator       0.0527             0.2061           2.3663         0.4906  ...        3144                 0.0025                1.0935          1737.7778    10\n10                adx_14       0.0526             0.1986           2.3606         0.4944  ...        3301                 0.0025                1.3136          2392.6111    11\n11       composite_alpha       0.0519             0.2217           2.3306         0.4880  ...        3699                 0.0023                0.9899          1849.0286    12\n12               kama_14       0.0515             0.1837           2.3131         0.4921  ...        3735                 0.0025                1.5464          2868.5000    13\n13                   cmf       0.0511             0.1821           2.2953         0.4921  ...        3125                 0.0025                1.2022          2175.0286    14\n14   drawdown_volatility       0.0510             0.2123           2.2892         0.4891  ...        3502                 0.0024                1.2826          2253.0811    15\n15    momentum_composite       0.0504             0.2044           2.2629         0.4862  ...        3982                 0.0023                1.0044          1920.7692    16\n16             atrp_rank       0.0502             0.1947           2.2522         0.4940  ...        3410                 0.0023                1.2124          1922.4359    17\n17   volume_ma_deviation       0.0501             0.2028           2.2495         0.4908  ...        3533                 0.0024                0.9111          1821.9730    18\n18      volume_intensity       0.0501             0.2028           2.2495         0.4908  ...        3533                 0.0024                0.9111          1821.9730    19\n19               dema_14       0.0500             0.1988           2.2459         0.4882  ...        3929                 0.0023                1.4476          2661.5610    20\n20                rsi_14       0.0499             0.1894           2.2410         0.4888  ...        3936                 0.0023                1.1675          2222.0769    21\n21      price_efficiency       0.0498             0.1870           2.2359         0.4910  ...        3465                 0.0023                0.8848          1665.8000    22\n22            price_jump       0.0489             0.2012           2.1954         0.4910  ...        3705                 0.0023                0.9437          1671.3077    23\n23           skewness_60       0.0488             0.2045           2.1909         0.4948  ...        3697                 0.0024                1.4128          2340.4286    24\n24            aroon_down       0.0487             0.1677           2.1864         0.4903  ...        3094                 0.0023                1.0740          1536.0556    25\n25              aroon_up       0.0485             0.1696           2.1792         0.4900  ...        3051                 0.0023                1.0738          1528.5000    26\n26      volatility_ratio       0.0485             0.1702           2.1782         0.4898  ...        3733                 0.0023                1.0272          1782.1081    27\n27         parkinson_vol       0.0485             0.1844           2.1766         0.4940  ...        4016                 0.0023                0.8999          1805.0256    28\n28         macd_enhanced       0.0481             0.1634           2.1585         0.4912  ...        3273                 0.0023                1.1269          2154.0833    29\n29             hl_spread       0.0480             0.1840           2.1566         0.4941  ...        4015                 0.0023                0.9001          1806.8974    30\n30          rsi_enhanced       0.0480             0.1709           2.1567         0.4925  ...        3176                 0.0023                0.9164          1808.0294    31\n31              iv_proxy       0.0480             0.1840           2.1566         0.4941  ...        4015                 0.0023                0.9001          1806.8974    32\n32               trix_14       0.0479             0.1744           2.1504         0.4861  ...        3910                 0.0022                1.3433          2798.0976    33\n33    vol_term_structure       0.0476             0.1968           2.1367         0.4890  ...        3707                 0.0022                1.0640          1850.0000    34\n34               rsi_100       0.0471             0.1894           2.1127         0.4875  ...        3978                 0.0022                1.3339          2483.3659    35\n35                   vpt       0.0463             0.1831           2.0789         0.4879  ...        3948                 0.0022                1.4141          2555.4878    36\n36       liquidity_proxy       0.0461             0.1702           2.0717         0.4909  ...        3486                 0.0023                0.9748          1942.8250    37\n37            volume_rsi       0.0460             0.1677           2.0635         0.4936  ...        3149                 0.0022                0.9813          1823.7714    38\n38          atr_enhanced       0.0455             0.1751           2.0426         0.4865  ...        4086                 0.0021                0.9881          1806.7073    39\n39        trend_strength       0.0455             0.1736           2.0446         0.4866  ...        3550                 0.0021                1.1117          1894.9474    40\n40      smart_money_flow       0.0450             0.1685           2.0227         0.4838  ...        3676                 0.0020                0.9454          1699.7297    41\n41                roc_12       0.0449             0.1562           2.0173         0.4875  ...        3577                 0.0021                1.1239          2163.5405    42\n42        vwap_deviation       0.0444             0.1697           1.9945         0.4838  ...        3926                 0.0020                1.1208          2193.5526    43\n43                cci_14       0.0440             0.1739           1.9743         0.4774  ...        4101                 0.0019                1.0370          1782.5250    44\n44               tema_14       0.0425             0.1628           1.9086         0.4827  ...        4248                 0.0019                1.3976          2489.9545    45\n45            bb_squeeze       0.0423             0.1503           1.8986         0.4821  ...        3854                 0.0019                1.2144          2132.3571    46\n46    macd_enhanced_rank       0.0405             0.1266           1.8172         0.4798  ...        3493                 0.0019                1.1270          1599.4211    47\n47   vwap_deviation_rank       0.0401             0.1340           1.8009         0.4815  ...        3550                 0.0019                1.1218          1743.0789    48\n48                  atrp       0.0385             0.1407           1.7267         0.4821  ...        4467                 0.0019                1.1958          2228.3404    49\n\n[49 rows x 13 columns]",
      "valid_factors": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0                  rsi_2       0.0571             0.2525           2.5627         0.4889  ...        3461                 0.0026                1.0091          1570.0857     1\n1   mean_reversion_score       0.0555             0.2261           2.4929         0.4903  ...        3715                 0.0026                1.0803          1849.5278     2\n2     zscore_momentum_20       0.0543             0.2147           2.4367         0.4930  ...        3918                 0.0025                0.9676          1652.1750     3\n3            rsi_14_rank       0.0539             0.2241           2.4223         0.4869  ...        3439                 0.0024                1.1761          1833.2222     4\n4                ad_line       0.0538             0.2339           2.4159         0.4879  ...        3871                 0.0024                1.4128          2654.7692     5\n5       keltner_position       0.0537             0.2142           2.4112         0.4915  ...        3723                 0.0025                1.1201          2222.2895     6\n6                vw_macd       0.0535             0.2263           2.4033         0.4935  ...        3758                 0.0025                0.9676          2349.4474     7\n7                  roc_5       0.0531             0.2149           2.3828         0.4936  ...        3883                 0.0025                1.0235          1891.1026     8\n8              stoch_rsi       0.0531             0.2176           2.3858         0.4897  ...        3446                 0.0024                0.9955          1626.3333     9\n9       aroon_oscillator       0.0527             0.2061           2.3663         0.4906  ...        3144                 0.0025                1.0935          1737.7778    10\n10                adx_14       0.0526             0.1986           2.3606         0.4944  ...        3301                 0.0025                1.3136          2392.6111    11\n11       composite_alpha       0.0519             0.2217           2.3306         0.4880  ...        3699                 0.0023                0.9899          1849.0286    12\n12               kama_14       0.0515             0.1837           2.3131         0.4921  ...        3735                 0.0025                1.5464          2868.5000    13\n13                   cmf       0.0511             0.1821           2.2953         0.4921  ...        3125                 0.0025                1.2022          2175.0286    14\n14   drawdown_volatility       0.0510             0.2123           2.2892         0.4891  ...        3502                 0.0024                1.2826          2253.0811    15\n15    momentum_composite       0.0504             0.2044           2.2629         0.4862  ...        3982                 0.0023                1.0044          1920.7692    16\n16             atrp_rank       0.0502             0.1947           2.2522         0.4940  ...        3410                 0.0023                1.2124          1922.4359    17\n17   volume_ma_deviation       0.0501             0.2028           2.2495         0.4908  ...        3533                 0.0024                0.9111          1821.9730    18\n18      volume_intensity       0.0501             0.2028           2.2495         0.4908  ...        3533                 0.0024                0.9111          1821.9730    19\n19               dema_14       0.0500             0.1988           2.2459         0.4882  ...        3929                 0.0023                1.4476          2661.5610    20\n\n[20 rows x 13 columns]",
      "summary": {
        "tested_symbols": 54,
        "tested_factors": 49,
        "total_evaluations": 2646,
        "valid_factors_count": 20,
        "best_factor": "rsi_2",
        "best_sharpe": 0.0571
      }
    },
    "10m": {
      "timeframe": "10m",
      "cta_results": "       symbol              factor  total_return    sharpe  raw_sharpe  win_rate  ...  trades  avg_trade_return  signal_strength  signal_count      data_quality  annual_factor\n0     0700.HK             trix_14      0.025254  0.017902    0.803799  0.514286  ...      35          0.001245         1.435069          1559  positive_returns      44.899889\n1     0700.HK           atrp_rank      0.039485  0.023802    1.068709  0.515152  ...      33          0.001733         1.132791           898  positive_returns      44.899889\n2     0700.HK        atr_enhanced      0.096703  0.041970    1.884468  0.511628  ...      43          0.002672         0.918591           898  positive_returns      44.899889\n3     0700.HK           hl_spread      0.235375  0.084170    3.779202  0.565217  ...      46          0.005128         0.866208           824  positive_returns      44.899889\n4     0700.HK  momentum_composite      0.190110  0.071575    3.213692  0.560976  ...      41          0.004801         1.004919           927  positive_returns      44.899889\n...       ...                 ...           ...       ...         ...       ...  ...     ...               ...              ...           ...               ...            ...\n2803  1729.HK    volatility_ratio      1.026056  0.159074    7.142422  0.592233  ...     103          0.007587         0.993792           842  positive_returns      44.899889\n2804  1729.HK            aroon_up      1.031239  0.169441    7.607888  0.566667  ...      90          0.008663         1.078288           761  positive_returns      44.899889\n2805  1729.HK             kama_14      0.323371  0.076222    3.422352  0.531250  ...      96          0.003603         1.549697          1488  positive_returns      44.899889\n2806  1729.HK    price_efficiency      1.174473  0.171413    7.696415  0.580952  ...     105          0.008167         0.879393           838  positive_returns      44.899889\n2807  1729.HK                 vpt      1.501627  0.208472    9.360358  0.619565  ...      92          0.010703         1.418743          1273  positive_returns      44.899889\n\n[2808 rows x 14 columns]",
      "factor_ranking": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0    vwap_deviation_rank       0.0617             0.2410           2.7724         0.5027  ...        2763                 0.0032                1.1717           932.8919     1\n1                ad_line       0.0595             0.2464           2.6714         0.5034  ...        2699                 0.0030                1.3715          1293.9091     2\n2                kama_14       0.0551             0.2015           2.4759         0.5065  ...        2952                 0.0030                1.5748          1487.8378     3\n3             volume_rsi       0.0547             0.2491           2.4557         0.5025  ...        3320                 0.0028                0.9398           856.7750     4\n4          macd_enhanced       0.0539             0.2001           2.4187         0.4998  ...        3106                 0.0028                1.1933          1239.8421     5\n5               aroon_up       0.0538             0.2226           2.4167         0.5026  ...        2865                 0.0029                1.1051           788.7692     6\n6                 adx_14       0.0537             0.2110           2.4107         0.4990  ...        2470                 0.0028                1.3836          1320.5161     7\n7              hl_spread       0.0535             0.2567           2.4042         0.4943  ...        3183                 0.0027                0.8590           832.2778     8\n8               iv_proxy       0.0535             0.2567           2.4042         0.4943  ...        3183                 0.0027                0.8590           832.2778     9\n9                    cmf       0.0532             0.1979           2.3887         0.5037  ...        3068                 0.0028                1.2344          1150.5128    10\n10    macd_enhanced_rank       0.0530             0.1810           2.3797         0.5010  ...        2595                 0.0028                1.1973           899.1351    11\n11                  atrp       0.0523             0.2102           2.3499         0.5021  ...        2502                 0.0027                1.1490          1092.8438    12\n12                mfi_14       0.0522             0.2069           2.3437         0.4972  ...        2834                 0.0027                1.1860          1094.3243    13\n13                rsi_14       0.0520             0.2047           2.3342         0.4971  ...        2940                 0.0027                1.2017          1154.6757    14\n14               trix_14       0.0519             0.2046           2.3293         0.4998  ...        2632                 0.0027                1.4426          1493.0606    15\n15   volume_ma_deviation       0.0518             0.2028           2.3257         0.4933  ...        3096                 0.0026                0.8811           852.0000    16\n16      volume_intensity       0.0518             0.2028           2.3257         0.4933  ...        3096                 0.0026                0.8811           852.0000    17\n17      volatility_ratio       0.0510             0.1905           2.2887         0.4941  ...        3070                 0.0026                0.9920           847.3611    18\n18         parkinson_vol       0.0509             0.2409           2.2854         0.4927  ...        3277                 0.0025                0.8584           831.2432    19\n19              willr_14       0.0508             0.1979           2.2800         0.4945  ...        2832                 0.0026                1.1142           880.2222    20\n20       momentum_regime       0.0507             0.1880           2.2762         0.4939  ...        2477                 0.0025                0.8556           764.7500    21\n21                 roc_5       0.0506             0.1975           2.2717         0.4945  ...        2989                 0.0025                1.0327          1001.6389    22\n22        vwap_deviation       0.0503             0.1882           2.2589         0.4918  ...        3575                 0.0026                1.1620          1178.9268    23\n23                 rsi_2       0.0501             0.1886           2.2514         0.4973  ...        3098                 0.0026                1.0128           806.5897    24\n24  mean_reversion_score       0.0501             0.2036           2.2481         0.4974  ...        3105                 0.0026                1.1051          1025.2750    25\n25             atrp_rank       0.0499             0.1853           2.2414         0.4944  ...        2520                 0.0025                1.1647           899.5000    26\n26            bb_squeeze       0.0499             0.1844           2.2394         0.4982  ...        2698                 0.0027                1.2583          1065.8286    27\n27          atr_enhanced       0.0497             0.2017           2.2316         0.4907  ...        3111                 0.0025                0.9557           871.6389    28\n28                roc_12       0.0495             0.1982           2.2247         0.4943  ...        3390                 0.0025                1.1580          1152.0732    29\n29                cci_14       0.0495             0.1894           2.2241         0.4978  ...        3074                 0.0025                1.0532           952.4103    30\n30      price_efficiency       0.0491             0.1885           2.2051         0.4945  ...        3006                 0.0026                0.8394           811.5143    31\n31        trend_strength       0.0490             0.1784           2.2005         0.5001  ...        2770                 0.0026                1.1426           972.3235    32\n32    momentum_composite       0.0484             0.1881           2.1713         0.4920  ...        3254                 0.0025                1.0083           930.6154    33\n33       composite_alpha       0.0474             0.1828           2.1298         0.4958  ...        3181                 0.0025                0.9848           978.9737    34\n34                   vpt       0.0473             0.1681           2.1220         0.4951  ...        3131                 0.0025                1.3785          1163.9750    35\n35      keltner_position       0.0468             0.1702           2.1008         0.4912  ...        3836                 0.0024                1.1600          1213.0889    36\n36    vol_term_structure       0.0462             0.1451           2.0736         0.5019  ...        2544                 0.0025                0.9955           809.9412    37\n37      aroon_oscillator       0.0462             0.1520           2.0757         0.4971  ...        2791                 0.0025                1.1283           918.0541    38\n38           rsi_14_rank       0.0462             0.1544           2.0753         0.4986  ...        2798                 0.0025                1.2192           961.2821    39\n39               rsi_100       0.0453             0.1631           2.0325         0.4957  ...        3401                 0.0024                1.3290          1205.9762    40\n40               vw_macd       0.0452             0.1714           2.0278         0.4906  ...        3501                 0.0022                1.0151          1440.0256    41\n41    zscore_momentum_20       0.0442             0.1699           1.9825         0.4875  ...        3313                 0.0022                0.9455           847.7949    42\n42             stoch_rsi       0.0438             0.1469           1.9662         0.4942  ...        3309                 0.0023                0.9975           784.5641    43\n43      smart_money_flow       0.0435             0.1541           1.9512         0.4868  ...        3507                 0.0022                0.9311           856.8462    44\n44       liquidity_proxy       0.0432             0.1663           1.9402         0.4893  ...        2761                 0.0022                0.9508           959.0882    45\n45               tema_14       0.0420             0.1434           1.8870         0.4915  ...        3029                 0.0022                1.4105          1288.5897    46\n46            price_jump       0.0415             0.1372           1.8652         0.4934  ...        2972                 0.0022                0.9112           821.7500    47\n47          rsi_enhanced       0.0413             0.1432           1.8563         0.4905  ...        2959                 0.0022                0.8984           883.0556    48\n48            aroon_down       0.0410             0.1400           1.8413         0.4967  ...        2677                 0.0022                1.0835           789.9730    49\n49   drawdown_volatility       0.0407             0.1365           1.8283         0.4985  ...        2703                 0.0022                1.3653          1201.8649    50\n50               dema_14       0.0403             0.1408           1.8117         0.4926  ...        3325                 0.0021                1.4687          1378.3415    51\n51           skewness_60       0.0380             0.1253           1.7073         0.4857  ...        3318                 0.0020                1.3867          1279.7805    52\n\n[52 rows x 13 columns]",
      "valid_factors": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0    vwap_deviation_rank       0.0617             0.2410           2.7724         0.5027  ...        2763                 0.0032                1.1717           932.8919     1\n1                ad_line       0.0595             0.2464           2.6714         0.5034  ...        2699                 0.0030                1.3715          1293.9091     2\n2                kama_14       0.0551             0.2015           2.4759         0.5065  ...        2952                 0.0030                1.5748          1487.8378     3\n3             volume_rsi       0.0547             0.2491           2.4557         0.5025  ...        3320                 0.0028                0.9398           856.7750     4\n4          macd_enhanced       0.0539             0.2001           2.4187         0.4998  ...        3106                 0.0028                1.1933          1239.8421     5\n5               aroon_up       0.0538             0.2226           2.4167         0.5026  ...        2865                 0.0029                1.1051           788.7692     6\n6                 adx_14       0.0537             0.2110           2.4107         0.4990  ...        2470                 0.0028                1.3836          1320.5161     7\n7              hl_spread       0.0535             0.2567           2.4042         0.4943  ...        3183                 0.0027                0.8590           832.2778     8\n8               iv_proxy       0.0535             0.2567           2.4042         0.4943  ...        3183                 0.0027                0.8590           832.2778     9\n9                    cmf       0.0532             0.1979           2.3887         0.5037  ...        3068                 0.0028                1.2344          1150.5128    10\n10    macd_enhanced_rank       0.0530             0.1810           2.3797         0.5010  ...        2595                 0.0028                1.1973           899.1351    11\n11                  atrp       0.0523             0.2102           2.3499         0.5021  ...        2502                 0.0027                1.1490          1092.8438    12\n12                mfi_14       0.0522             0.2069           2.3437         0.4972  ...        2834                 0.0027                1.1860          1094.3243    13\n13                rsi_14       0.0520             0.2047           2.3342         0.4971  ...        2940                 0.0027                1.2017          1154.6757    14\n14               trix_14       0.0519             0.2046           2.3293         0.4998  ...        2632                 0.0027                1.4426          1493.0606    15\n15   volume_ma_deviation       0.0518             0.2028           2.3257         0.4933  ...        3096                 0.0026                0.8811           852.0000    16\n16      volume_intensity       0.0518             0.2028           2.3257         0.4933  ...        3096                 0.0026                0.8811           852.0000    17\n17      volatility_ratio       0.0510             0.1905           2.2887         0.4941  ...        3070                 0.0026                0.9920           847.3611    18\n18         parkinson_vol       0.0509             0.2409           2.2854         0.4927  ...        3277                 0.0025                0.8584           831.2432    19\n19              willr_14       0.0508             0.1979           2.2800         0.4945  ...        2832                 0.0026                1.1142           880.2222    20\n20       momentum_regime       0.0507             0.1880           2.2762         0.4939  ...        2477                 0.0025                0.8556           764.7500    21\n21                 roc_5       0.0506             0.1975           2.2717         0.4945  ...        2989                 0.0025                1.0327          1001.6389    22\n22        vwap_deviation       0.0503             0.1882           2.2589         0.4918  ...        3575                 0.0026                1.1620          1178.9268    23\n23                 rsi_2       0.0501             0.1886           2.2514         0.4973  ...        3098                 0.0026                1.0128           806.5897    24\n24  mean_reversion_score       0.0501             0.2036           2.2481         0.4974  ...        3105                 0.0026                1.1051          1025.2750    25\n\n[25 rows x 13 columns]",
      "summary": {
        "tested_symbols": 54,
        "tested_factors": 52,
        "total_evaluations": 2808,
        "valid_factors_count": 25,
        "best_factor": "vwap_deviation_rank",
        "best_sharpe": 0.0617
      }
    },
    "15m": {
      "timeframe": "15m",
      "cta_results": "       symbol              factor  total_return    sharpe  raw_sharpe  win_rate  ...  trades  avg_trade_return  signal_strength  signal_count      data_quality  annual_factor\n0     0700.HK             trix_14      0.001145  0.014536    0.376818  0.487179  ...      39          0.000537         1.340994           924  positive_returns      25.922963\n1     0700.HK           atrp_rank      0.034308  0.038633    1.001489  0.500000  ...      30          0.001633         1.245540           663  positive_returns      25.922963\n2     0700.HK        atr_enhanced      0.114729  0.088413    2.291938  0.523810  ...      42          0.003057         0.948108           649  positive_returns      25.922963\n3     0700.HK           hl_spread      0.067098  0.056444    1.463189  0.512821  ...      39          0.002201         0.913188           596  positive_returns      25.922963\n4     0700.HK  momentum_composite      0.155026  0.112658    2.920440  0.536585  ...      41          0.004011         1.001242           657  positive_returns      25.922963\n...       ...                 ...           ...       ...         ...       ...  ...     ...               ...              ...           ...               ...            ...\n2803  1729.HK    volatility_ratio      0.713150  0.222870    5.777447  0.580645  ...      93          0.006565         1.032368           599  positive_returns      25.922963\n2804  1729.HK            aroon_up      0.155903  0.084157    2.181601  0.550000  ...      80          0.002541         1.057542           519  positive_returns      25.922963\n2805  1729.HK             kama_14      0.990865  0.295690    7.665166  0.644737  ...      76          0.009883         1.510416          1032  positive_returns      25.922963\n2806  1729.HK    price_efficiency      0.419238  0.151461    3.926320  0.546392  ...      97          0.004409         0.884984           568  positive_returns      25.922963\n2807  1729.HK                 vpt      1.050425  0.343092    8.893962  0.583333  ...      84          0.009135         1.422802          1010  positive_returns      25.922963\n\n[2808 rows x 14 columns]",
      "factor_ranking": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0     zscore_momentum_20       0.0969             0.2348           2.5106         0.4955  ...        2627                 0.0031                0.9482           572.7059     1\n1                dema_14       0.0913             0.2100           2.3672         0.4978  ...        1891                 0.0029                1.4353           929.3214     2\n2        liquidity_proxy       0.0904             0.2114           2.3431         0.5010  ...        2553                 0.0030                0.7166           757.8611     3\n3              atrp_rank       0.0882             0.1861           2.2872         0.4962  ...        2171                 0.0029                1.2293           633.2571     4\n4                  rsi_2       0.0878             0.1798           2.2761         0.5018  ...        2108                 0.0029                1.0100           546.2414     5\n5    drawdown_volatility       0.0868             0.1988           2.2492         0.4948  ...        2107                 0.0029                1.3002           778.9429     6\n6             volume_rsi       0.0854             0.2113           2.2132         0.4963  ...        3031                 0.0028                0.9744           606.0513     7\n7            skewness_60       0.0850             0.1679           2.2044         0.4972  ...        2497                 0.0028                1.4246           793.7500     8\n8        momentum_regime       0.0848             0.1721           2.1977         0.4994  ...        1959                 0.0028                0.9167           652.3871     9\n9    volume_ma_deviation       0.0838             0.1847           2.1730         0.4866  ...        2529                 0.0026                0.8803           602.7879    10\n10      volume_intensity       0.0838             0.1847           2.1730         0.4866  ...        2529                 0.0026                0.8803           602.7879    11\n11        trend_strength       0.0838             0.1849           2.1728         0.4944  ...        2295                 0.0026                1.1062           638.4062    12\n12          rsi_enhanced       0.0834             0.1917           2.1621         0.4910  ...        2446                 0.0025                0.9081           626.7647    13\n13                   cmf       0.0819             0.1773           2.1231         0.4967  ...        2168                 0.0027                1.2001           742.0606    14\n14                adx_14       0.0815             0.1530           2.1129         0.4992  ...        2163                 0.0028                1.3161           828.6061    15\n15              aroon_up       0.0814             0.1743           2.1097         0.4898  ...        2327                 0.0027                1.0775           530.1944    16\n16               rsi_100       0.0809             0.1652           2.0977         0.4943  ...        2387                 0.0025                1.3445           847.6471    17\n17            aroon_down       0.0807             0.1656           2.0907         0.5036  ...        1886                 0.0029                1.0621           532.1667    18\n18             hl_spread       0.0804             0.2158           2.0852         0.4912  ...        2844                 0.0025                0.8899           592.6486    19\n19              iv_proxy       0.0804             0.2158           2.0852         0.4912  ...        2844                 0.0025                0.8899           592.6486    20\n20         parkinson_vol       0.0798             0.2068           2.0692         0.4904  ...        2856                 0.0025                0.8896           592.2432    21\n21               ad_line       0.0792             0.1848           2.0524         0.4874  ...        2335                 0.0025                1.3696           881.2727    22\n22             stoch_rsi       0.0790             0.1560           2.0491         0.4914  ...        2734                 0.0026                0.9959           540.8649    23\n23      volatility_ratio       0.0784             0.1706           2.0327         0.4908  ...        2295                 0.0025                1.0125           590.0312    24\n24          atr_enhanced       0.0779             0.1726           2.0197         0.4881  ...        2864                 0.0024                0.9701           621.8108    25\n25               tema_14       0.0767             0.1595           1.9890         0.4936  ...        2090                 0.0025                1.3893           863.3000    26\n26                   vpt       0.0764             0.1708           1.9813         0.4856  ...        2591                 0.0024                1.3929           932.4286    27\n27                 roc_5       0.0759             0.1649           1.9670         0.4922  ...        2706                 0.0024                1.0311           671.6000    28\n28               trix_14       0.0757             0.1520           1.9616         0.4940  ...        2307                 0.0024                1.3661           939.7647    29\n29      aroon_oscillator       0.0754             0.1539           1.9556         0.4929  ...        1971                 0.0026                1.0954           596.0323    30\n30                roc_12       0.0754             0.1512           1.9542         0.4922  ...        2473                 0.0025                1.1347           748.3529    31\n31    vol_term_structure       0.0753             0.1594           1.9508         0.4820  ...        2374                 0.0024                1.0364           600.8788    32\n32      keltner_position       0.0746             0.1420           1.9345         0.4905  ...        2357                 0.0024                1.1423           756.6250    33\n33                mfi_14       0.0740             0.1528           1.9183         0.4943  ...        2381                 0.0025                1.1472           699.8286    34\n34  mean_reversion_score       0.0734             0.1487           1.9021         0.4866  ...        2314                 0.0023                1.0853           639.1875    35\n35   vwap_deviation_rank       0.0728             0.1254           1.8876         0.4962  ...        2043                 0.0025                1.1398           580.4412    36\n36               kama_14       0.0710             0.1566           1.8393         0.4944  ...        2067                 0.0023                1.5220           987.9355    37\n37            price_jump       0.0706             0.1444           1.8291         0.4863  ...        2765                 0.0023                0.9135           560.8378    38\n38      smart_money_flow       0.0698             0.1672           1.8098         0.4856  ...        2852                 0.0021                0.9286           582.1622    39\n39    macd_enhanced_rank       0.0686             0.1232           1.7790         0.4899  ...        2069                 0.0023                1.1392           555.4857    40\n40    momentum_composite       0.0679             0.1259           1.7595         0.4897  ...        2648                 0.0021                1.0073           666.5714    41\n41              willr_14       0.0678             0.1196           1.7577         0.4922  ...        2204                 0.0024                1.0849           582.3333    42\n42       composite_alpha       0.0674             0.1233           1.7471         0.4865  ...        2852                 0.0021                0.9792           637.1389    43\n43      price_efficiency       0.0673             0.1498           1.7444         0.4818  ...        2806                 0.0020                0.8778           569.6944    44\n44            bb_squeeze       0.0667             0.1348           1.7303         0.4941  ...        2068                 0.0022                1.2014           696.3750    45\n45                  atrp       0.0663             0.1434           1.7192         0.4825  ...        2672                 0.0022                1.2026           778.2368    46\n46         macd_enhanced       0.0652             0.1354           1.6906         0.4831  ...        2214                 0.0021                1.1529           751.5484    47\n47           rsi_14_rank       0.0630             0.1052           1.6321         0.4900  ...        2111                 0.0021                1.2023           615.9412    48\n48               vw_macd       0.0626             0.1226           1.6228         0.4791  ...        2620                 0.0019                0.9661           798.7353    49\n49        vwap_deviation       0.0602             0.1107           1.5597         0.4867  ...        2505                 0.0019                1.1366           740.0294    50\n50                cci_14       0.0598             0.1083           1.5499         0.4867  ...        2930                 0.0019                1.0410           625.6667    51\n51                rsi_14       0.0593             0.1197           1.5379         0.4849  ...        2265                 0.0018                1.1877           768.3750    52\n\n[52 rows x 13 columns]",
      "valid_factors": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0     zscore_momentum_20       0.0969             0.2348           2.5106         0.4955  ...        2627                 0.0031                0.9482           572.7059     1\n1                dema_14       0.0913             0.2100           2.3672         0.4978  ...        1891                 0.0029                1.4353           929.3214     2\n2        liquidity_proxy       0.0904             0.2114           2.3431         0.5010  ...        2553                 0.0030                0.7166           757.8611     3\n3              atrp_rank       0.0882             0.1861           2.2872         0.4962  ...        2171                 0.0029                1.2293           633.2571     4\n4                  rsi_2       0.0878             0.1798           2.2761         0.5018  ...        2108                 0.0029                1.0100           546.2414     5\n5    drawdown_volatility       0.0868             0.1988           2.2492         0.4948  ...        2107                 0.0029                1.3002           778.9429     6\n6             volume_rsi       0.0854             0.2113           2.2132         0.4963  ...        3031                 0.0028                0.9744           606.0513     7\n7            skewness_60       0.0850             0.1679           2.2044         0.4972  ...        2497                 0.0028                1.4246           793.7500     8\n8        momentum_regime       0.0848             0.1721           2.1977         0.4994  ...        1959                 0.0028                0.9167           652.3871     9\n9    volume_ma_deviation       0.0838             0.1847           2.1730         0.4866  ...        2529                 0.0026                0.8803           602.7879    10\n10      volume_intensity       0.0838             0.1847           2.1730         0.4866  ...        2529                 0.0026                0.8803           602.7879    11\n11        trend_strength       0.0838             0.1849           2.1728         0.4944  ...        2295                 0.0026                1.1062           638.4062    12\n12          rsi_enhanced       0.0834             0.1917           2.1621         0.4910  ...        2446                 0.0025                0.9081           626.7647    13\n13                   cmf       0.0819             0.1773           2.1231         0.4967  ...        2168                 0.0027                1.2001           742.0606    14\n14                adx_14       0.0815             0.1530           2.1129         0.4992  ...        2163                 0.0028                1.3161           828.6061    15\n15              aroon_up       0.0814             0.1743           2.1097         0.4898  ...        2327                 0.0027                1.0775           530.1944    16\n16               rsi_100       0.0809             0.1652           2.0977         0.4943  ...        2387                 0.0025                1.3445           847.6471    17\n17            aroon_down       0.0807             0.1656           2.0907         0.5036  ...        1886                 0.0029                1.0621           532.1667    18\n18             hl_spread       0.0804             0.2158           2.0852         0.4912  ...        2844                 0.0025                0.8899           592.6486    19\n19              iv_proxy       0.0804             0.2158           2.0852         0.4912  ...        2844                 0.0025                0.8899           592.6486    20\n20         parkinson_vol       0.0798             0.2068           2.0692         0.4904  ...        2856                 0.0025                0.8896           592.2432    21\n21               ad_line       0.0792             0.1848           2.0524         0.4874  ...        2335                 0.0025                1.3696           881.2727    22\n22             stoch_rsi       0.0790             0.1560           2.0491         0.4914  ...        2734                 0.0026                0.9959           540.8649    23\n23      volatility_ratio       0.0784             0.1706           2.0327         0.4908  ...        2295                 0.0025                1.0125           590.0312    24\n24          atr_enhanced       0.0779             0.1726           2.0197         0.4881  ...        2864                 0.0024                0.9701           621.8108    25\n25               tema_14       0.0767             0.1595           1.9890         0.4936  ...        2090                 0.0025                1.3893           863.3000    26\n26                   vpt       0.0764             0.1708           1.9813         0.4856  ...        2591                 0.0024                1.3929           932.4286    27\n27                 roc_5       0.0759             0.1649           1.9670         0.4922  ...        2706                 0.0024                1.0311           671.6000    28\n28               trix_14       0.0757             0.1520           1.9616         0.4940  ...        2307                 0.0024                1.3661           939.7647    29\n29      aroon_oscillator       0.0754             0.1539           1.9556         0.4929  ...        1971                 0.0026                1.0954           596.0323    30\n30                roc_12       0.0754             0.1512           1.9542         0.4922  ...        2473                 0.0025                1.1347           748.3529    31\n31    vol_term_structure       0.0753             0.1594           1.9508         0.4820  ...        2374                 0.0024                1.0364           600.8788    32\n32      keltner_position       0.0746             0.1420           1.9345         0.4905  ...        2357                 0.0024                1.1423           756.6250    33\n33                mfi_14       0.0740             0.1528           1.9183         0.4943  ...        2381                 0.0025                1.1472           699.8286    34\n34  mean_reversion_score       0.0734             0.1487           1.9021         0.4866  ...        2314                 0.0023                1.0853           639.1875    35\n35   vwap_deviation_rank       0.0728             0.1254           1.8876         0.4962  ...        2043                 0.0025                1.1398           580.4412    36\n36               kama_14       0.0710             0.1566           1.8393         0.4944  ...        2067                 0.0023                1.5220           987.9355    37\n37            price_jump       0.0706             0.1444           1.8291         0.4863  ...        2765                 0.0023                0.9135           560.8378    38\n38      smart_money_flow       0.0698             0.1672           1.8098         0.4856  ...        2852                 0.0021                0.9286           582.1622    39\n39    macd_enhanced_rank       0.0686             0.1232           1.7790         0.4899  ...        2069                 0.0023                1.1392           555.4857    40\n40    momentum_composite       0.0679             0.1259           1.7595         0.4897  ...        2648                 0.0021                1.0073           666.5714    41\n41              willr_14       0.0678             0.1196           1.7577         0.4922  ...        2204                 0.0024                1.0849           582.3333    42\n42       composite_alpha       0.0674             0.1233           1.7471         0.4865  ...        2852                 0.0021                0.9792           637.1389    43\n43      price_efficiency       0.0673             0.1498           1.7444         0.4818  ...        2806                 0.0020                0.8778           569.6944    44\n44            bb_squeeze       0.0667             0.1348           1.7303         0.4941  ...        2068                 0.0022                1.2014           696.3750    45\n45                  atrp       0.0663             0.1434           1.7192         0.4825  ...        2672                 0.0022                1.2026           778.2368    46\n46         macd_enhanced       0.0652             0.1354           1.6906         0.4831  ...        2214                 0.0021                1.1529           751.5484    47\n47           rsi_14_rank       0.0630             0.1052           1.6321         0.4900  ...        2111                 0.0021                1.2023           615.9412    48\n48               vw_macd       0.0626             0.1226           1.6228         0.4791  ...        2620                 0.0019                0.9661           798.7353    49\n49        vwap_deviation       0.0602             0.1107           1.5597         0.4867  ...        2505                 0.0019                1.1366           740.0294    50\n50                cci_14       0.0598             0.1083           1.5499         0.4867  ...        2930                 0.0019                1.0410           625.6667    51\n51                rsi_14       0.0593             0.1197           1.5379         0.4849  ...        2265                 0.0018                1.1877           768.3750    52\n\n[52 rows x 13 columns]",
      "summary": {
        "tested_symbols": 54,
        "tested_factors": 52,
        "total_evaluations": 2808,
        "valid_factors_count": 52,
        "best_factor": "zscore_momentum_20",
        "best_sharpe": 0.0969
      }
    },
    "30m": {
      "timeframe": "30m",
      "cta_results": "       symbol              factor  total_return    sharpe  raw_sharpe  win_rate  ...  trades  avg_trade_return  signal_strength  signal_count                data_quality  annual_factor\n0     0700.HK             trix_14      0.097368  0.110915    2.033100  0.548387  ...      31          0.003562         1.501242           618            positive_returns      18.330303\n1     0700.HK           atrp_rank      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 30 (: 26)       1.000000\n2     0700.HK        atr_enhanced      0.039535  0.056438    1.034524  0.515152  ...      33          0.001703         0.965538           395            positive_returns      18.330303\n3     0700.HK           hl_spread      0.039460  0.055370    1.014944  0.500000  ...      38          0.001570         0.953373           381            positive_returns      18.330303\n4     0700.HK  momentum_composite     -0.057085 -0.042896   -0.786304  0.468750  ...      32         -0.001354         1.016028           360                needs_review      18.330303\n...       ...                 ...           ...       ...         ...       ...  ...     ...               ...              ...           ...                         ...            ...\n2803  1729.HK    volatility_ratio      0.352899  0.200574    3.676588  0.549296  ...      71          0.005132         1.096403           391            positive_returns      18.330303\n2804  1729.HK            aroon_up      0.481343  0.248273    4.550928  0.587302  ...      63          0.007137         1.132743           361            positive_returns      18.330303\n2805  1729.HK             kama_14      0.679771  0.293002    5.370814  0.576471  ...      85          0.006993         1.565076           627            positive_returns      18.330303\n2806  1729.HK    price_efficiency      1.002263  0.375387    6.880957  0.589744  ...      78          0.009870         0.945324           372            positive_returns      18.330303\n2807  1729.HK                 vpt      0.630805  0.286510    5.251816  0.565789  ...      76          0.007330         1.383995           547            positive_returns      18.330303\n\n[2808 rows x 14 columns]",
      "factor_ranking": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0              atrp_rank       0.1548             0.2607           2.8368         0.5004  ...        2115                 0.0040                1.2559           405.2647     1\n1     macd_enhanced_rank       0.1538             0.2085           2.8201         0.5062  ...        2001                 0.0041                1.3364           396.4444     2\n2            rsi_14_rank       0.1415             0.1996           2.5935         0.5050  ...        2149                 0.0038                1.2639           406.4865     3\n3                ad_line       0.1409             0.2389           2.5831         0.4985  ...        2393                 0.0036                1.3265           525.3333     4\n4             volume_rsi       0.1406             0.2732           2.5766         0.4858  ...        2415                 0.0034                0.9860           411.0286     5\n5        composite_alpha       0.1389             0.2377           2.5456         0.4966  ...        2737                 0.0035                1.0369           454.8750     6\n6     zscore_momentum_20       0.1380             0.2364           2.5289         0.4899  ...        2551                 0.0035                0.9758           391.3243     7\n7              stoch_rsi       0.1379             0.2334           2.5277         0.5043  ...        2370                 0.0036                1.0110           308.7436     8\n8                  rsi_2       0.1374             0.2302           2.5189         0.5038  ...        2298                 0.0037                1.0300           355.7027     9\n9                 cci_14       0.1370             0.2198           2.5121         0.5024  ...        2504                 0.0036                1.1208           463.5897    10\n10                   vpt       0.1359             0.2134           2.4908         0.4937  ...        2495                 0.0034                1.3632           532.8108    11\n11  mean_reversion_score       0.1346             0.1992           2.4670         0.5025  ...        2480                 0.0035                1.1902           506.0769    12\n12       liquidity_proxy       0.1335             0.2371           2.4472         0.5003  ...        2408                 0.0034                0.8615           444.0556    13\n13           skewness_60       0.1329             0.2153           2.4358         0.4929  ...        2488                 0.0033                1.3834           489.2632    14\n14        vwap_deviation       0.1325             0.2078           2.4291         0.4945  ...        2507                 0.0034                1.2333           518.3421    15\n15      price_efficiency       0.1318             0.2331           2.4156         0.5001  ...        2768                 0.0034                0.9474           374.9231    16\n16   vwap_deviation_rank       0.1309             0.1805           2.3997         0.4988  ...        2121                 0.0035                1.2604           412.5135    17\n17      volatility_ratio       0.1304             0.2067           2.3909         0.4943  ...        2480                 0.0034                1.0728           394.2308    18\n18                  atrp       0.1273             0.2241           2.3326         0.4907  ...        2553                 0.0031                1.2277           493.8108    19\n19               rsi_100       0.1270             0.1810           2.3277         0.4935  ...        2246                 0.0031                1.3218           476.8286    20\n20              aroon_up       0.1254             0.1823           2.2980         0.5022  ...        2136                 0.0033                1.1735           355.2703    21\n21                   cmf       0.1250             0.1897           2.2914         0.4987  ...        2231                 0.0033                1.2455           493.5946    22\n22            price_jump       0.1232             0.2067           2.2576         0.4949  ...        2484                 0.0032                0.9532           370.6316    23\n23          atr_enhanced       0.1220             0.2217           2.2358         0.4864  ...        2818                 0.0030                0.9815           388.4103    24\n24               vw_macd       0.1217             0.2028           2.2311         0.4883  ...        2526                 0.0030                1.1163           612.6944    25\n25                 roc_5       0.1198             0.1796           2.1953         0.4947  ...        2560                 0.0030                1.0953           457.8421    26\n26               trix_14       0.1195             0.1940           2.1898         0.4941  ...        2334                 0.0029                1.5183           628.2105    27\n27      smart_money_flow       0.1195             0.2020           2.1908         0.4912  ...        2659                 0.0030                0.9538           377.1795    28\n28                rsi_14       0.1174             0.1718           2.1528         0.4928  ...        2599                 0.0031                1.2501           490.9500    29\n29   volume_ma_deviation       0.1172             0.2006           2.1488         0.4845  ...        2610                 0.0030                0.9554           393.1892    30\n30      volume_intensity       0.1172             0.2006           2.1488         0.4845  ...        2610                 0.0030                0.9554           393.1892    31\n31         macd_enhanced       0.1170             0.1824           2.1441         0.4958  ...        2256                 0.0030                1.3111           538.7429    32\n32         parkinson_vol       0.1168             0.1907           2.1401         0.4913  ...        2918                 0.0030                0.9439           380.9762    33\n33    momentum_composite       0.1161             0.1908           2.1289         0.4918  ...        2364                 0.0030                1.0281           367.5000    34\n34            aroon_down       0.1152             0.1618           2.1125         0.4922  ...        2308                 0.0031                1.1584           372.2308    35\n35                mfi_14       0.1132             0.1739           2.0745         0.4922  ...        2336                 0.0029                1.2735           504.5833    36\n36               tema_14       0.1128             0.1926           2.0684         0.4888  ...        2541                 0.0027                1.4313           561.3846    37\n37        trend_strength       0.1120             0.1807           2.0526         0.4850  ...        2397                 0.0029                1.2187           446.6486    38\n38   drawdown_volatility       0.1119             0.1887           2.0510         0.4959  ...        2529                 0.0028                1.4789           572.8974    39\n39              iv_proxy       0.1118             0.1789           2.0488         0.4897  ...        2997                 0.0029                0.9441           381.2558    40\n40             hl_spread       0.1118             0.1789           2.0488         0.4897  ...        2997                 0.0029                0.9441           381.2558    41\n41          rsi_enhanced       0.1113             0.2000           2.0393         0.4838  ...        2408                 0.0027                0.9552           401.3714    42\n42      keltner_position       0.1110             0.1735           2.0351         0.4859  ...        2424                 0.0028                1.2451           529.2778    43\n43                adx_14       0.1098             0.1553           2.0119         0.4902  ...        2468                 0.0028                1.4313           564.7692    44\n44       momentum_regime       0.1098             0.1563           2.0133         0.4937  ...        1370                 0.0031                0.8631           270.5385    45\n45               kama_14       0.1095             0.1721           2.0064         0.4874  ...        2772                 0.0028                1.5853           618.9286    46\n46      aroon_oscillator       0.1091             0.1663           1.9994         0.4908  ...        2424                 0.0029                1.2075           424.8205    47\n47    vol_term_structure       0.1076             0.1616           1.9723         0.4887  ...        2414                 0.0028                1.1259           415.6842    48\n48            bb_squeeze       0.1056             0.1815           1.9348         0.4886  ...        2543                 0.0026                1.3650           511.3000    49\n49                roc_12       0.1048             0.1584           1.9208         0.4885  ...        2354                 0.0027                1.2385           485.4167    50\n50              willr_14       0.0981             0.1365           1.7976         0.4862  ...        2567                 0.0026                1.2011           426.4000    51\n51               dema_14       0.0867             0.1305           1.5891         0.4780  ...        2812                 0.0021                1.4830           594.8049    52\n\n[52 rows x 13 columns]",
      "valid_factors": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0              atrp_rank       0.1548             0.2607           2.8368         0.5004  ...        2115                 0.0040                1.2559           405.2647     1\n1     macd_enhanced_rank       0.1538             0.2085           2.8201         0.5062  ...        2001                 0.0041                1.3364           396.4444     2\n2            rsi_14_rank       0.1415             0.1996           2.5935         0.5050  ...        2149                 0.0038                1.2639           406.4865     3\n3                ad_line       0.1409             0.2389           2.5831         0.4985  ...        2393                 0.0036                1.3265           525.3333     4\n4             volume_rsi       0.1406             0.2732           2.5766         0.4858  ...        2415                 0.0034                0.9860           411.0286     5\n5        composite_alpha       0.1389             0.2377           2.5456         0.4966  ...        2737                 0.0035                1.0369           454.8750     6\n6     zscore_momentum_20       0.1380             0.2364           2.5289         0.4899  ...        2551                 0.0035                0.9758           391.3243     7\n7              stoch_rsi       0.1379             0.2334           2.5277         0.5043  ...        2370                 0.0036                1.0110           308.7436     8\n8                  rsi_2       0.1374             0.2302           2.5189         0.5038  ...        2298                 0.0037                1.0300           355.7027     9\n9                 cci_14       0.1370             0.2198           2.5121         0.5024  ...        2504                 0.0036                1.1208           463.5897    10\n10                   vpt       0.1359             0.2134           2.4908         0.4937  ...        2495                 0.0034                1.3632           532.8108    11\n11  mean_reversion_score       0.1346             0.1992           2.4670         0.5025  ...        2480                 0.0035                1.1902           506.0769    12\n12       liquidity_proxy       0.1335             0.2371           2.4472         0.5003  ...        2408                 0.0034                0.8615           444.0556    13\n13           skewness_60       0.1329             0.2153           2.4358         0.4929  ...        2488                 0.0033                1.3834           489.2632    14\n14        vwap_deviation       0.1325             0.2078           2.4291         0.4945  ...        2507                 0.0034                1.2333           518.3421    15\n15      price_efficiency       0.1318             0.2331           2.4156         0.5001  ...        2768                 0.0034                0.9474           374.9231    16\n16   vwap_deviation_rank       0.1309             0.1805           2.3997         0.4988  ...        2121                 0.0035                1.2604           412.5135    17\n17      volatility_ratio       0.1304             0.2067           2.3909         0.4943  ...        2480                 0.0034                1.0728           394.2308    18\n18                  atrp       0.1273             0.2241           2.3326         0.4907  ...        2553                 0.0031                1.2277           493.8108    19\n19               rsi_100       0.1270             0.1810           2.3277         0.4935  ...        2246                 0.0031                1.3218           476.8286    20\n20              aroon_up       0.1254             0.1823           2.2980         0.5022  ...        2136                 0.0033                1.1735           355.2703    21\n21                   cmf       0.1250             0.1897           2.2914         0.4987  ...        2231                 0.0033                1.2455           493.5946    22\n22            price_jump       0.1232             0.2067           2.2576         0.4949  ...        2484                 0.0032                0.9532           370.6316    23\n23          atr_enhanced       0.1220             0.2217           2.2358         0.4864  ...        2818                 0.0030                0.9815           388.4103    24\n24               vw_macd       0.1217             0.2028           2.2311         0.4883  ...        2526                 0.0030                1.1163           612.6944    25\n25                 roc_5       0.1198             0.1796           2.1953         0.4947  ...        2560                 0.0030                1.0953           457.8421    26\n26               trix_14       0.1195             0.1940           2.1898         0.4941  ...        2334                 0.0029                1.5183           628.2105    27\n27      smart_money_flow       0.1195             0.2020           2.1908         0.4912  ...        2659                 0.0030                0.9538           377.1795    28\n28                rsi_14       0.1174             0.1718           2.1528         0.4928  ...        2599                 0.0031                1.2501           490.9500    29\n29   volume_ma_deviation       0.1172             0.2006           2.1488         0.4845  ...        2610                 0.0030                0.9554           393.1892    30\n30      volume_intensity       0.1172             0.2006           2.1488         0.4845  ...        2610                 0.0030                0.9554           393.1892    31\n31         macd_enhanced       0.1170             0.1824           2.1441         0.4958  ...        2256                 0.0030                1.3111           538.7429    32\n32         parkinson_vol       0.1168             0.1907           2.1401         0.4913  ...        2918                 0.0030                0.9439           380.9762    33\n33    momentum_composite       0.1161             0.1908           2.1289         0.4918  ...        2364                 0.0030                1.0281           367.5000    34\n34            aroon_down       0.1152             0.1618           2.1125         0.4922  ...        2308                 0.0031                1.1584           372.2308    35\n35                mfi_14       0.1132             0.1739           2.0745         0.4922  ...        2336                 0.0029                1.2735           504.5833    36\n36               tema_14       0.1128             0.1926           2.0684         0.4888  ...        2541                 0.0027                1.4313           561.3846    37\n37        trend_strength       0.1120             0.1807           2.0526         0.4850  ...        2397                 0.0029                1.2187           446.6486    38\n38   drawdown_volatility       0.1119             0.1887           2.0510         0.4959  ...        2529                 0.0028                1.4789           572.8974    39\n39              iv_proxy       0.1118             0.1789           2.0488         0.4897  ...        2997                 0.0029                0.9441           381.2558    40\n40             hl_spread       0.1118             0.1789           2.0488         0.4897  ...        2997                 0.0029                0.9441           381.2558    41\n41          rsi_enhanced       0.1113             0.2000           2.0393         0.4838  ...        2408                 0.0027                0.9552           401.3714    42\n42      keltner_position       0.1110             0.1735           2.0351         0.4859  ...        2424                 0.0028                1.2451           529.2778    43\n43                adx_14       0.1098             0.1553           2.0119         0.4902  ...        2468                 0.0028                1.4313           564.7692    44\n44       momentum_regime       0.1098             0.1563           2.0133         0.4937  ...        1370                 0.0031                0.8631           270.5385    45\n45               kama_14       0.1095             0.1721           2.0064         0.4874  ...        2772                 0.0028                1.5853           618.9286    46\n46      aroon_oscillator       0.1091             0.1663           1.9994         0.4908  ...        2424                 0.0029                1.2075           424.8205    47\n47    vol_term_structure       0.1076             0.1616           1.9723         0.4887  ...        2414                 0.0028                1.1259           415.6842    48\n48            bb_squeeze       0.1056             0.1815           1.9348         0.4886  ...        2543                 0.0026                1.3650           511.3000    49\n49                roc_12       0.1048             0.1584           1.9208         0.4885  ...        2354                 0.0027                1.2385           485.4167    50\n50              willr_14       0.0981             0.1365           1.7976         0.4862  ...        2567                 0.0026                1.2011           426.4000    51\n51               dema_14       0.0867             0.1305           1.5891         0.4780  ...        2812                 0.0021                1.4830           594.8049    52\n\n[52 rows x 13 columns]",
      "summary": {
        "tested_symbols": 54,
        "tested_factors": 52,
        "total_evaluations": 2808,
        "valid_factors_count": 52,
        "best_factor": "atrp_rank",
        "best_sharpe": 0.1548
      }
    },
    "1h": {
      "timeframe": "1h",
      "cta_results": "       symbol              factor  total_return    sharpe  raw_sharpe  win_rate  ...  trades  avg_trade_return  signal_strength  signal_count                  data_quality  annual_factor\n0     0700.HK             trix_14      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0    failed: 30 (: 29)       1.000000\n1     0700.HK           atrp_rank      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0    failed: 30 (: 24)       1.000000\n2     0700.HK        atr_enhanced      0.081876  0.127565    1.653432  0.531250  ...      32          0.002978         0.987747           310              positive_returns      12.961481\n3     0700.HK           hl_spread      0.122982  0.170566    2.210793  0.566667  ...      30          0.004446         0.955637           311              positive_returns      12.961481\n4     0700.HK  momentum_composite      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: : -1.022  -1.0       1.000000\n...       ...                 ...           ...       ...         ...       ...  ...     ...               ...              ...           ...                           ...            ...\n2803  1729.HK    volatility_ratio      0.567439  0.362464    4.698074  0.587302  ...      63          0.008164         1.198825           304              positive_returns      12.961481\n2804  1729.HK            aroon_up      0.493423  0.331507    4.296817  0.568966  ...      58          0.007921         1.176364           280              positive_returns      12.961481\n2805  1729.HK             kama_14      0.630168  0.372177    4.823970  0.582278  ...      79          0.007146         1.382887           440              positive_returns      12.961481\n2806  1729.HK    price_efficiency      0.983446  0.499114    6.469256  0.611940  ...      67          0.011348         0.972050           305              positive_returns      12.961481\n2807  1729.HK                 vpt      0.411606  0.279830    3.627014  0.561644  ...      73          0.005691         1.278607           356              positive_returns      12.961481\n\n[2808 rows x 14 columns]",
      "factor_ranking": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0            rsi_14_rank       0.3392             0.3535           4.3963         0.5270  ...        1780                 0.0067                1.2198           273.8333     1\n1              atrp_rank       0.3371             0.3780           4.3687         0.5201  ...        1973                 0.0064                1.1953           271.0789     2\n2     macd_enhanced_rank       0.3295             0.3533           4.2710         0.5217  ...        1833                 0.0066                1.3783           313.1081     3\n3    vwap_deviation_rank       0.2767             0.3094           3.5865         0.5152  ...        1834                 0.0056                1.2528           294.0000     4\n4               aroon_up       0.2150             0.2922           2.7866         0.5060  ...        2057                 0.0047                1.2039           278.9722     5\n5              stoch_rsi       0.2051             0.2561           2.6582         0.5164  ...        2013                 0.0047                1.0441           229.7838     6\n6        composite_alpha       0.1930             0.2337           2.5021         0.5035  ...        2491                 0.0041                1.0287           330.6829     7\n7                vw_macd       0.1929             0.2508           2.5006         0.5137  ...        2546                 0.0041                1.1686           415.1220     8\n8               iv_proxy       0.1916             0.2834           2.4835         0.5090  ...        2508                 0.0041                0.9571           306.7073     9\n9              hl_spread       0.1916             0.2834           2.4835         0.5090  ...        2508                 0.0041                0.9571           306.7073    10\n10         parkinson_vol       0.1866             0.2758           2.4188         0.5072  ...        2572                 0.0039                0.9569           306.4524    11\n11    zscore_momentum_20       0.1823             0.2540           2.3625         0.5087  ...        2209                 0.0040                0.9663           299.4211    12\n12         macd_enhanced       0.1816             0.2481           2.3542         0.5077  ...        2082                 0.0038                1.3407           390.9714    13\n13          atr_enhanced       0.1805             0.2497           2.3394         0.5030  ...        2416                 0.0038                0.9889           302.9474    14\n14                adx_14       0.1793             0.2265           2.3235         0.5002  ...        2243                 0.0038                1.4030           396.2432    15\n15      volatility_ratio       0.1773             0.2385           2.2979         0.5004  ...        2314                 0.0038                1.1602           312.2000    16\n16          rsi_enhanced       0.1769             0.2215           2.2923         0.5000  ...        2327                 0.0037                1.0083           302.3947    17\n17                cci_14       0.1766             0.2218           2.2889         0.5029  ...        2328                 0.0037                1.1807           390.7368    18\n18    vol_term_structure       0.1752             0.2181           2.2712         0.4984  ...        2090                 0.0038                1.1360           304.0571    19\n19       liquidity_proxy       0.1748             0.2236           2.2662         0.5058  ...        2347                 0.0038                0.9596           328.7436    20\n20               trix_14       0.1729             0.2214           2.2405         0.4923  ...        2265                 0.0035                1.4830           445.6216    21\n21      price_efficiency       0.1728             0.2253           2.2399         0.5070  ...        2576                 0.0037                0.9635           306.2326    22\n22   drawdown_volatility       0.1715             0.2197           2.2224         0.5082  ...        2326                 0.0036                1.4469           425.7500    23\n23  mean_reversion_score       0.1711             0.2020           2.2171         0.5021  ...        2463                 0.0036                1.2107           387.7000    24\n24                 rsi_2       0.1706             0.2146           2.2112         0.5034  ...        2336                 0.0038                1.0456           273.5250    25\n25      aroon_oscillator       0.1704             0.2172           2.2082         0.4959  ...        2200                 0.0035                1.2515           371.0000    26\n26                   vpt       0.1702             0.2398           2.2066         0.4964  ...        2471                 0.0034                1.2650           366.8000    27\n27      volume_intensity       0.1702             0.2111           2.2062         0.5015  ...        2376                 0.0036                0.9962           296.4103    28\n28   volume_ma_deviation       0.1702             0.2111           2.2062         0.5015  ...        2376                 0.0036                0.9962           296.4103    29\n29               rsi_100       0.1681             0.1707           2.1792         0.4996  ...        2077                 0.0034                1.2375           311.6842    30\n30               tema_14       0.1681             0.2458           2.1790         0.4988  ...        2090                 0.0033                1.3951           393.2222    31\n31            bb_squeeze       0.1666             0.2335           2.1590         0.5022  ...        2465                 0.0035                1.4084           410.4250    32\n32              willr_14       0.1663             0.2052           2.1549         0.4993  ...        2199                 0.0036                1.2024           346.2778    33\n33           skewness_60       0.1628             0.1977           2.1104         0.4942  ...        2031                 0.0033                1.2925           327.7429    34\n34       momentum_regime       0.1621             0.1886           2.1017         0.4997  ...         957                 0.0046                0.7552           134.8750    35\n35    momentum_composite       0.1613             0.1890           2.0906         0.5001  ...        1960                 0.0036                1.0607           247.6176    36\n36      smart_money_flow       0.1584             0.1921           2.0528         0.5022  ...        2295                 0.0034                0.9479           293.4737    37\n37            price_jump       0.1580             0.2032           2.0479         0.5008  ...        2299                 0.0034                0.9585           276.1538    38\n38            aroon_down       0.1577             0.1796           2.0441         0.5001  ...        2117                 0.0035                1.2068           284.9730    39\n39        vwap_deviation       0.1570             0.1746           2.0344         0.5003  ...        2494                 0.0034                1.2213           373.1463    40\n40            volume_rsi       0.1561             0.1917           2.0236         0.4938  ...        2704                 0.0032                1.0141           350.0930    41\n41                   cmf       0.1560             0.1504           2.0219         0.5020  ...        1684                 0.0036                0.9986           248.7647    42\n42               kama_14       0.1537             0.2096           1.9926         0.4962  ...        2444                 0.0032                1.5058           439.2564    43\n43               dema_14       0.1531             0.1783           1.9850         0.4959  ...        2356                 0.0031                1.4237           408.0000    44\n44      keltner_position       0.1449             0.1708           1.8785         0.4968  ...        2332                 0.0030                1.2365           372.8158    45\n45                rsi_14       0.1438             0.1577           1.8636         0.4926  ...        2207                 0.0030                1.2100           341.3056    46\n46               ad_line       0.1415             0.1753           1.8343         0.4915  ...        2327                 0.0030                1.2276           363.7179    47\n47                roc_12       0.1412             0.1609           1.8306         0.4986  ...        2264                 0.0029                1.2411           365.1795    48\n48                mfi_14       0.1406             0.1592           1.8222         0.4936  ...        2349                 0.0029                1.2656           380.3077    49\n49        trend_strength       0.1402             0.1781           1.8178         0.4999  ...        2405                 0.0029                1.2798           365.5500    50\n50                  atrp       0.1312             0.1611           1.7002         0.4899  ...        2480                 0.0027                1.1681           342.8718    51\n51                 roc_5       0.1251             0.1458           1.6221         0.4862  ...        2475                 0.0026                1.1293           338.3750    52\n\n[52 rows x 13 columns]",
      "valid_factors": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0            rsi_14_rank       0.3392             0.3535           4.3963         0.5270  ...        1780                 0.0067                1.2198           273.8333     1\n1              atrp_rank       0.3371             0.3780           4.3687         0.5201  ...        1973                 0.0064                1.1953           271.0789     2\n2     macd_enhanced_rank       0.3295             0.3533           4.2710         0.5217  ...        1833                 0.0066                1.3783           313.1081     3\n3    vwap_deviation_rank       0.2767             0.3094           3.5865         0.5152  ...        1834                 0.0056                1.2528           294.0000     4\n4               aroon_up       0.2150             0.2922           2.7866         0.5060  ...        2057                 0.0047                1.2039           278.9722     5\n5              stoch_rsi       0.2051             0.2561           2.6582         0.5164  ...        2013                 0.0047                1.0441           229.7838     6\n6        composite_alpha       0.1930             0.2337           2.5021         0.5035  ...        2491                 0.0041                1.0287           330.6829     7\n7                vw_macd       0.1929             0.2508           2.5006         0.5137  ...        2546                 0.0041                1.1686           415.1220     8\n8               iv_proxy       0.1916             0.2834           2.4835         0.5090  ...        2508                 0.0041                0.9571           306.7073     9\n9              hl_spread       0.1916             0.2834           2.4835         0.5090  ...        2508                 0.0041                0.9571           306.7073    10\n10         parkinson_vol       0.1866             0.2758           2.4188         0.5072  ...        2572                 0.0039                0.9569           306.4524    11\n11    zscore_momentum_20       0.1823             0.2540           2.3625         0.5087  ...        2209                 0.0040                0.9663           299.4211    12\n12         macd_enhanced       0.1816             0.2481           2.3542         0.5077  ...        2082                 0.0038                1.3407           390.9714    13\n13          atr_enhanced       0.1805             0.2497           2.3394         0.5030  ...        2416                 0.0038                0.9889           302.9474    14\n14                adx_14       0.1793             0.2265           2.3235         0.5002  ...        2243                 0.0038                1.4030           396.2432    15\n15      volatility_ratio       0.1773             0.2385           2.2979         0.5004  ...        2314                 0.0038                1.1602           312.2000    16\n16          rsi_enhanced       0.1769             0.2215           2.2923         0.5000  ...        2327                 0.0037                1.0083           302.3947    17\n17                cci_14       0.1766             0.2218           2.2889         0.5029  ...        2328                 0.0037                1.1807           390.7368    18\n18    vol_term_structure       0.1752             0.2181           2.2712         0.4984  ...        2090                 0.0038                1.1360           304.0571    19\n19       liquidity_proxy       0.1748             0.2236           2.2662         0.5058  ...        2347                 0.0038                0.9596           328.7436    20\n20               trix_14       0.1729             0.2214           2.2405         0.4923  ...        2265                 0.0035                1.4830           445.6216    21\n21      price_efficiency       0.1728             0.2253           2.2399         0.5070  ...        2576                 0.0037                0.9635           306.2326    22\n22   drawdown_volatility       0.1715             0.2197           2.2224         0.5082  ...        2326                 0.0036                1.4469           425.7500    23\n23  mean_reversion_score       0.1711             0.2020           2.2171         0.5021  ...        2463                 0.0036                1.2107           387.7000    24\n24                 rsi_2       0.1706             0.2146           2.2112         0.5034  ...        2336                 0.0038                1.0456           273.5250    25\n25      aroon_oscillator       0.1704             0.2172           2.2082         0.4959  ...        2200                 0.0035                1.2515           371.0000    26\n26                   vpt       0.1702             0.2398           2.2066         0.4964  ...        2471                 0.0034                1.2650           366.8000    27\n27      volume_intensity       0.1702             0.2111           2.2062         0.5015  ...        2376                 0.0036                0.9962           296.4103    28\n28   volume_ma_deviation       0.1702             0.2111           2.2062         0.5015  ...        2376                 0.0036                0.9962           296.4103    29\n29               rsi_100       0.1681             0.1707           2.1792         0.4996  ...        2077                 0.0034                1.2375           311.6842    30\n30               tema_14       0.1681             0.2458           2.1790         0.4988  ...        2090                 0.0033                1.3951           393.2222    31\n31            bb_squeeze       0.1666             0.2335           2.1590         0.5022  ...        2465                 0.0035                1.4084           410.4250    32\n32              willr_14       0.1663             0.2052           2.1549         0.4993  ...        2199                 0.0036                1.2024           346.2778    33\n33           skewness_60       0.1628             0.1977           2.1104         0.4942  ...        2031                 0.0033                1.2925           327.7429    34\n34       momentum_regime       0.1621             0.1886           2.1017         0.4997  ...         957                 0.0046                0.7552           134.8750    35\n35    momentum_composite       0.1613             0.1890           2.0906         0.5001  ...        1960                 0.0036                1.0607           247.6176    36\n36      smart_money_flow       0.1584             0.1921           2.0528         0.5022  ...        2295                 0.0034                0.9479           293.4737    37\n37            price_jump       0.1580             0.2032           2.0479         0.5008  ...        2299                 0.0034                0.9585           276.1538    38\n38            aroon_down       0.1577             0.1796           2.0441         0.5001  ...        2117                 0.0035                1.2068           284.9730    39\n39        vwap_deviation       0.1570             0.1746           2.0344         0.5003  ...        2494                 0.0034                1.2213           373.1463    40\n40            volume_rsi       0.1561             0.1917           2.0236         0.4938  ...        2704                 0.0032                1.0141           350.0930    41\n41                   cmf       0.1560             0.1504           2.0219         0.5020  ...        1684                 0.0036                0.9986           248.7647    42\n42               kama_14       0.1537             0.2096           1.9926         0.4962  ...        2444                 0.0032                1.5058           439.2564    43\n43               dema_14       0.1531             0.1783           1.9850         0.4959  ...        2356                 0.0031                1.4237           408.0000    44\n44      keltner_position       0.1449             0.1708           1.8785         0.4968  ...        2332                 0.0030                1.2365           372.8158    45\n45                rsi_14       0.1438             0.1577           1.8636         0.4926  ...        2207                 0.0030                1.2100           341.3056    46\n46               ad_line       0.1415             0.1753           1.8343         0.4915  ...        2327                 0.0030                1.2276           363.7179    47\n47                roc_12       0.1412             0.1609           1.8306         0.4986  ...        2264                 0.0029                1.2411           365.1795    48\n48                mfi_14       0.1406             0.1592           1.8222         0.4936  ...        2349                 0.0029                1.2656           380.3077    49\n49        trend_strength       0.1402             0.1781           1.8178         0.4999  ...        2405                 0.0029                1.2798           365.5500    50\n50                  atrp       0.1312             0.1611           1.7002         0.4899  ...        2480                 0.0027                1.1681           342.8718    51\n51                 roc_5       0.1251             0.1458           1.6221         0.4862  ...        2475                 0.0026                1.1293           338.3750    52\n\n[52 rows x 13 columns]",
      "summary": {
        "tested_symbols": 54,
        "tested_factors": 52,
        "total_evaluations": 2808,
        "valid_factors_count": 52,
        "best_factor": "rsi_14_rank",
        "best_sharpe": 0.3392
      }
    },
    "4h": {
      "timeframe": "4h",
      "cta_results": "       symbol              factor  total_return    sharpe  raw_sharpe  win_rate  ...  trades  avg_trade_return  signal_strength  signal_count                data_quality  annual_factor\n0     0700.HK             trix_14      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 30 (: 20)       1.000000\n1     0700.HK           atrp_rank      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 30 (: 13)       1.000000\n2     0700.HK        atr_enhanced      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 30 (: 27)       1.000000\n3     0700.HK           hl_spread      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 30 (: 26)       1.000000\n4     0700.HK  momentum_composite      0.000000  0.000000    0.000000  0.000000  ...       0          0.000000         0.000000             0  failed: 30 (: 22)       1.000000\n...       ...                 ...           ...       ...         ...       ...  ...     ...               ...              ...           ...                         ...            ...\n2799  1729.HK    volatility_ratio      1.356918  1.143036    7.407723  0.682927  ...      41          0.022092         1.132672           139          good_annual_sharpe       6.480741\n2800  1729.HK            aroon_up      0.679686  0.616050    3.992461  0.627451  ...      51          0.011586         1.039471           123          good_annual_sharpe       6.480741\n2801  1729.HK             kama_14      0.890705  0.798143    5.172555  0.636364  ...      44          0.015760         1.172134           167          good_annual_sharpe       6.480741\n2802  1729.HK    price_efficiency      0.728657  0.693600    4.495039  0.675000  ...      40          0.015235         0.917368           108          good_annual_sharpe       6.480741\n2803  1729.HK                 vpt      0.711816  0.753298    4.881931  0.595238  ...      42          0.013822         1.092704           136          good_annual_sharpe       6.480741\n\n[2804 rows x 14 columns]",
      "factor_ranking": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0    vwap_deviation_rank       0.6048             0.3741           3.9195         0.5424  ...          92                 0.0109                1.0976            80.6667     1\n1            skewness_60       0.4978             0.4051           3.2258         0.5384  ...        1054                 0.0093                1.1007           119.9286     2\n2              atrp_rank       0.4372             0.2494           2.8331         0.4730  ...         165                 0.0080                1.0072            69.2000     3\n3                    cmf       0.4085             0.3012           2.6474         0.5484  ...          31                 0.0103                0.8349            71.0000     4\n4                rsi_100       0.4068             0.2686           2.6364         0.5171  ...         527                 0.0075                1.0828           103.8750     5\n5                trix_14       0.3341             0.3308           2.1649         0.5324  ...        1413                 0.0060                1.2944           191.3548     6\n6         trend_strength       0.3159             0.3023           2.0474         0.5207  ...        1378                 0.0058                1.1875           166.2000     7\n7                kama_14       0.3038             0.2723           1.9691         0.5223  ...        1314                 0.0058                1.2589           176.6000     8\n8    drawdown_volatility       0.2990             0.2633           1.9377         0.5221  ...        1195                 0.0056                1.2544           160.1111     9\n9               willr_14       0.2925             0.2405           1.8955         0.5241  ...        1328                 0.0058                1.0803           139.2812    10\n10      volatility_ratio       0.2910             0.2431           1.8856         0.5214  ...        1500                 0.0056                1.0924           137.0286    11\n11               ad_line       0.2838             0.2884           1.8390         0.5181  ...        1345                 0.0056                1.0635           147.7188    12\n12        vwap_deviation       0.2838             0.2459           1.8390         0.5212  ...        1259                 0.0056                1.0869           145.1290    13\n13             stoch_rsi       0.2822             0.2131           1.8292         0.5180  ...        1100                 0.0053                1.0262           101.7037    14\n14                 rsi_2       0.2820             0.2164           1.8275         0.5212  ...        1395                 0.0055                1.0232           112.0588    15\n15      smart_money_flow       0.2737             0.2323           1.7737         0.5198  ...        1298                 0.0052                0.9086           130.3000    16\n16       liquidity_proxy       0.2714             0.2716           1.7591         0.5104  ...        1518                 0.0051                0.9732           132.0312    17\n17                cci_14       0.2713             0.2107           1.7579         0.5193  ...        1458                 0.0051                1.1116           155.5152    18\n18                adx_14       0.2698             0.2215           1.7486         0.5137  ...        1316                 0.0050                1.2449           163.3333    19\n19          rsi_enhanced       0.2670             0.2308           1.7305         0.5213  ...        1212                 0.0052                0.9213           120.8966    20\n20                rsi_14       0.2659             0.2020           1.7231         0.5132  ...        1174                 0.0051                1.0843           134.6207    21\n21      volume_intensity       0.2658             0.2347           1.7226         0.5095  ...        1146                 0.0053                0.9207           118.6667    22\n22   volume_ma_deviation       0.2658             0.2347           1.7226         0.5095  ...        1146                 0.0053                0.9207           118.6667    23\n23              aroon_up       0.2654             0.2199           1.7199         0.5141  ...        1498                 0.0049                1.0672           137.0000    24\n24            aroon_down       0.2615             0.2086           1.6947         0.5115  ...        1336                 0.0049                1.0812           143.5161    25\n25                mfi_14       0.2612             0.2482           1.6925         0.5086  ...        1311                 0.0050                1.1063           143.2667    26\n26            price_jump       0.2606             0.1899           1.6888         0.5088  ...        1162                 0.0049                0.9112           112.2143    27\n27      price_efficiency       0.2589             0.2365           1.6778         0.5121  ...        1325                 0.0054                0.9066           115.1935    28\n28                 roc_5       0.2581             0.2455           1.6728         0.5112  ...        1430                 0.0049                1.0901           143.3438    29\n29      keltner_position       0.2580             0.2326           1.6719         0.5088  ...        1146                 0.0052                1.0856           140.4483    30\n30    zscore_momentum_20       0.2567             0.2055           1.6636         0.5160  ...        1355                 0.0048                0.9189           127.1250    31\n31                roc_12       0.2528             0.2122           1.6382         0.5170  ...        1341                 0.0051                1.0943           145.2812    32\n32            volume_rsi       0.2466             0.1941           1.5980         0.5160  ...        1620                 0.0046                0.9194           124.5405    33\n33               tema_14       0.2450             0.1990           1.5879         0.5133  ...        1235                 0.0047                1.2294           156.2333    34\n34    vol_term_structure       0.2449             0.2007           1.5872         0.5024  ...        1145                 0.0049                1.0895           116.3704    35\n35    momentum_composite       0.2428             0.1839           1.5732         0.5151  ...        1198                 0.0048                1.0734           106.5000    36\n36      aroon_oscillator       0.2421             0.2059           1.5692         0.5137  ...        1477                 0.0047                1.1161           137.6857    37\n37          atr_enhanced       0.2396             0.1809           1.5529         0.5090  ...        1268                 0.0046                0.9130           118.7000    38\n38              iv_proxy       0.2346             0.2125           1.5201         0.5055  ...        1334                 0.0048                0.9036           120.9032    39\n39             hl_spread       0.2346             0.2125           1.5201         0.5055  ...        1334                 0.0048                0.9036           120.9032    40\n40         parkinson_vol       0.2344             0.2128           1.5189         0.5049  ...        1331                 0.0048                0.9032           120.8710    41\n41       composite_alpha       0.2214             0.1771           1.4346         0.5077  ...        1407                 0.0043                0.9145           132.2727    42\n42            bb_squeeze       0.2158             0.1474           1.3987         0.5093  ...        1339                 0.0038                1.2408           169.6667    43\n43               dema_14       0.2152             0.1702           1.3949         0.5072  ...        1204                 0.0040                1.2405           164.0357    44\n44  mean_reversion_score       0.2038             0.1362           1.3206         0.5080  ...        1378                 0.0039                1.0861           141.5588    45\n45         macd_enhanced       0.1962             0.1568           1.2713         0.5029  ...        1397                 0.0037                1.2072           161.2500    46\n46                   vpt       0.1941             0.1614           1.2577         0.4976  ...        1265                 0.0039                1.0945           148.3226    47\n47               vw_macd       0.1905             0.1518           1.2345         0.5001  ...        1271                 0.0036                0.9832           125.5517    48\n48                  atrp       0.1738             0.1243           1.1267         0.4937  ...        1470                 0.0033                0.9950           119.8485    49\n49    macd_enhanced_rank       0.1234             0.0516           0.7995         0.4591  ...          61                 0.0027                1.2247            95.5000    50\n\n[50 rows x 13 columns]",
      "valid_factors": "                  factor  sharpe_mean  total_return_mean  raw_sharpe_mean  win_rate_mean  ...  trades_sum  avg_trade_return_mean  signal_strength_mean  signal_count_mean  rank\n0    vwap_deviation_rank       0.6048             0.3741           3.9195         0.5424  ...          92                 0.0109                1.0976            80.6667     1\n1            skewness_60       0.4978             0.4051           3.2258         0.5384  ...        1054                 0.0093                1.1007           119.9286     2\n2              atrp_rank       0.4372             0.2494           2.8331         0.4730  ...         165                 0.0080                1.0072            69.2000     3\n3                    cmf       0.4085             0.3012           2.6474         0.5484  ...          31                 0.0103                0.8349            71.0000     4\n4                rsi_100       0.4068             0.2686           2.6364         0.5171  ...         527                 0.0075                1.0828           103.8750     5\n5                trix_14       0.3341             0.3308           2.1649         0.5324  ...        1413                 0.0060                1.2944           191.3548     6\n6         trend_strength       0.3159             0.3023           2.0474         0.5207  ...        1378                 0.0058                1.1875           166.2000     7\n7                kama_14       0.3038             0.2723           1.9691         0.5223  ...        1314                 0.0058                1.2589           176.6000     8\n8    drawdown_volatility       0.2990             0.2633           1.9377         0.5221  ...        1195                 0.0056                1.2544           160.1111     9\n9               willr_14       0.2925             0.2405           1.8955         0.5241  ...        1328                 0.0058                1.0803           139.2812    10\n10      volatility_ratio       0.2910             0.2431           1.8856         0.5214  ...        1500                 0.0056                1.0924           137.0286    11\n11               ad_line       0.2838             0.2884           1.8390         0.5181  ...        1345                 0.0056                1.0635           147.7188    12\n12        vwap_deviation       0.2838             0.2459           1.8390         0.5212  ...        1259                 0.0056                1.0869           145.1290    13\n13             stoch_rsi       0.2822             0.2131           1.8292         0.5180  ...        1100                 0.0053                1.0262           101.7037    14\n14                 rsi_2       0.2820             0.2164           1.8275         0.5212  ...        1395                 0.0055                1.0232           112.0588    15\n15      smart_money_flow       0.2737             0.2323           1.7737         0.5198  ...        1298                 0.0052                0.9086           130.3000    16\n16       liquidity_proxy       0.2714             0.2716           1.7591         0.5104  ...        1518                 0.0051                0.9732           132.0312    17\n17                cci_14       0.2713             0.2107           1.7579         0.5193  ...        1458                 0.0051                1.1116           155.5152    18\n18                adx_14       0.2698             0.2215           1.7486         0.5137  ...        1316                 0.0050                1.2449           163.3333    19\n19          rsi_enhanced       0.2670             0.2308           1.7305         0.5213  ...        1212                 0.0052                0.9213           120.8966    20\n20                rsi_14       0.2659             0.2020           1.7231         0.5132  ...        1174                 0.0051                1.0843           134.6207    21\n21      volume_intensity       0.2658             0.2347           1.7226         0.5095  ...        1146                 0.0053                0.9207           118.6667    22\n22   volume_ma_deviation       0.2658             0.2347           1.7226         0.5095  ...        1146                 0.0053                0.9207           118.6667    23\n23              aroon_up       0.2654             0.2199           1.7199         0.5141  ...        1498                 0.0049                1.0672           137.0000    24\n24            aroon_down       0.2615             0.2086           1.6947         0.5115  ...        1336                 0.0049                1.0812           143.5161    25\n25                mfi_14       0.2612             0.2482           1.6925         0.5086  ...        1311                 0.0050                1.1063           143.2667    26\n26            price_jump       0.2606             0.1899           1.6888         0.5088  ...        1162                 0.0049                0.9112           112.2143    27\n27      price_efficiency       0.2589             0.2365           1.6778         0.5121  ...        1325                 0.0054                0.9066           115.1935    28\n28                 roc_5       0.2581             0.2455           1.6728         0.5112  ...        1430                 0.0049                1.0901           143.3438    29\n29      keltner_position       0.2580             0.2326           1.6719         0.5088  ...        1146                 0.0052                1.0856           140.4483    30\n30    zscore_momentum_20       0.2567             0.2055           1.6636         0.5160  ...        1355                 0.0048                0.9189           127.1250    31\n31                roc_12       0.2528             0.2122           1.6382         0.5170  ...        1341                 0.0051                1.0943           145.2812    32\n32            volume_rsi       0.2466             0.1941           1.5980         0.5160  ...        1620                 0.0046                0.9194           124.5405    33\n33               tema_14       0.2450             0.1990           1.5879         0.5133  ...        1235                 0.0047                1.2294           156.2333    34\n34    vol_term_structure       0.2449             0.2007           1.5872         0.5024  ...        1145                 0.0049                1.0895           116.3704    35\n35    momentum_composite       0.2428             0.1839           1.5732         0.5151  ...        1198                 0.0048                1.0734           106.5000    36\n36      aroon_oscillator       0.2421             0.2059           1.5692         0.5137  ...        1477                 0.0047                1.1161           137.6857    37\n37          atr_enhanced       0.2396             0.1809           1.5529         0.5090  ...        1268                 0.0046                0.9130           118.7000    38\n38              iv_proxy       0.2346             0.2125           1.5201         0.5055  ...        1334                 0.0048                0.9036           120.9032    39\n39             hl_spread       0.2346             0.2125           1.5201         0.5055  ...        1334                 0.0048                0.9036           120.9032    40\n40         parkinson_vol       0.2344             0.2128           1.5189         0.5049  ...        1331                 0.0048                0.9032           120.8710    41\n41       composite_alpha       0.2214             0.1771           1.4346         0.5077  ...        1407                 0.0043                0.9145           132.2727    42\n42            bb_squeeze       0.2158             0.1474           1.3987         0.5093  ...        1339                 0.0038                1.2408           169.6667    43\n43               dema_14       0.2152             0.1702           1.3949         0.5072  ...        1204                 0.0040                1.2405           164.0357    44\n44  mean_reversion_score       0.2038             0.1362           1.3206         0.5080  ...        1378                 0.0039                1.0861           141.5588    45\n45         macd_enhanced       0.1962             0.1568           1.2713         0.5029  ...        1397                 0.0037                1.2072           161.2500    46\n46                   vpt       0.1941             0.1614           1.2577         0.4976  ...        1265                 0.0039                1.0945           148.3226    47\n47               vw_macd       0.1905             0.1518           1.2345         0.5001  ...        1271                 0.0036                0.9832           125.5517    48\n48                  atrp       0.1738             0.1243           1.1267         0.4937  ...        1470                 0.0033                0.9950           119.8485    49\n49    macd_enhanced_rank       0.1234             0.0516           0.7995         0.4591  ...          61                 0.0027                1.2247            95.5000    50\n\n[50 rows x 13 columns]",
      "summary": {
        "tested_symbols": 54,
        "tested_factors": 52,
        "total_evaluations": 2804,
        "valid_factors_count": 50,
        "best_factor": "vwap_deviation_rank",
        "best_sharpe": 0.6048
      }
    },
    "1d": {
      "timeframe": "1d",
      "cta_results": "       symbol              factor  total_return  sharpe  raw_sharpe  win_rate  ...  trades  avg_trade_return  signal_strength  signal_count                data_quality  annual_factor\n0     0700.HK             trix_14           0.0     0.0         0.0       0.0  ...       0               0.0              0.0             0   failed: 30 (: 9)            1.0\n1     0700.HK        atr_enhanced           0.0     0.0         0.0       0.0  ...       0               0.0              0.0             0  failed: 30 (: 11)            1.0\n2     0700.HK           hl_spread           0.0     0.0         0.0       0.0  ...       0               0.0              0.0             0  failed: 30 (: 10)            1.0\n3     0700.HK  momentum_composite           0.0     0.0         0.0       0.0  ...       0               0.0              0.0             0   failed: 30 (: 9)            1.0\n4     0700.HK             dema_14           0.0     0.0         0.0       0.0  ...       0               0.0              0.0             0   failed: 30 (: 7)            1.0\n...       ...                 ...           ...     ...         ...       ...  ...     ...               ...              ...           ...                         ...            ...\n2425  1729.HK    volatility_ratio           0.0     0.0         0.0       0.0  ...       0               0.0              0.0             0  failed: 30 (: 15)            1.0\n2426  1729.HK            aroon_up           0.0     0.0         0.0       0.0  ...       0               0.0              0.0             0  failed: 30 (: 12)            1.0\n2427  1729.HK             kama_14           0.0     0.0         0.0       0.0  ...       0               0.0              0.0             0  failed: 30 (: 18)            1.0\n2428  1729.HK    price_efficiency           0.0     0.0         0.0       0.0  ...       0               0.0              0.0             0  failed: 30 (: 20)            1.0\n2429  1729.HK                 vpt           0.0     0.0         0.0       0.0  ...       0               0.0              0.0             0  failed: 30 (: 19)            1.0\n\n[2430 rows x 14 columns]",
      "factor_ranking": "Empty DataFrame\nColumns: []\nIndex: []",
      "valid_factors": "Empty DataFrame\nColumns: []\nIndex: []",
      "summary": {
        "tested_symbols": 54,
        "tested_factors": 45,
        "total_evaluations": 2430,
        "valid_factors_count": 0,
        "best_factor": null,
        "best_sharpe": 0
      }
    }
  }
}